var sprc = atob('CihmdW5jdGlvbigpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIGlmICh3aW5kb3cuQkNNRSkgdGhyb3cgIkJDTUUgaXMgYWxyZWFkeSBsb2FkZWQiCiAgICB3aW5kb3cuQkNNRSA9IHsKICAgICAgICBWRVJTSU9OOiAiMi4wLjAiLAogICAgICAgIFRBUkdFVF9WRVJTSU9OOiAiUjkwIiwKICAgICAgICBORVhUX01FU1NBR0U6IDEsCiAgICAgICAgUkVUSFJPVzogZmFsc2UsCiAgICAgICAgTE9BREVEOiBmYWxzZSwKICAgICAgICBSRV9USVRMRTogL15bYS16QS1aXSskLywKICAgICAgICBSR0JfTVVURTogIiNGRjMxMzEiLAogICAgICAgIFJHQl9QT0xMWTogIiM5MEVFOTAiLAogICAgICAgIFVUQ19PRkZTRVQ6IG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwICogMTAwMCwKICAgICAgICBISURFX1NQRUNJQUw6IFsiQWN0aXZpdHkiLCJFbW90aWNvbiJdLAogICAgICAgIEhJREVfQk9EWTogWyJCbHVzaCIsIkJvZHlMb3dlciIsIkJvZHlVcHBlciIsIkV5ZWJyb3dzIiwiRXllcyIsIkV5ZXMyIiwiRmFjZSIsIkZsdWlkcyIsIkhhaXJCYWNrIiwiSGFpckZyb250IiwiSGFuZHMiLCJIZWFkIiwiTGVmdEhhbmQiLCJNb3V0aCIsIk5pcHBsZXMiLCJQdXNzeSIsIlJpZ2h0SGFuZCJdLAogICAgICAgIEhJREVfQ0xPVEhFUzogWwogICAgICAgICAgICAiQ2xvdGgiLCJDbG90aEFjY2Vzc29yeSIsIk5lY2tsYWNlIiwiU3VpdCIsIkNsb3RoTG93ZXIiLCJTdWl0TG93ZXIiLCJCcmEiLCJDb3JzZXQiLCJQYW50aWVzIiwKICAgICAgICAgICAgIlNvY2tzIiwiUmlnaHRBbmtsZXQiLCJMZWZ0QW5rbGV0IiwiR2FydGVycyIsIlNob2VzIiwiSGF0IiwiSGFpckFjY2Vzc29yeTMiLCJIYWlyQWNjZXNzb3J5MSIsIkhhaXJBY2Nlc3NvcnkyIiwKICAgICAgICAgICAgIkdsb3ZlcyIsIkJyYWNlbGV0IiwiR2xhc3NlcyIsIk1hc2siLCJUYWlsU3RyYXBzIiwiV2luZ3MiCiAgICAgICAgXSwKICAgICAgICBISURFX0lURU1TOiBbCiAgICAgICAgICAgICJJdGVtTWlzYyIsIkl0ZW1FYXJzIiwiSXRlbUhlYWQiLCJJdGVtTm9zZSIsIkl0ZW1Ib29kIiwiSXRlbUFkZG9uIiwiSXRlbU1vdXRoIiwiSXRlbU1vdXRoMiIsIkl0ZW1Nb3V0aDMiLAogICAgICAgICAgICAiSXRlbUFybXMiLCJJdGVtTmVja0FjY2Vzc29yaWVzIiwiSXRlbU5lY2siLCJJdGVtTmVja1Jlc3RyYWludHMiLCJJdGVtTmlwcGxlcyIsIkl0ZW1OaXBwbGVzUGllcmNpbmdzIiwiSXRlbUJyZWFzdCIsIkl0ZW1Ub3JzbyIsIkl0ZW1Ub3JzbzIiLAogICAgICAgICAgICAiSXRlbUhhbmRzIiwiSXRlbVBlbHZpcyIsIkl0ZW1WdWx2YSIsIkl0ZW1WdWx2YVBpZXJjaW5ncyIsCiAgICAgICAgICAgICJJdGVtRGV2aWNlcyIsIkl0ZW1MZWdzIiwiSXRlbUZlZXQiLCJJdGVtQm9vdHMiCiAgICAgICAgXSwKICAgICAgICBNQVBfQUNUSU9OUzogeyAvL0FjdGl2aXR5RmVtYWxlM0RDRwogICAgICAgICAgICAvLyBhY3Rpb24KICAgICAgICAgICAgIm5vZHx5ZXMiOiAge0hlYWQ6ICAge3NlbGY6ICJOb2QifX0sCiAgICAgICAgICAgICJubyI6ICAgICAgIHtIZWFkOiAgIHtzZWxmOiAiV2lnZ2xlIn19LAogICAgICAgICAgICAibW9hbiI6ICAgICB7TW91dGg6ICB7c2VsZjogIk1vYW5HYWcifX0sCiAgICAgICAgICAgICJtdW1ibGUiOiAgIHtNb3V0aDogIHtzZWxmOiAiTW9hbkdhZ1RhbGsifX0sCiAgICAgICAgICAgICJ3aGltcGVyIjogIHtNb3V0aDogIHtzZWxmOiAiTW9hbkdhZ1doaW1wZXIifX0sCiAgICAgICAgICAgICJncm9hbiI6ICAgIHtNb3V0aDogIHtzZWxmOiAiTW9hbkdhZ0dyb2FuIn19LAogICAgICAgICAgICAic2NyZWFtIjogICB7TW91dGg6ICB7c2VsZjogIk1vYW5HYWdBbmdyeSJ9fSwKICAgICAgICAgICAgImdpZ2dsZSI6ICAge01vdXRoOiAge3NlbGY6ICJNb2FuR2FnR2lnZ2xlIn19LAogICAgICAgICAgICAic3RydWdnbGUiOiB7QXJtczogICB7c2VsZjogIlN0cnVnZ2xlQXJtcyJ9fSwKICAgICAgICAgICAgInRocmFzaCI6ICAge0xlZ3M6ICAge3NlbGY6ICJTdHJ1Z2dsZUxlZ3MifX0sCgogICAgICAgICAgICAvLyBhY3Rpb24gem9uZQogICAgICAgICAgICAid2lnZ2xlfHNoYWtlIjogeyJBcm1zLEJyZWFzdCxCb290cyxCdXR0LEVhcnMsRmVldCxIYW5kcyxOb3NlLFBlbHZpcyxUb3JzbyI6IHtzZWxmOiAiV2lnZ2xlIn19LAoKICAgICAgICAgICAgLy8gYWN0aW9uIHRhcmdldAogICAgICAgICAgICAid2hpc3BlciI6ICB7RWFyczogICB7b3RoZXJzOiAiV2hpc3BlciJ9fSwKICAgICAgICAgICAgImNob2tlIjogICAge05lY2s6ICAge2FsbDogIkNob2tlIn19LAogICAgICAgICAgICAiYnJ1c2giOiAgICB7SGVhZDogICB7YWxsOiAiVGFrZUNhcmUifX0sCiAgICAgICAgICAgICJmcmVuY2giOiAgIHtNb3V0aDogIHtvdGhlcnM6ICJGcmVuY2hLaXNzIn19LAogICAgICAgICAgICAic2l0IjogICAgICB7TGVnczogICB7b3RoZXJzOiAiU2l0In19LAogICAgICAgICAgICAicmltIjogICAgICB7QnV0dDogICB7b3RoZXJzOiAiTWFzdHVyYmF0ZVRvbmd1ZSJ9fSwKICAgICAgICAgICAgInByZXNzIjogICAge0J1dHQ6ICAge290aGVyczogIlN0ZXAifX0sCiAgICAgICAgICAgICJyZXN0IjogICAgIHtUb3JzbzogIHtvdGhlcnM6ICJTdGVwIn19LAogICAgICAgICAgICAicGV0IjogICAgICB7SGVhZDogICB7YWxsOiAiUGV0In19LAogICAgICAgICAgICAiYm9vcCI6ICAgICB7Tm9zZTogICB7YWxsOiAiUGV0In19LAogICAgICAgICAgICAiY3VkZGxlIjogICB7QXJtczogICB7b3RoZXJzOiAiQ3VkZGxlIn19LAogICAgICAgICAgICAibnV6emxlIjogICB7Tm9zZTogICB7b3RoZXJzOiAiQ3VkZGxlIn19LAogICAgICAgICAgICAiZ3JhYiI6ICAgICB7QXJtczogICB7b3RoZXJzOiAiR3JvcGUifX0sCiAgICAgICAgICAgICJjbGVhbiI6ICAgIHtNb3V0aDogIHthbGw6ICJDYXJlc3MifX0sCiAgICAgICAgICAgICJsYXAiOiAgICAgIHtMZWdzOiAgIHtvdGhlcnM6ICJSZXN0SGVhZCJ9fSwKICAgICAgICAgICAgImxlYW4iOiAgICAge0JyZWFzdDoge290aGVyczogIlJlc3RIZWFkIn19LAogICAgICAgICAgICAicGVjayI6ICAgICB7TW91dGg6ICB7b3RoZXJzOiAiUG9saXRlS2lzcyJ9fSwKCiAgICAgICAgICAgIC8vIGFjdGlvbiB6b25lIHRhcmdldAogICAgICAgICAgICAiaXRlbSI6IHsKICAgICAgICAgICAgICAgICJCcmVhc3QsQnV0dCxGZWV0LExlZ3MiOiB7YWxsOiAiU3BhbmtJdGVtfFRpY2tsZUl0ZW18UnViSXRlbXxSb2xsSXRlbXxNYXN0dXJiYXRlSXRlbXxQb3VySXRlbXxTaG9ja0l0ZW18SW5qZWN0In0sCiAgICAgICAgICAgICAgICAiTmlwcGxlcyxQZWx2aXMiOiB7YWxsOiAiU3BhbmtJdGVtfFRpY2tsZUl0ZW18UnViSXRlbXxSb2xsSXRlbXxNYXN0dXJiYXRlSXRlbXxQb3VySXRlbXxTaG9ja0l0ZW0ifSwKICAgICAgICAgICAgICAgIEFybXM6IHthbGw6ICJTcGFua0l0ZW18VGlja2xlSXRlbXxSdWJJdGVtfFJvbGxJdGVtfFBvdXJJdGVtfFNob2NrSXRlbXxJbmplY3QifSwKICAgICAgICAgICAgICAgIEJvb3RzOiB7YWxsOiAiU3BhbmtJdGVtfFRpY2tsZUl0ZW18UnViSXRlbXxSb2xsSXRlbXxQb3VySXRlbXxTaG9ja0l0ZW0ifSwKICAgICAgICAgICAgICAgICJFYXJzLE1vdXRoIjoge2FsbDogIlRpY2tsZUl0ZW18UnViSXRlbXxSb2xsSXRlbSJ9LAogICAgICAgICAgICAgICAgIkhvb2QsTm9zZSI6IHthbGw6ICJUaWNrbGVJdGVtfFJ1Ykl0ZW0ifSwKICAgICAgICAgICAgICAgIE5lY2s6IHthbGw6ICJUaWNrbGVJdGVtfFJ1Ykl0ZW18Um9sbEl0ZW18SW5qZWN0In0sCiAgICAgICAgICAgICAgICBUb3Jzbzoge2FsbDogIlNwYW5rSXRlbXxUaWNrbGVJdGVtfFJ1Ykl0ZW18Um9sbEl0ZW18UG91ckl0ZW18U2hvY2tJdGVtIn0sCiAgICAgICAgICAgICAgICBWdWx2YToge2FsbDogIlNwYW5rSXRlbXxUaWNrbGVJdGVtfFJ1Ykl0ZW18TWFzdHVyYmF0ZUl0ZW18U2hvY2tJdGVtIn0sCiAgICAgICAgICAgICAgICBWdWx2YVBpZXJjaW5nczoge2FsbDogIlNwYW5rSXRlbXxUaWNrbGVJdGVtfFJ1Ykl0ZW18TWFzdHVyYmF0ZUl0ZW18U2hvY2tJdGVtfEluamVjdCJ9LAogICAgICAgICAgICB9LAogICAgICAgICAgICAia2lzcyI6IHsKICAgICAgICAgICAgICAgIE1vdXRoOiB7b3RoZXJzOiAiR2FnS2lzc3xLaXNzfEdhZ2dlZEtpc3MifSwKICAgICAgICAgICAgICAgICJCb290cyxIYW5kcyI6IHtzZWxmOiAiUG9saXRlS2lzcyIsIG90aGVyczogIlBvbGl0ZUtpc3N8R2FnZ2VkS2lzcyJ9LAogICAgICAgICAgICAgICAgIkFybXMsQnJlYXN0LE5pcHBsZXMiOiB7c2VsZjogIktpc3MiLCBvdGhlcnM6ICJLaXNzfEdhZ2dlZEtpc3MifSwKICAgICAgICAgICAgICAgICJCdXR0LEVhcnMsRmVldCxIZWFkLExlZ3MsTmVjayxOb3NlLFBlbHZpcyxUb3JzbyxWdWx2YSxWdWx2YVBpZXJjaW5ncyI6IHtvdGhlcnM6ICJLaXNzfEdhZ2dlZEtpc3MifQogICAgICAgICAgICB9LAogICAgICAgICAgICAic21vb2NoIjogICB7IkhhbmRzLEJvb3RzIjoge2FsbDogIktpc3MifX0sCiAgICAgICAgICAgICJuaWJibGV8Y2hldyI6IHsiQXJtcyxIYW5kcyxCb290cyxNb3V0aCxOaXBwbGVzIjoge2FsbDogIk5pYmJsZSJ9LCAiRWFycyxGZWV0LExlZ3MsTmVjayxOb3NlLFBlbHZpcyxUb3JzZSxWdWx2YSxWdWx2YVBpZXJjaW5ncyI6IHtvdGhlcnM6ICJOaWJibGUifX0sCiAgICAgICAgICAgICJzbGFwfHNwYW5rIjogeyJIZWFkLEJyZWFzdCxWdWx2YSxWdWx2YVBpZXJjaW5ncyI6IHthbGw6ICJTbGFwIn0sICJBcm1zLEJvb3RzLEJ1dHQsRmVldCxIYW5kcyxMZWdzLFBlbHZpcyxUb3JzbyI6IHthbGw6ICJTcGFuayJ9fSwKICAgICAgICAgICAgInRpY2tsZSI6ICAgeyJBcm1zLEJvb3RzLEJyZWFzdCxGZWV0LExlZ3MsTmVjayxQZWx2aXMsVG9yc28iOiB7YWxsOiAiVGlja2xlIn19LAogICAgICAgICAgICAibWFzc2FnZSI6ICB7IkFybXMsQm9vdHMsRmVldCxMZWdzLE5lY2ssUGVsdmlzLFRvcnNvIjoge2FsbDogIk1hc3NhZ2VIYW5kcyJ9fSwKICAgICAgICAgICAgImxpY2siOiAgICAgeyJBcm1zLEJvb3RzLEJyZWFzdCxIYW5kcyxNb3V0aCxOaXBwbGVzIjoge2FsbDogIkxpY2sifSwgIkVhcnMsRmVldCxMZWdzLE5lY2ssTm9zZSxQZWx2aXMsVG9yc28sVnVsdmEsVnVsdmFQaWVyY2luZ3MiOiB7b3RoZXJzOiAiTGljayJ9fSwKICAgICAgICAgICAgInN1Y2siOiAgICAgeyJOaXBwbGVzLEhhbmRzLEJvb3RzIjoge2FsbDogIlN1Y2sifX0sCiAgICAgICAgICAgICJiaXRlIjogICAgIHsiQXJtcyxCb290cyxGZWV0LEhhbmRzLExlZ3MsTW91dGgiOiB7YWxsOiAiQml0ZSJ9LCAiQnJlYXN0LEJ1dHQsRWFycyxIZWFkLE5lY2ssTmlwcGxlcyxOb3NlLFRvcnNvIjoge290aGVyczogIkJpdGUifX0sCiAgICAgICAgICAgICJwaW5jaCI6ICAgIHsiQXJtcyxFYXJzLE5pcHBsZXMsTm9zZSxQZWx2aXMiOiB7YWxsOiAiUGluY2gifX0sCiAgICAgICAgICAgICJjbGFtcCI6ICAgIHtNb3V0aDoge2FsbDogIkhhbmRHYWcifSwgTm9zZToge2FsbDogIkNob2tlIn19LAogICAgICAgICAgICAic3RlcCI6ICAgICB7IkJyZWFzdCxOZWNrLFBlbHZpcyI6IHtvdGhlcnM6ICJTdGVwIn19LAogICAgICAgICAgICAicHVsbCI6ICAgICB7IkhlYWQsTm9zZSxOaXBwbGVzIjoge2FsbDogIlB1bGwifX0sCiAgICAgICAgICAgICJncm9wZSI6ICAgIHsiQnV0dCxCcmVhc3QiOiB7YWxsOiAiR3JvcGUifSwgIkZlZXQsTGVncyxQZWx2aXMiOiB7b3RoZXJzOiAiR3JvcGUifX0sCiAgICAgICAgICAgICJydWIiOiAgICAgIHsiSGVhZCxUb3JzbyI6IHtvdGhlcnM6ICJSdWIifSwgTm9zZToge2FsbDogIlJ1YiJ9LCBMZWdzOiB7c2VsZjogIldpZ2dsZSJ9LCBIYW5kczoge3NlbGY6ICJDYXJlc3MifX0sCiAgICAgICAgICAgICJjYXJlc3MiOiAgIHtIYW5kczoge290aGVyczogIkNhcmVzcyJ9LCAiQXJtcyxCcmVhc3QsQnV0dCxFYXJzLEZlZXQsSGVhZCxMZWdzLE5lY2ssTmlwcGxlcyxOb3NlLFBlbHZpcyxUb3JzbyxWdWx2YSxWdWx2YVBpZXJjaW5ncyI6IHthbGw6ICJDYXJlc3MifX0sCiAgICAgICAgICAgICJwb2xpc2giOiAgIHsiSGFuZHMsQm9vdHMiOiB7YWxsOiAiVGFrZUNhcmUifX0sCiAgICAgICAgICAgICJmb290IjogICAgIHsiSGVhZCxOb3NlIjoge290aGVyczogIlN0ZXAifSwgIlRvcnNvLEJvb3RzIjoge290aGVyczogIk1hc3NhZ2VGZWV0In0sICJWdWx2YSxWdWx2YVBpZXJjaW5ncyI6IHtvdGhlcnM6ICJNYXN0dXJiYXRlRm9vdCJ9fSwKICAgICAgICAgICAgImZpc3QiOiAgICAgeyJWdWx2YSxCdXR0Ijoge2FsbDogIk1hc3R1cmJhdGVGaXN0In19LAogICAgICAgICAgICAiZnVjayI6ICAgICB7Ik1vdXRoLFZ1bHZhLEJ1dHQiOiB7b3RoZXJzOiAiUGVuZXRyYXRlU2xvdyJ9fSwgLy9wZWc/CiAgICAgICAgICAgICJwb3VuZCI6ICAgIHsiTW91dGgsVnVsdmEsQnV0dCI6IHtvdGhlcnM6ICJQZW5ldHJhdGVGYXN0In19LAogICAgICAgICAgICAidG9uZ3VlIjogICB7IlZ1bHZhLFZ1bHZhUGllcmNpbmdzIjoge290aGVyczogIk1hc3R1cmJhdGVUb25ndWUifX0sCiAgICAgICAgICAgICJmaW5nZXIiOiAgIHsiQnJlYXN0LEJ1dHQsVnVsdmEsVnVsdmFQaWVyY2luZ3MiOiB7YWxsOiAiTWFzdHVyYmF0ZUhhbmQifX0sCiAgICAgICAgfSwKICAgICAgICBNQVBfWk9ORVM6IHsKICAgICAgICAgICAgIkl0ZW1Cb290cyI6ICAgICAgICAgIFsiZm9vdCIsICJmZWV0IiwgImJvb3QiLCAiYm9vdHMiLCAic2hvZSIsICJzaG9lcyIsICJ0b2VzIiwgInRvZW5haWxzIiwgInNvbGUiLCAic29sZXMiLCAiaGVlbCIsICJoZWVscyJdLAogICAgICAgICAgICAiSXRlbUZlZXQiOiAgICAgICAgICAgWyJsZWciLCAibGVncyIsICJhbmtsZSIsICJhbmtsZXMiXSwKICAgICAgICAgICAgIkl0ZW1MZWdzIjogICAgICAgICAgIFsiaGlwcyIsICJoaXAiLCAidGhpZ2hzIiwgInRoaWdoIl0sCiAgICAgICAgICAgICJJdGVtVnVsdmEiOiAgICAgICAgICBbInZ1bHZhIiwgInB1c3N5Il0sCiAgICAgICAgICAgICJJdGVtVnVsdmFQaWVyY2luZ3MiOiBbImNsaXQiLCAiY2xpdG9yaXMiXSwKICAgICAgICAgICAgIkl0ZW1CdXR0IjogICAgICAgICAgIFsiYnV0dCIsICJhc3MiXSwKICAgICAgICAgICAgIkl0ZW1QZWx2aXMiOiAgICAgICAgIFsidHVtbXkiLCAicGVsdmlzIl0sCiAgICAgICAgICAgICJJdGVtVG9yc28iOiAgICAgICAgICBbImJvZHkiLCAidG9yc28iLCAiYmFjayIsICJyaWJzIl0sCiAgICAgICAgICAgICJJdGVtQnJlYXN0IjogICAgICAgICBbImJyZWFzdCIsICJicmVhc3RzIiwgImJvb2IiLCAiYm9vYnMiLCAiYm9vYnkiLCAiYm9vYmllIiwgImJvb2JpZXMiLCAidGl0IiwgInRpdHMiLCAidGl0dHkiLCAidGl0dGllIiwgInRpdHRpZXMiXSwKICAgICAgICAgICAgIkl0ZW1OaXBwbGVzIjogICAgICAgIFsibmlwIiwgIm5pcHMiLCAibmlwcGxlIiwgIm5pcHBsZXMiXSwKICAgICAgICAgICAgIkl0ZW1IYW5kcyI6ICAgICAgICAgIFsiaGFuZCIsICJoYW5kcyIsICJmaW5nZXJzIiwgImZpbmdlcm5haWxzIiwgIm5haWxzIl0sCiAgICAgICAgICAgICJJdGVtQXJtcyI6ICAgICAgICAgICBbImFybSIsICJhcm1zIiwgImVsYm93IiwgImVsYm93cyJdLAogICAgICAgICAgICAiSXRlbU5lY2siOiAgICAgICAgICAgWyJuZWNrIl0sCiAgICAgICAgICAgICJJdGVtTW91dGgiOiAgICAgICAgICBbIm1vdXRoIiwgImxpcCIsICJsaXBzIiwgInRlZXRoIiwgInRvbmd1ZSIsICJnYWciLCAiY2hlZWsiLCAiY2hlZWtzIl0sCiAgICAgICAgICAgICJJdGVtTm9zZSI6ICAgICAgICAgICBbIm5vc2UiLCAibm9zdHJpbHMiXSwKICAgICAgICAgICAgIkl0ZW1FYXJzIjogICAgICAgICAgIFsiZWFyIiwgImVhcnMiLCAiZWFybG9iZSIsICJlYXJsb2JlcyJdLAogICAgICAgICAgICAiSXRlbUhlYWQiOiAgICAgICAgICAgWyJoZWFkIiwgImZhY2UiLCAiaGFpciIsICJleWVzIiwgImZvcmVoZWFkIl0sCiAgICAgICAgfSwKICAgICAgICBCQ01FX1RFU1RFUl9QQVRDSEVTOiBbCiAgICAgICAgICAgIFsvXlxeKCdzKT8oICk/L2csICJeU291cmNlQ2hhcmFjdGVyJDFcXHMrIl0sCiAgICAgICAgICAgIFsvKFteXFxdKVwkL2csICIkMVxcLj8kJCJdLAogICAgICAgIF0sCgogICAgICAgIGVuc3VyZTogZnVuY3Rpb24oZXJyb3IsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIGxldCByZXN1bHQgPSBjYWxsYmFjay5jYWxsKHRoaXMpCiAgICAgICAgICAgIGlmICghcmVzdWx0KSB0aHJvdyBlcnJvcgogICAgICAgICAgICByZXR1cm4ocmVzdWx0KQogICAgICAgIH0sCiAgICAgICAgY2FsY3VsYXRlX21hcHM6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aGlzLkRPX0RBVEEgPSB7dmVyYnM6IHt9LCB6b25lczoge319CiAgICAgICAgICAgIGZvciAobGV0IFt2ZXJicywgZGF0YV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5NQVBfQUNUSU9OUykpIHsKICAgICAgICAgICAgICAgIGxldCB1bndvdW5kID0ge30KICAgICAgICAgICAgICAgIGZvciAobGV0IFt6b25lcywgYWN0aW9uc10gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgYWxsID0gKGFjdGlvbnMuYWxsKSA/IGFjdGlvbnMuYWxsLnNwbGl0KCJ8IikgOiBbXQogICAgICAgICAgICAgICAgICAgIGxldCBwcm9jZXNzZWQgPSB7c2VsZjogKGFjdGlvbnMuc2VsZikgPyBhY3Rpb25zLnNlbGYuc3BsaXQoInwiKS5jb25jYXQoYWxsKSA6IGFsbCwgb3RoZXJzOiAoYWN0aW9ucy5vdGhlcnMpID8gYWN0aW9ucy5vdGhlcnMuc3BsaXQoInwiKS5jb25jYXQoYWxsKSA6IGFsbH0KICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB6b25lIG9mIHpvbmVzLnNwbGl0KCIsIikpIHVud291bmRbYEl0ZW0ke3pvbmV9YF0gPSBwcm9jZXNzZWQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAobGV0IHZlcmIgb2YgdmVyYnMuc3BsaXQoInwiKSkgdGhpcy5ET19EQVRBLnZlcmJzW3ZlcmJdID0gdW53b3VuZAogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAobGV0IFthZywgem9uZXNdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuTUFQX1pPTkVTKSkgZm9yIChsZXQgem9uZSBvZiB6b25lcykgdGhpcy5ET19EQVRBLnpvbmVzW3pvbmVdID0gYWcKICAgICAgICB9LAoKICAgICAgICBsb2c6IGZ1bmN0aW9uKGxldmVsLCBtc2cpIHtjb25zb2xlW2xldmVsXSgiTUJDSEM6ICIgKyBTdHJpbmcobXNnKSl9LAogCgogICAgICAgIGNpZDJjaGFyOiBmdW5jdGlvbihjaWQpIHsKICAgICAgICAgICAgY2lkID0gTnVtYmVyLnBhcnNlSW50KGNpZCkKICAgICAgICAgICAgaWYgKGNpZCA9PT0gd2luZG93LlBsYXllci5jaWQpIHJldHVybih3aW5kb3cuUGxheWVyKQogICAgICAgICAgICByZXR1cm4odGhpcy5lbnN1cmUoYGNoYXJhY3RlciAke2NpZH0gbm90IGZvdW5kIGluIHRoZSByb29tYCwgKCkgPT4gd2luZG93LkNoYXRSb29tQ2hhcmFjdGVyLmZpbmQoYyA9PiBjLmNpZCA9PT0gY2lkKSkpCiAgICAgICAgfSwKICAgICAgICBwb3MyY2hhcjogZnVuY3Rpb24ocG9zKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5pbihwb3MsIDAsIHdpbmRvdy5DaGF0Um9vbUNoYXJhY3Rlci5sZW5ndGggLSAxKSkgdGhyb3cgYGludmFsaWQgcG9zaXRpb24gJHtwb3N9YAogICAgICAgICAgICByZXR1cm4od2luZG93LkNoYXRSb29tQ2hhcmFjdGVyW3Bvc10pCiAgICAgICAgfSwKCiAgICAgICAgdGFyZ2V0MmNoYXI6IGZ1bmN0aW9uKHRhcmdldCkgeyAvLyB0YXJnZXQgc2hvdWxkIGJlIGxvd2Nhc2UKICAgICAgICAgICAgbGV0IGlucHV0ID0gdGFyZ2V0CiAgICAgICAgICAgIGlmICh0aGlzLmVtcHR5KHRhcmdldCkpIHJldHVybih3aW5kb3cuUGxheWVyKQogICAgICAgICAgICBsZXQgaW50ID0gTnVtYmVyLnBhcnNlSW50KHRhcmdldCkKICAgICAgICAgICAgdGFyZ2V0ID0gU3RyaW5nKHRhcmdldCkKICAgICAgICAgICAgbGV0IGZvdW5kID0gW10KICAgICAgICAgICAgaWYgKHRhcmdldC5zdGFydHNXaXRoKCI9IikpIHJldHVybih0aGlzLmNpZDJjaGFyKHRhcmdldC5zbGljZSgxKSkpCiAgICAgICAgICAgIGlmICh0YXJnZXQuc3RhcnRzV2l0aCgiPCIpIHx8IHRhcmdldC5zdGFydHNXaXRoKCI+IikpIHJldHVybih0aGlzLnJlbDJjaGFyKHRhcmdldCkpCiAgICAgICAgICAgIGlmICghaXNOYU4oaW50KSAmJiBpbnQudG9TdHJpbmcoKSA9PT0gdGFyZ2V0KSB7IC8vIHdlIGdvdCBhIG51bWJlcgogICAgICAgICAgICAgICAgaWYgKHRoaXMuaW4oaW50LCAwLCA5KSkgcmV0dXJuKHRoaXMucG9zMmNoYXIoaW50KSkKICAgICAgICAgICAgICAgIGlmICh0aGlzLmluKGludCwgMTEsIDE1KSkgcmV0dXJuKHRoaXMucG9zMmNoYXIoaW50IC0gMTEpKQogICAgICAgICAgICAgICAgaWYgKHRoaXMuaW4oaW50LCAyMSwgMjUpKSByZXR1cm4odGhpcy5wb3MyY2hhcihpbnQgLSAxNikpCiAgICAgICAgICAgICAgICBmb3VuZC5wdXNoKC4uLndpbmRvdy5DaGF0Um9vbUNoYXJhY3Rlci5maWx0ZXIoYyA9PiBjLmNpZC50b1N0cmluZygpLmluZGV4T2YodGFyZ2V0KSA+IC0xKSkKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGFyZ2V0LnN0YXJ0c1dpdGgoIkAiKSkgdGFyZ2V0ID0gdGFyZ2V0LnNsaWNlKDEpCiAgICAgICAgICAgIGZvdW5kLnB1c2goLi4ud2luZG93LkNoYXRSb29tQ2hhcmFjdGVyLmZpbHRlcihjID0+IGMuTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpLmluZGV4T2YodGFyZ2V0KSA+IC0xKSkKICAgICAgICAgICAgZm91bmQucHVzaCguLi53aW5kb3cuQ2hhdFJvb21DaGFyYWN0ZXIuZmlsdGVyKGMgPT4gYy5OaWNrbmFtZSAmJiAoYy5OaWNrbmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpLmluZGV4T2YodGFyZ2V0KSA+IC0xKSkpCiAgICAgICAgICAgIGxldCBtYXAgPSB7fQogICAgICAgICAgICBmb3VuZC5mb3JFYWNoKGMgPT4ge2lmICghbWFwW2MuY2lkXSkgbWFwW2MuY2lkXSA9IGN9ICkKICAgICAgICAgICAgZm91bmQgPSBPYmplY3QudmFsdWVzKG1hcCkKICAgICAgICAgICAgaWYgKGZvdW5kLmxlbmd0aCA8IDEpIHRocm93IGB0YXJnZXQgIiR7aW5wdXR9Ijogbm8gbWF0Y2hgCiAgICAgICAgICAgIGlmIChmb3VuZC5sZW5ndGggPiAxKSB0aHJvdyBgdGFyZ2V0ICIke2lucHV0fSI6IG11bHRpcGxlIG1hdGNoZXMgKCR7Zm91bmQubWFwKGMgPT4gYCR7Yy5jaWR9fCR7Yy5OYW1lfXwke2MuTmlja25hbWUgfHwgYy5OYW1lfWApLmpvaW4oIiwiKX0pYAogICAgICAgICAgICByZXR1cm4oZm91bmRbMF0pCiAgICAgICAgfSwKICAgICAgICBjaGFyMnRhcmdldHM6IGZ1bmN0aW9uKGNoYXIpIHsKICAgICAgICAgICAgbGV0IFtyZXN1bHQsIGNpZF0gPSBbbmV3IFNldCgpLCBjaGFyLmNpZC50b1N0cmluZygpXQogICAgICAgICAgICByZXN1bHQuYWRkKGNpZCkuYWRkKGA9JHtjaWR9YCkKICAgICAgICAgICAgdGhpcy50b2tlbmlzZShjaGFyLk5hbWUpLmZvckVhY2godCA9PiB7cmVzdWx0LmFkZCh0KTsgcmVzdWx0LmFkZChgQCR7dH1gKX0pCiAgICAgICAgICAgIGlmIChjaGFyLk5pY2tuYW1lKSB0aGlzLnRva2VuaXNlKGNoYXIuTmlja25hbWUpLmZvckVhY2godCA9PiB7cmVzdWx0LmFkZCh0KTsgcmVzdWx0LmFkZChgQCR7dH1gKX0pCiAgICAgICAgICAgIHJldHVybiByZXN1bHQKICAgICAgICB9LAoKICAgICAgICBzZW5kX2FjdGl2aXR5OiBmdW5jdGlvbihtc2cpIHsKICAgICAgICAgICAgbGV0IGRpY3QgPSBbe1RhZzogIk1JU1NJTkcgUExBWUVSIERJQUxPRzogIiwgVGV4dDogIlx1MjAwQyJ9XSAvLyB6ZXJvLXdpZHRoIG5vbi1qb2luZXIsIHVzZWQgdG8gYnJlYWsgdXAgbGlnYXR1cmVzLCBkb2VzIG5vdGhpbmcgaGVyZSwgYnV0IGFuIGVtcHR5IHN0cmluZyBpcyBhIGZhbHN5IHZhbHVlCiAgICAgICAgICAgIGxldCBjaWRzID0gbXNnLm1hdGNoKHRoaXMuUkVfQUNUX0NJRFMpCiAgICAgICAgICAgIGlmIChjaWRzKSB7CiAgICAgICAgICAgICAgICBtc2cgPSBtc2cucmVwbGFjZSh0aGlzLlJFX0FDVF9DSURTLCAiIikKICAgICAgICAgICAgICAgIGlmIChjaWRzWzFdKSBkaWN0LnB1c2godGhpcy5jaWQyZGljdCgiU291cmNlIiwgY2lkc1sxXSkpCiAgICAgICAgICAgICAgICBpZiAoY2lkc1syXSkgZGljdC5wdXNoKHRoaXMuY2lkMmRpY3QoIlRhcmdldCIsIGNpZHNbMl0pLCB0aGlzLmNpZDJkaWN0KCJEZXN0aW5hdGlvbiIsIGNpZHNbMl0pKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHdpbmRvdy5TZXJ2ZXJTZW5kKCJDaGF0Um9vbUNoYXQiLCB7VHlwZTogIkFjdGlvbiIsIENvbnRlbnQ6IG1zZywgRGljdGlvbmFyeTogZGljdH0pCiAgICAgICAgfSwKICAgICAgICByZWNlaXZlOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgIGxldCBjaGFyID0gdGhpcy5jaWQyY2hhcihkYXRhLlNlbmRlcikKICAgICAgICAgICAgaWYgKGNoYXIuSXNQbGF5ZXIoKSkgcmV0dXJuIHRydWUgLy8gdGhpcyBpcyBvdXIgb3duIG1lc3NhZ2UsIHNlbnQgYmFjayB0byB1cwogICAgICAgICAgICBsZXQgcGF5bG9hZCA9IHRoaXMuZW5zdXJlKCJFbXB0eSBtZXNzYWdlIiwgKCkgPT4gZGF0YS5EaWN0aW9uYXJ5WzBdKQogICAgICAgICAgICBzd2l0Y2ggKHBheWxvYWQudHlwZSkgewogICAgICAgICAgICBjYXNlICJncmVldGluZ3MiOiBjYXNlICJoZWxsbyI6CiAgICAgICAgICAgICAgICBjaGFyLk1CQ0hDID0gcGF5bG9hZC52YWx1ZQogICAgICAgICAgICAgICAgaWYgKCJncmVldGluZ3MiID09PSBwYXlsb2FkLnR5cGUpIHRoaXMuaGVsbG8oY2hhcikKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGRlZmF1bHQ6IC8vIGlmIHdlIGRvbid0IGtub3cgdGhlIHR5cGUgaXQgbWF5IGJlIGZyb20gYSBuZXdlciB2ZXJzaW9uCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICB9LAogICAgICAgIGhlbGxvOiBmdW5jdGlvbihjaGFyID0gbnVsbCkgewogICAgICAgICAgICBsZXQgcGF5bG9hZCA9IHt0eXBlOiAiZ3JlZXRpbmdzIiwgdmFsdWU6IHdpbmRvdy5QbGF5ZXIuTUJDSEN9CiAgICAgICAgICAgIGlmIChjaGFyKSBwYXlsb2FkLnR5cGUgPSAiaGVsbG8iCiAgICAgICAgICAgIGxldCBtZXNzYWdlID0ge0NvbnRlbnQ6ICJNQkNIQyIsIFR5cGU6ICJIaWRkZW4iLCBEaWN0aW9uYXJ5OiBbcGF5bG9hZF19CiAgICAgICAgICAgIGlmIChjaGFyKSBtZXNzYWdlLlRhcmdldCA9IGNoYXIuY2lkCiAgICAgICAgICAgIHdpbmRvdy5TZXJ2ZXJTZW5kKCJDaGF0Um9vbUNoYXQiLCBtZXNzYWdlKQogICAgICAgIH0sCgogICAgICAgIHBsYXllcl9lbnRlcnNfcm9vbTogZnVuY3Rpb24oKSB7IC8vIG9yIGlmIHRoZSBtb2QgaXMgbG9hZGVkIHdoaWxlIHBsYXllciBpcyBpbiB0aGUgcm9vbQogICAgICAgICAgICB0aGlzLmhlbGxvKCkKICAgICAgICB9LAoKICAgICAgICB1cGRhdGVfY2hhcjogZnVuY3Rpb24oY2hhcikgewogICAgICAgICAgICBjaGFyLmNpZCA9IGNoYXIuTWVtYmVyTnVtYmVyIC8vIENsdWIgSUQgKHNob3J0ZXIpCiAgICAgICAgICAgIGNoYXIuZG4gPSB3aW5kb3cuQ2hhcmFjdGVyTmlja25hbWUoY2hhcikgLy8gRGlzcGxheU5hbWUgKHNob3J0Y3V0KQogICAgICAgICAgICBpZiAoIWNoYXIuTUJDSENfTE9DQUwpIGNoYXIuTUJDSENfTE9DQUwgPSB7fQogICAgICAgICAgICBpZiAoIWNoYXIuTUJDSENfTE9DQUwuVFopIGNoYXIuTUJDSENfTE9DQUwuVFogPSB0aGlzLmZpbmRfdGltZXpvbmUoY2hhcikKICAgICAgICB9LAoKCiAgICAgICAgbG9hZGVyKCkgewogICAgICAgICAgICBpZiAodGhpcy5yZW1vdmVfbG9hZF9ob29rKSB7CiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZV9sb2FkX2hvb2soKQogICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucmVtb3ZlX2xvYWRfaG9vawogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLkxPQURFRCkgcmV0dXJuCiAgICAgICAgICAgIC8vIENhbGN1bGF0ZWQgdmFsdWVzCiAgICAgICAgICAgIGNvbnN0IENPTU1BTkRTID0gWwogICAgICAgICAgICAgICAgeyBUYWc6ICJtYmNoYyIsIERlc2NyaXB0aW9uOiAiOiBVdGlsaXR5IGZ1bmN0aW9ucyAoXCIvbWJjaGNcIiBmb3IgaGVscCkiLCBBY3Rpb246IHRoaXMuY29tbWFuZF9tYmNoYywgQXV0b0NvbXBsZXRlOiB0aGlzLmNvbXBsZXRlX21iY2hjIH0sCiAgICAgICAgICAgICAgICB7IFRhZzogImFjdGl2aXR5IiwgRGVzY3JpcHRpb246ICJbTWVzc2FnZV06IFNlbmQgYSBjdXN0b20gYWN0aXZpdHkgKG9yIFwiQEBNZXNzYWdlXCIsIG9yIFwiQE1lc3NhZ2VcIiBhcyB5b3Vyc2VsZikiLCBBY3Rpb246IHRoaXMuY29tbWFuZF9hY3Rpdml0eSB9LAogICAgICAgICAgICAgICAgeyBUYWc6ICJkbyIsIERlc2NyaXB0aW9uOiAiOiBEbyBhbiBhY3Rpdml0eSwgYXMgaWYgY2xpY2tlZCBvbiBpdHMgYnV0dG9uIChcIi9kb1wiIGZvciBoZWxwKSIsIEFjdGlvbjogdGhpcy5jb21tYW5kX2RvLCBBdXRvQ29tcGxldGU6IHRoaXMuY29tcGxldGVfZG8gfSwKICAgICAgICAgICAgXQogICAgICAgICAgICB0aGlzLkhJREVfQUxMID0gdGhpcy5ISURFX1NQRUNJQUwuY29uY2F0KHRoaXMuSElERV9CT0RZKS5jb25jYXQodGhpcy5ISURFX0NMT1RIRVMpLmNvbmNhdCh0aGlzLkhJREVfSVRFTVMpCiAgICAgICAgICAgIHRoaXMuQ29tbWFuZHNLZXkgPSBDb21tYW5kc0tleSAvKiBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmICovIC8vIHdpbmRvdy5Db21tYW5kc0tleSBpcyB1bmRlZmluZWQKICAgICAgICAgICAgdGhpcy5SRV9BQ1RJVklUWSA9IFJlZ0V4cChgXiR7dGhpcy5Db21tYW5kc0tleX1hY3Rpdml0eSBgKQogICAgICAgICAgICB0aGlzLlBSRUZfQUNUSVZJVFkgPSBgJHt0aGlzLkNvbW1hbmRzS2V5fWFjdGl2aXR5IGAKICAgICAgICAgICAgdGhpcy5DT01QX0hJTlQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKQogICAgICAgICAgICB0aGlzLkNPTVBfSElOVC5pZCA9ICJtYmNoY0NvbXBIaW50IgogICAgICAgICAgICBsZXQgY3NzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKQogICAgICAgICAgICBjc3MudHlwZSA9ICJ0ZXh0L2NzcyIKICAgICAgICAgICAgY3NzLnRleHRDb250ZW50ID0gYAogICAgICAgICAgICAgICAgI1RleHRBcmVhQ2hhdExvZyAubWJjaGMsICNUZXh0QXJlYUNoYXRMb2cgLm1iY2hjIHsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoaXMuUkdCX1BPTExZfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICNUZXh0QXJlYUNoYXRMb2dbZGF0YS1jb2xvcnRoZW1lPSJkYXJrIl0gLm1iY2hjLCAjVGV4dEFyZWFDaGF0TG9nW2RhdGEtY29sb3J0aGVtZT0iZGFyazIiXSAubWJjaGMgewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhpcy5SR0JfTVVURX07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAjJHt0aGlzLkNPTVBfSElOVC5pZH0gewogICAgICAgICAgICAgICAgICAgIGZsZXgtZmxvdzogY29sdW1uIHdyYXA7CiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGF1dG87CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoaXMuUkdCX1BPTExZfTsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogYmxhY2s7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAjJHt0aGlzLkNPTVBfSElOVC5pZH1bZGF0YS1jb2xvcnRoZW1lPSJkYXJrIl0sICMke3RoaXMuQ09NUF9ISU5ULmlkfVtkYXRhLWNvbG9ydGhlbWU9ImRhcmsyIl0gewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhpcy5SR0JfTVVURX07CiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIyR7dGhpcy5DT01QX0hJTlQuaWR9IGRpdiB7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwIDAuNWV4OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBgCiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoY3NzKQogICAgICAgICAgICAvLyBBY3Rpb25zCiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlX21hcHMoKQogICAgICAgICAgICB3aW5kb3cuUGxheWVyLk1CQ0hDID0ge1ZFUlNJT046IHRoaXMuVkVSU0lPTn0KICAgICAgICAgICAgd2luZG93LkNvbW1hbmRDb21iaW5lKENPTU1BTkRTKQoKICAgICAgICAgICAgLy8gSG9va3MKICAgICAgICAgICAgdGhpcy5hZnRlcigiQ2hhcmFjdGVyT25saW5lUmVmcmVzaCIsIGNoYXIgPT4gdGhpcy51cGRhdGVfY2hhcihjaGFyKSkKICAgICAgICAgICAgdGhpcy5hZnRlcigiQ2hhdFJvb21SZWNlaXZlU3VpdGNhc2VNb25leSIsICgpID0+IHsKICAgICAgICAgICAgICBpZiAodGhpcy5BVVRPSEFDS19FTkFCTEVEICYmIHRoaXMuTEFTVF9IQUNLRUQpIHsKICAgICAgICAgICAgICAgICB3aW5kb3cuQ3VycmVudENoYXJhY3RlciA9IHRoaXMuY2lkMmNoYXIodGhpcy5MQVNUX0hBQ0tFRCkKICAgICAgICAgICAgICAgICB0aGlzLkxBU1RfSEFDS0VEID0gbnVsbAogICAgICAgICAgICAgICAgIHdpbmRvdy5DaGF0Um9vbVRyeVRvVGFrZVN1aXRjYXNlKCkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCgogICAgICAgICAgICBjb25zdCBSR0JfUE9MTFlfSU1HID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwOTA5MjI5MzYxNDEwOTkwODgvaW1hZ2VfMS5wbmc/d2lkdGg9MTAwJmhlaWdodD05OCI7CiAgICAgICAgICAgIGNvbnN0IFJHQl9NVVRFX0lNRyA9ICJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDkwOTI1ODc3MzA4Njk4Njk1LzY4MWEzODQ4NTU5YWI2M2EucG5nP3dpZHRoPTEwMCZoZWlnaHQ9OTgiOwogICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy5iZWZvcmUoIkNoYXRSb29tRHJhd0NoYXJhY3Rlck92ZXJsYXkiLCAoQywgQ2hhclgsIENoYXJZLCBab29tLCBQb3MpID0+IHsKICAgICAgICAgICAgICBpZiAod2luZG93LkNoYXRSb29tSGlkZUljb25TdGF0ZSA8IDEgJiYgQy5NQkNIQyAmJiB3aW5kb3cuRHJhd1JlY3QpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGljb25JbWcgPSAoQy5NQkNIQy5WRVJTSU9OID09PSB3aW5kb3cuUGxheWVyLk1CQ0hDLlZFUlNJT04pID8gUkdCX1BPTExZX0lNRyA6IFJHQl9NVVRFX0lNRzsKICAgICAgICAgICAgICAgIHdpbmRvdy5EcmF3SW1hZ2UoaWNvbkltZywgQ2hhclggKyAxNzUgKiBab29tLCBDaGFyWSwgNTAgKiBab29tLCA1MCAqIFpvb20pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAod2luZG93LkNoYXRSb29tSGlkZUljb25TdGF0ZSA8IDEgJiYgQy5NQkNIQ19MT0NBTCAmJiAibnVtYmVyIiA9PT0gdHlwZW9mIEMuTUJDSENfTE9DQUwuVFopIHsKICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJzID0gbmV3IERhdGUod2luZG93LkNvbW1vblRpbWUoKSArIHRoaXMuVVRDX09GRlNFVCArIEMuTUJDSENfTE9DQUwuVFogKiA2MCAqIDYwICogMTAwMCkuZ2V0SG91cnMoKTsKICAgICAgICAgICAgICAgIHdpbmRvdy5EcmF3VGV4dEZpdChob3VycyA8IDEwID8gIjAiICsgaG91cnMudG9TdHJpbmcoKSA6IGhvdXJzLnRvU3RyaW5nKCksIENoYXJYICsgMjAwICogWm9vbSwgQ2hhclkgKyAyNSAqIFpvb20sIDQ2ICogWm9vbSwgIndoaXRlIiwgImJsYWNrIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAKICAgICAgICAKICAgICAgICAKICAgICAgICAKCgogICAgICAgICAgICAvLyBDaGF0IHJvb20gaGFuZGxlcnMKCiAgICAgICAgICAgIHdpbmRvdy5DaGF0Um9vbVJlZ2lzdGVyTWVzc2FnZUhhbmRsZXIoeyBQcmlvcml0eTogLTIxOSwgRGVzY3JpcHRpb246ICJCQ01FIHJvb20gZW50ZXIgaG9vayIsCiAgICAgICAgICAgICAgICBDYWxsYmFjazogKGRhdGEsIHNlbmRlciwgbXNnLCBtZXRhZGF0YSkgPT4geyBpZiAoKCJBY3Rpb24iID09PSBkYXRhLlR5cGUpICYmICgiU2VydmVyRW50ZXIiID09PSBkYXRhLkNvbnRlbnQpICYmIChkYXRhLlNlbmRlciA9PT0gd2luZG93LlBsYXllci5jaWQpKSB0aGlzLnBsYXllcl9lbnRlcnNfcm9vbSgpIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgd2luZG93LkNoYXRSb29tUmVnaXN0ZXJNZXNzYWdlSGFuZGxlcih7IFByaW9yaXR5OiAtMjE5LCBEZXNjcmlwdGlvbjogIkJDTUUgc3BlY2lmaWMgY29uc3VtZXIiLAogICAgICAgICAgICAgICAgQ2FsbGJhY2s6IChkYXRhLCBzZW5kZXIsIG1zZywgbWV0YWRhdGEpID0+IHsgaWYgKCgiSGlkZGVuIiA9PT0gZGF0YS5UeXBlKSAmJiAoIk1CQ0hDIiA9PT0gZGF0YS5Db250ZW50KSkgcmV0dXJuIHRoaXMucmVjZWl2ZShkYXRhKSB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHdpbmRvdy5DaGF0Um9vbVJlZ2lzdGVyTWVzc2FnZUhhbmRsZXIoeyBQcmlvcml0eTogLTIxOSwgRGVzY3JpcHRpb246ICJCQ01FIGF1dG9oYWNrIGxvb2t1cCIsCiAgICAgICAgICAgICAgICBDYWxsYmFjazogKGRhdGEsIHNlbmRlciwgbXNnLCBtZXRhZGF0YSkgPT4geyBpZiAoKCJIaWRkZW4iID09PSBkYXRhLlR5cGUpICYmICgiUmVjZWl2ZVN1aXRjYXNlTW9uZXkiID09PSBkYXRhLkNvbnRlbnQpKSB0aGlzLkxBU1RfSEFDS0VEID0gZGF0YS5TZW5kZXIgfQogICAgICAgICAgICB9KQoKICAgICAgICAgICAgLy8gZm9vdGVyCiAgICAgICAgICAgIHRoaXMuTE9BREVEID0gdHJ1ZQogICAgICAgICAgICB0aGlzLmxvZygiaW5mbyIsIGBsb2FkZWQgdmVyc2lvbiAke3RoaXMuVkVSU0lPTn1gKQogICAgICAgICAgICBpZiAod2luZG93LkdhbWVWZXJzaW9uICE9PSB0aGlzLlRBUkdFVF9WRVJTSU9OKSB0aGlzLmxvZygid2FybiIsIGBHYW1lIHZlcnNpb24gZG9lc24ndCBtYXRjaCB0aGUgdGFyZ2V0ICgiJHt0aGlzLlRBUkdFVF9WRVJTSU9OfSIpLCBiZXdhcmUgb2YgaW5jb21wYXRpYmlsaXRpZXNgKSAvLyBUT0RPOiBiZXRhcyBhcmUgbGlrZSBSODZCZXRhMTsgY2hlYXQ/CiAgICAgICAgICAgIGlmICgoIk9ubGluZSIgPT09IHdpbmRvdy5DdXJyZW50TW9kdWxlKSAmJiAoIkNoYXRSb29tIiA9PT0gd2luZG93LkN1cnJlbnRTY3JlZW4pKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cuQ2hhdFJvb21DaGFyYWN0ZXIuZm9yRWFjaChjID0+IHRoaXMudXBkYXRlX2NoYXIoYykpCiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcl9lbnRlcnNfcm9vbSgpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHByZWxvYWRlcigpIHsKICAgICAgICAgICAgdGhpcy5TREsgPSB3aW5kb3cuYmNNb2RTZGsucmVnaXN0ZXJNb2Qoe25hbWU6IkJDTUUiLGZ1bGxOYW1lOiJCb25kYWdlIENsdWIgTW9kcyBFc3NlbnRpYWxzIix2ZXJzaW9uOnRoaXMuVkVSU0lPTixyZXBvc2l0b3J5OiJodHRwczovL2JjbS5zaXRlLmxpdmUvYmNtZS8ifSkKICAgICAgICAgICAgdGhpcy5iZWZvcmUgPSAobmFtZSwgY2IpID0+IHRoaXMuU0RLLmhvb2tGdW5jdGlvbihuYW1lLCAwLCAobmV4dGFyZ3MsbmV4dCkgPT4ge3RyeSB7Y2I/LiguLi5uZXh0YXJncyl9IGNhdGNoICh4KSB7Y29uc29sZS5lcnJvcih4KX0gZmluYWxseSB7cmV0dXJuIG5leHQobmV4dGFyZ3MpfX0pCiAgICAgICAgICAgIHRoaXMuYWZ0ZXIgPSAobmFtZSwgY2IpID0+IHRoaXMuU0RLLmhvb2tGdW5jdGlvbihuYW1lLCAwLCAobmV4dGFyZ3MsbmV4dCkgPT4ge2NvbnN0IHJlc3VsdCA9IG5leHQobmV4dGFyZ3MpOyB0cnkge2NiPy4oLi4ubmV4dGFyZ3MpfSBjYXRjaCAoeCkge2NvbnNvbGUuZXJyb3IoeCl9IGZpbmFsbHkge3JldHVybiByZXN1bHR9fSkKICAgICAgICAgICAgaWYgKHdpbmRvdy5DdXJyZW50TW9kdWxlICYmIHdpbmRvdy5DdXJyZW50U2NyZWVuICYmICEoIkNoYXJhY3RlciIgPT09IHdpbmRvdy5DdXJyZW50TW9kdWxlICYmICJMb2dpbiIgPT09IHdpbmRvdy5DdXJyZW50U2NyZWVuKSkgcmV0dXJuIHRoaXMubG9hZGVyKCkKICAgICAgICAgICAgdGhpcy5yZW1vdmVfbG9hZF9ob29rID0gdGhpcy5iZWZvcmUoIkFzeWx1bUdHVFNTQWRkSXRlbXMiLCAoKSA9PiB0aGlzLmxvYWRlcigpKQogICAgICAgIH0KICAgIH0gLy8gTUJDSEMKCiAgICBmZXRjaCgiaHR0cHM6Ly9jb2RlLmZsZXNobGVzcy5vcmcvbXV0ZS9NQkNIQy9yYXcvYnJhbmNoL21hc3Rlci9ib25kYWdlLWNsdWItbW9kLXNkay0xLjEuMC5qcyIpLnRoZW4ocj0+ci50ZXh0KCkpLnRoZW4ocj0+ZXZhbChyKSkudGhlbihfPT53aW5kb3cuQkNNRS5wcmVsb2FkZXIoKSkuY2F0Y2goeD0+Y29uc29sZS5lcnJvcih4KSkgLyogZXNsaW50LWRpc2FibGUtbGluZSBuby1ldmFsICovCn0pKCk=')
if (sprc) {
eval(sprc);
}
/*
1
*/
