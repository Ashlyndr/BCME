var sprc = atob('CihmdW5jdGlvbigpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIGlmICh3aW5kb3cuQkNNRSkgdGhyb3cgIkJDTUUgaXMgYWxyZWFkeSBsb2FkZWQiCiAgICB3aW5kb3cuQkNNRSA9IHsKICAgICAgICBWRVJTSU9OOiAiMi4wLjAiLAogICAgICAgIFRBUkdFVF9WRVJTSU9OOiAiUjkwIiwKICAgICAgICBORVhUX01FU1NBR0U6IDEsCiAgICAgICAgUkVUSFJPVzogZmFsc2UsCiAgICAgICAgTE9BREVEOiBmYWxzZSwKICAgICAgICBSRV9USVRMRTogL15bYS16QS1aXSskLywKICAgICAgICBSR0JfTVVURTogIiNGRjMxMzEiLAogICAgICAgIFJHQl9QT0xMWTogIiM5MEVFOTAiLAogICAgICAgIFVUQ19PRkZTRVQ6IG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwICogMTAwMCwKICAgICAgICBISURFX1NQRUNJQUw6IFsiQWN0aXZpdHkiLCJFbW90aWNvbiJdLAogICAgICAgIEhJREVfQk9EWTogWyJCbHVzaCIsIkJvZHlMb3dlciIsIkJvZHlVcHBlciIsIkV5ZWJyb3dzIiwiRXllcyIsIkV5ZXMyIiwiRmFjZSIsIkZsdWlkcyIsIkhhaXJCYWNrIiwiSGFpckZyb250IiwiSGFuZHMiLCJIZWFkIiwiTGVmdEhhbmQiLCJNb3V0aCIsIk5pcHBsZXMiLCJQdXNzeSIsIlJpZ2h0SGFuZCJdLAogICAgICAgIEhJREVfQ0xPVEhFUzogWwogICAgICAgICAgICAiQ2xvdGgiLCJDbG90aEFjY2Vzc29yeSIsIk5lY2tsYWNlIiwiU3VpdCIsIkNsb3RoTG93ZXIiLCJTdWl0TG93ZXIiLCJCcmEiLCJDb3JzZXQiLCJQYW50aWVzIiwKICAgICAgICAgICAgIlNvY2tzIiwiUmlnaHRBbmtsZXQiLCJMZWZ0QW5rbGV0IiwiR2FydGVycyIsIlNob2VzIiwiSGF0IiwiSGFpckFjY2Vzc29yeTMiLCJIYWlyQWNjZXNzb3J5MSIsIkhhaXJBY2Nlc3NvcnkyIiwKICAgICAgICAgICAgIkdsb3ZlcyIsIkJyYWNlbGV0IiwiR2xhc3NlcyIsIk1hc2siLCJUYWlsU3RyYXBzIiwiV2luZ3MiCiAgICAgICAgXSwKICAgICAgICBISURFX0lURU1TOiBbCiAgICAgICAgICAgICJJdGVtTWlzYyIsIkl0ZW1FYXJzIiwiSXRlbUhlYWQiLCJJdGVtTm9zZSIsIkl0ZW1Ib29kIiwiSXRlbUFkZG9uIiwiSXRlbU1vdXRoIiwiSXRlbU1vdXRoMiIsIkl0ZW1Nb3V0aDMiLAogICAgICAgICAgICAiSXRlbUFybXMiLCJJdGVtTmVja0FjY2Vzc29yaWVzIiwiSXRlbU5lY2siLCJJdGVtTmVja1Jlc3RyYWludHMiLCJJdGVtTmlwcGxlcyIsIkl0ZW1OaXBwbGVzUGllcmNpbmdzIiwiSXRlbUJyZWFzdCIsIkl0ZW1Ub3JzbyIsIkl0ZW1Ub3JzbzIiLAogICAgICAgICAgICAiSXRlbUhhbmRzIiwiSXRlbVBlbHZpcyIsIkl0ZW1WdWx2YSIsIkl0ZW1WdWx2YVBpZXJjaW5ncyIsCiAgICAgICAgICAgICJJdGVtRGV2aWNlcyIsIkl0ZW1MZWdzIiwiSXRlbUZlZXQiLCJJdGVtQm9vdHMiCiAgICAgICAgXSwKICAgICAgICBNQVBfQUNUSU9OUzogeyAvL0FjdGl2aXR5RmVtYWxlM0RDRwogICAgICAgICAgICAvLyBhY3Rpb24KICAgICAgICAgICAgIm5vZHx5ZXMiOiAge0hlYWQ6ICAge3NlbGY6ICJOb2QifX0sCiAgICAgICAgICAgICJubyI6ICAgICAgIHtIZWFkOiAgIHtzZWxmOiAiV2lnZ2xlIn19LAogICAgICAgICAgICAibW9hbiI6ICAgICB7TW91dGg6ICB7c2VsZjogIk1vYW5HYWcifX0sCiAgICAgICAgICAgICJtdW1ibGUiOiAgIHtNb3V0aDogIHtzZWxmOiAiTW9hbkdhZ1RhbGsifX0sCiAgICAgICAgICAgICJ3aGltcGVyIjogIHtNb3V0aDogIHtzZWxmOiAiTW9hbkdhZ1doaW1wZXIifX0sCiAgICAgICAgICAgICJncm9hbiI6ICAgIHtNb3V0aDogIHtzZWxmOiAiTW9hbkdhZ0dyb2FuIn19LAogICAgICAgICAgICAic2NyZWFtIjogICB7TW91dGg6ICB7c2VsZjogIk1vYW5HYWdBbmdyeSJ9fSwKICAgICAgICAgICAgImdpZ2dsZSI6ICAge01vdXRoOiAge3NlbGY6ICJNb2FuR2FnR2lnZ2xlIn19LAogICAgICAgICAgICAic3RydWdnbGUiOiB7QXJtczogICB7c2VsZjogIlN0cnVnZ2xlQXJtcyJ9fSwKICAgICAgICAgICAgInRocmFzaCI6ICAge0xlZ3M6ICAge3NlbGY6ICJTdHJ1Z2dsZUxlZ3MifX0sCgogICAgICAgICAgICAvLyBhY3Rpb24gem9uZQogICAgICAgICAgICAid2lnZ2xlfHNoYWtlIjogeyJBcm1zLEJyZWFzdCxCb290cyxCdXR0LEVhcnMsRmVldCxIYW5kcyxOb3NlLFBlbHZpcyxUb3JzbyI6IHtzZWxmOiAiV2lnZ2xlIn19LAoKICAgICAgICAgICAgLy8gYWN0aW9uIHRhcmdldAogICAgICAgICAgICAid2hpc3BlciI6ICB7RWFyczogICB7b3RoZXJzOiAiV2hpc3BlciJ9fSwKICAgICAgICAgICAgImNob2tlIjogICAge05lY2s6ICAge2FsbDogIkNob2tlIn19LAogICAgICAgICAgICAiYnJ1c2giOiAgICB7SGVhZDogICB7YWxsOiAiVGFrZUNhcmUifX0sCiAgICAgICAgICAgICJmcmVuY2giOiAgIHtNb3V0aDogIHtvdGhlcnM6ICJGcmVuY2hLaXNzIn19LAogICAgICAgICAgICAic2l0IjogICAgICB7TGVnczogICB7b3RoZXJzOiAiU2l0In19LAogICAgICAgICAgICAicmltIjogICAgICB7QnV0dDogICB7b3RoZXJzOiAiTWFzdHVyYmF0ZVRvbmd1ZSJ9fSwKICAgICAgICAgICAgInByZXNzIjogICAge0J1dHQ6ICAge290aGVyczogIlN0ZXAifX0sCiAgICAgICAgICAgICJyZXN0IjogICAgIHtUb3JzbzogIHtvdGhlcnM6ICJTdGVwIn19LAogICAgICAgICAgICAicGV0IjogICAgICB7SGVhZDogICB7YWxsOiAiUGV0In19LAogICAgICAgICAgICAiYm9vcCI6ICAgICB7Tm9zZTogICB7YWxsOiAiUGV0In19LAogICAgICAgICAgICAiY3VkZGxlIjogICB7QXJtczogICB7b3RoZXJzOiAiQ3VkZGxlIn19LAogICAgICAgICAgICAibnV6emxlIjogICB7Tm9zZTogICB7b3RoZXJzOiAiQ3VkZGxlIn19LAogICAgICAgICAgICAiZ3JhYiI6ICAgICB7QXJtczogICB7b3RoZXJzOiAiR3JvcGUifX0sCiAgICAgICAgICAgICJjbGVhbiI6ICAgIHtNb3V0aDogIHthbGw6ICJDYXJlc3MifX0sCiAgICAgICAgICAgICJsYXAiOiAgICAgIHtMZWdzOiAgIHtvdGhlcnM6ICJSZXN0SGVhZCJ9fSwKICAgICAgICAgICAgImxlYW4iOiAgICAge0JyZWFzdDoge290aGVyczogIlJlc3RIZWFkIn19LAogICAgICAgICAgICAicGVjayI6ICAgICB7TW91dGg6ICB7b3RoZXJzOiAiUG9saXRlS2lzcyJ9fSwKCiAgICAgICAgICAgIC8vIGFjdGlvbiB6b25lIHRhcmdldAogICAgICAgICAgICAiaXRlbSI6IHsKICAgICAgICAgICAgICAgICJCcmVhc3QsQnV0dCxGZWV0LExlZ3MiOiB7YWxsOiAiU3BhbmtJdGVtfFRpY2tsZUl0ZW18UnViSXRlbXxSb2xsSXRlbXxNYXN0dXJiYXRlSXRlbXxQb3VySXRlbXxTaG9ja0l0ZW18SW5qZWN0In0sCiAgICAgICAgICAgICAgICAiTmlwcGxlcyxQZWx2aXMiOiB7YWxsOiAiU3BhbmtJdGVtfFRpY2tsZUl0ZW18UnViSXRlbXxSb2xsSXRlbXxNYXN0dXJiYXRlSXRlbXxQb3VySXRlbXxTaG9ja0l0ZW0ifSwKICAgICAgICAgICAgICAgIEFybXM6IHthbGw6ICJTcGFua0l0ZW18VGlja2xlSXRlbXxSdWJJdGVtfFJvbGxJdGVtfFBvdXJJdGVtfFNob2NrSXRlbXxJbmplY3QifSwKICAgICAgICAgICAgICAgIEJvb3RzOiB7YWxsOiAiU3BhbmtJdGVtfFRpY2tsZUl0ZW18UnViSXRlbXxSb2xsSXRlbXxQb3VySXRlbXxTaG9ja0l0ZW0ifSwKICAgICAgICAgICAgICAgICJFYXJzLE1vdXRoIjoge2FsbDogIlRpY2tsZUl0ZW18UnViSXRlbXxSb2xsSXRlbSJ9LAogICAgICAgICAgICAgICAgIkhvb2QsTm9zZSI6IHthbGw6ICJUaWNrbGVJdGVtfFJ1Ykl0ZW0ifSwKICAgICAgICAgICAgICAgIE5lY2s6IHthbGw6ICJUaWNrbGVJdGVtfFJ1Ykl0ZW18Um9sbEl0ZW18SW5qZWN0In0sCiAgICAgICAgICAgICAgICBUb3Jzbzoge2FsbDogIlNwYW5rSXRlbXxUaWNrbGVJdGVtfFJ1Ykl0ZW18Um9sbEl0ZW18UG91ckl0ZW18U2hvY2tJdGVtIn0sCiAgICAgICAgICAgICAgICBWdWx2YToge2FsbDogIlNwYW5rSXRlbXxUaWNrbGVJdGVtfFJ1Ykl0ZW18TWFzdHVyYmF0ZUl0ZW18U2hvY2tJdGVtIn0sCiAgICAgICAgICAgICAgICBWdWx2YVBpZXJjaW5nczoge2FsbDogIlNwYW5rSXRlbXxUaWNrbGVJdGVtfFJ1Ykl0ZW18TWFzdHVyYmF0ZUl0ZW18U2hvY2tJdGVtfEluamVjdCJ9LAogICAgICAgICAgICB9LAogICAgICAgICAgICAia2lzcyI6IHsKICAgICAgICAgICAgICAgIE1vdXRoOiB7b3RoZXJzOiAiR2FnS2lzc3xLaXNzfEdhZ2dlZEtpc3MifSwKICAgICAgICAgICAgICAgICJCb290cyxIYW5kcyI6IHtzZWxmOiAiUG9saXRlS2lzcyIsIG90aGVyczogIlBvbGl0ZUtpc3N8R2FnZ2VkS2lzcyJ9LAogICAgICAgICAgICAgICAgIkFybXMsQnJlYXN0LE5pcHBsZXMiOiB7c2VsZjogIktpc3MiLCBvdGhlcnM6ICJLaXNzfEdhZ2dlZEtpc3MifSwKICAgICAgICAgICAgICAgICJCdXR0LEVhcnMsRmVldCxIZWFkLExlZ3MsTmVjayxOb3NlLFBlbHZpcyxUb3JzbyxWdWx2YSxWdWx2YVBpZXJjaW5ncyI6IHtvdGhlcnM6ICJLaXNzfEdhZ2dlZEtpc3MifQogICAgICAgICAgICB9LAogICAgICAgICAgICAic21vb2NoIjogICB7IkhhbmRzLEJvb3RzIjoge2FsbDogIktpc3MifX0sCiAgICAgICAgICAgICJuaWJibGV8Y2hldyI6IHsiQXJtcyxIYW5kcyxCb290cyxNb3V0aCxOaXBwbGVzIjoge2FsbDogIk5pYmJsZSJ9LCAiRWFycyxGZWV0LExlZ3MsTmVjayxOb3NlLFBlbHZpcyxUb3JzZSxWdWx2YSxWdWx2YVBpZXJjaW5ncyI6IHtvdGhlcnM6ICJOaWJibGUifX0sCiAgICAgICAgICAgICJzbGFwfHNwYW5rIjogeyJIZWFkLEJyZWFzdCxWdWx2YSxWdWx2YVBpZXJjaW5ncyI6IHthbGw6ICJTbGFwIn0sICJBcm1zLEJvb3RzLEJ1dHQsRmVldCxIYW5kcyxMZWdzLFBlbHZpcyxUb3JzbyI6IHthbGw6ICJTcGFuayJ9fSwKICAgICAgICAgICAgInRpY2tsZSI6ICAgeyJBcm1zLEJvb3RzLEJyZWFzdCxGZWV0LExlZ3MsTmVjayxQZWx2aXMsVG9yc28iOiB7YWxsOiAiVGlja2xlIn19LAogICAgICAgICAgICAibWFzc2FnZSI6ICB7IkFybXMsQm9vdHMsRmVldCxMZWdzLE5lY2ssUGVsdmlzLFRvcnNvIjoge2FsbDogIk1hc3NhZ2VIYW5kcyJ9fSwKICAgICAgICAgICAgImxpY2siOiAgICAgeyJBcm1zLEJvb3RzLEJyZWFzdCxIYW5kcyxNb3V0aCxOaXBwbGVzIjoge2FsbDogIkxpY2sifSwgIkVhcnMsRmVldCxMZWdzLE5lY2ssTm9zZSxQZWx2aXMsVG9yc28sVnVsdmEsVnVsdmFQaWVyY2luZ3MiOiB7b3RoZXJzOiAiTGljayJ9fSwKICAgICAgICAgICAgInN1Y2siOiAgICAgeyJOaXBwbGVzLEhhbmRzLEJvb3RzIjoge2FsbDogIlN1Y2sifX0sCiAgICAgICAgICAgICJiaXRlIjogICAgIHsiQXJtcyxCb290cyxGZWV0LEhhbmRzLExlZ3MsTW91dGgiOiB7YWxsOiAiQml0ZSJ9LCAiQnJlYXN0LEJ1dHQsRWFycyxIZWFkLE5lY2ssTmlwcGxlcyxOb3NlLFRvcnNvIjoge290aGVyczogIkJpdGUifX0sCiAgICAgICAgICAgICJwaW5jaCI6ICAgIHsiQXJtcyxFYXJzLE5pcHBsZXMsTm9zZSxQZWx2aXMiOiB7YWxsOiAiUGluY2gifX0sCiAgICAgICAgICAgICJjbGFtcCI6ICAgIHtNb3V0aDoge2FsbDogIkhhbmRHYWcifSwgTm9zZToge2FsbDogIkNob2tlIn19LAogICAgICAgICAgICAic3RlcCI6ICAgICB7IkJyZWFzdCxOZWNrLFBlbHZpcyI6IHtvdGhlcnM6ICJTdGVwIn19LAogICAgICAgICAgICAicHVsbCI6ICAgICB7IkhlYWQsTm9zZSxOaXBwbGVzIjoge2FsbDogIlB1bGwifX0sCiAgICAgICAgICAgICJncm9wZSI6ICAgIHsiQnV0dCxCcmVhc3QiOiB7YWxsOiAiR3JvcGUifSwgIkZlZXQsTGVncyxQZWx2aXMiOiB7b3RoZXJzOiAiR3JvcGUifX0sCiAgICAgICAgICAgICJydWIiOiAgICAgIHsiSGVhZCxUb3JzbyI6IHtvdGhlcnM6ICJSdWIifSwgTm9zZToge2FsbDogIlJ1YiJ9LCBMZWdzOiB7c2VsZjogIldpZ2dsZSJ9LCBIYW5kczoge3NlbGY6ICJDYXJlc3MifX0sCiAgICAgICAgICAgICJjYXJlc3MiOiAgIHtIYW5kczoge290aGVyczogIkNhcmVzcyJ9LCAiQXJtcyxCcmVhc3QsQnV0dCxFYXJzLEZlZXQsSGVhZCxMZWdzLE5lY2ssTmlwcGxlcyxOb3NlLFBlbHZpcyxUb3JzbyxWdWx2YSxWdWx2YVBpZXJjaW5ncyI6IHthbGw6ICJDYXJlc3MifX0sCiAgICAgICAgICAgICJwb2xpc2giOiAgIHsiSGFuZHMsQm9vdHMiOiB7YWxsOiAiVGFrZUNhcmUifX0sCiAgICAgICAgICAgICJmb290IjogICAgIHsiSGVhZCxOb3NlIjoge290aGVyczogIlN0ZXAifSwgIlRvcnNvLEJvb3RzIjoge290aGVyczogIk1hc3NhZ2VGZWV0In0sICJWdWx2YSxWdWx2YVBpZXJjaW5ncyI6IHtvdGhlcnM6ICJNYXN0dXJiYXRlRm9vdCJ9fSwKICAgICAgICAgICAgImZpc3QiOiAgICAgeyJWdWx2YSxCdXR0Ijoge2FsbDogIk1hc3R1cmJhdGVGaXN0In19LAogICAgICAgICAgICAiZnVjayI6ICAgICB7Ik1vdXRoLFZ1bHZhLEJ1dHQiOiB7b3RoZXJzOiAiUGVuZXRyYXRlU2xvdyJ9fSwgLy9wZWc/CiAgICAgICAgICAgICJwb3VuZCI6ICAgIHsiTW91dGgsVnVsdmEsQnV0dCI6IHtvdGhlcnM6ICJQZW5ldHJhdGVGYXN0In19LAogICAgICAgICAgICAidG9uZ3VlIjogICB7IlZ1bHZhLFZ1bHZhUGllcmNpbmdzIjoge290aGVyczogIk1hc3R1cmJhdGVUb25ndWUifX0sCiAgICAgICAgICAgICJmaW5nZXIiOiAgIHsiQnJlYXN0LEJ1dHQsVnVsdmEsVnVsdmFQaWVyY2luZ3MiOiB7YWxsOiAiTWFzdHVyYmF0ZUhhbmQifX0sCiAgICAgICAgfSwKICAgICAgICBNQVBfWk9ORVM6IHsKICAgICAgICAgICAgIkl0ZW1Cb290cyI6ICAgICAgICAgIFsiZm9vdCIsICJmZWV0IiwgImJvb3QiLCAiYm9vdHMiLCAic2hvZSIsICJzaG9lcyIsICJ0b2VzIiwgInRvZW5haWxzIiwgInNvbGUiLCAic29sZXMiLCAiaGVlbCIsICJoZWVscyJdLAogICAgICAgICAgICAiSXRlbUZlZXQiOiAgICAgICAgICAgWyJsZWciLCAibGVncyIsICJhbmtsZSIsICJhbmtsZXMiXSwKICAgICAgICAgICAgIkl0ZW1MZWdzIjogICAgICAgICAgIFsiaGlwcyIsICJoaXAiLCAidGhpZ2hzIiwgInRoaWdoIl0sCiAgICAgICAgICAgICJJdGVtVnVsdmEiOiAgICAgICAgICBbInZ1bHZhIiwgInB1c3N5Il0sCiAgICAgICAgICAgICJJdGVtVnVsdmFQaWVyY2luZ3MiOiBbImNsaXQiLCAiY2xpdG9yaXMiXSwKICAgICAgICAgICAgIkl0ZW1CdXR0IjogICAgICAgICAgIFsiYnV0dCIsICJhc3MiXSwKICAgICAgICAgICAgIkl0ZW1QZWx2aXMiOiAgICAgICAgIFsidHVtbXkiLCAicGVsdmlzIl0sCiAgICAgICAgICAgICJJdGVtVG9yc28iOiAgICAgICAgICBbImJvZHkiLCAidG9yc28iLCAiYmFjayIsICJyaWJzIl0sCiAgICAgICAgICAgICJJdGVtQnJlYXN0IjogICAgICAgICBbImJyZWFzdCIsICJicmVhc3RzIiwgImJvb2IiLCAiYm9vYnMiLCAiYm9vYnkiLCAiYm9vYmllIiwgImJvb2JpZXMiLCAidGl0IiwgInRpdHMiLCAidGl0dHkiLCAidGl0dGllIiwgInRpdHRpZXMiXSwKICAgICAgICAgICAgIkl0ZW1OaXBwbGVzIjogICAgICAgIFsibmlwIiwgIm5pcHMiLCAibmlwcGxlIiwgIm5pcHBsZXMiXSwKICAgICAgICAgICAgIkl0ZW1IYW5kcyI6ICAgICAgICAgIFsiaGFuZCIsICJoYW5kcyIsICJmaW5nZXJzIiwgImZpbmdlcm5haWxzIiwgIm5haWxzIl0sCiAgICAgICAgICAgICJJdGVtQXJtcyI6ICAgICAgICAgICBbImFybSIsICJhcm1zIiwgImVsYm93IiwgImVsYm93cyJdLAogICAgICAgICAgICAiSXRlbU5lY2siOiAgICAgICAgICAgWyJuZWNrIl0sCiAgICAgICAgICAgICJJdGVtTW91dGgiOiAgICAgICAgICBbIm1vdXRoIiwgImxpcCIsICJsaXBzIiwgInRlZXRoIiwgInRvbmd1ZSIsICJnYWciLCAiY2hlZWsiLCAiY2hlZWtzIl0sCiAgICAgICAgICAgICJJdGVtTm9zZSI6ICAgICAgICAgICBbIm5vc2UiLCAibm9zdHJpbHMiXSwKICAgICAgICAgICAgIkl0ZW1FYXJzIjogICAgICAgICAgIFsiZWFyIiwgImVhcnMiLCAiZWFybG9iZSIsICJlYXJsb2JlcyJdLAogICAgICAgICAgICAiSXRlbUhlYWQiOiAgICAgICAgICAgWyJoZWFkIiwgImZhY2UiLCAiaGFpciIsICJleWVzIiwgImZvcmVoZWFkIl0sCiAgICAgICAgfSwKICAgICAgICBCQ01FX1RFU1RFUl9QQVRDSEVTOiBbCiAgICAgICAgICAgIFsvXlxeKCdzKT8oICk/L2csICJeU291cmNlQ2hhcmFjdGVyJDFcXHMrIl0sCiAgICAgICAgICAgIFsvKFteXFxdKVwkL2csICIkMVxcLj8kJCJdLAogICAgICAgIF0sCgogICAgICAgIGVuc3VyZTogZnVuY3Rpb24oZXJyb3IsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIGxldCByZXN1bHQgPSBjYWxsYmFjay5jYWxsKHRoaXMpCiAgICAgICAgICAgIGlmICghcmVzdWx0KSB0aHJvdyBlcnJvcgogICAgICAgICAgICByZXR1cm4ocmVzdWx0KQogICAgICAgIH0sCiAgICAgICAgY2FsY3VsYXRlX21hcHM6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aGlzLkRPX0RBVEEgPSB7dmVyYnM6IHt9LCB6b25lczoge319CiAgICAgICAgICAgIGZvciAobGV0IFt2ZXJicywgZGF0YV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5NQVBfQUNUSU9OUykpIHsKICAgICAgICAgICAgICAgIGxldCB1bndvdW5kID0ge30KICAgICAgICAgICAgICAgIGZvciAobGV0IFt6b25lcywgYWN0aW9uc10gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgYWxsID0gKGFjdGlvbnMuYWxsKSA/IGFjdGlvbnMuYWxsLnNwbGl0KCJ8IikgOiBbXQogICAgICAgICAgICAgICAgICAgIGxldCBwcm9jZXNzZWQgPSB7c2VsZjogKGFjdGlvbnMuc2VsZikgPyBhY3Rpb25zLnNlbGYuc3BsaXQoInwiKS5jb25jYXQoYWxsKSA6IGFsbCwgb3RoZXJzOiAoYWN0aW9ucy5vdGhlcnMpID8gYWN0aW9ucy5vdGhlcnMuc3BsaXQoInwiKS5jb25jYXQoYWxsKSA6IGFsbH0KICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB6b25lIG9mIHpvbmVzLnNwbGl0KCIsIikpIHVud291bmRbYEl0ZW0ke3pvbmV9YF0gPSBwcm9jZXNzZWQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAobGV0IHZlcmIgb2YgdmVyYnMuc3BsaXQoInwiKSkgdGhpcy5ET19EQVRBLnZlcmJzW3ZlcmJdID0gdW53b3VuZAogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAobGV0IFthZywgem9uZXNdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuTUFQX1pPTkVTKSkgZm9yIChsZXQgem9uZSBvZiB6b25lcykgdGhpcy5ET19EQVRBLnpvbmVzW3pvbmVdID0gYWcKICAgICAgICB9LAoKICAgICAgICBsb2c6IGZ1bmN0aW9uKGxldmVsLCBtc2cpIHtjb25zb2xlW2xldmVsXSgiTUJDSEM6ICIgKyBTdHJpbmcobXNnKSl9LAogCgogICAgICAgIGNpZDJjaGFyOiBmdW5jdGlvbihjaWQpIHsKICAgICAgICAgICAgY2lkID0gTnVtYmVyLnBhcnNlSW50KGNpZCkKICAgICAgICAgICAgaWYgKGNpZCA9PT0gd2luZG93LlBsYXllci5jaWQpIHJldHVybih3aW5kb3cuUGxheWVyKQogICAgICAgICAgICByZXR1cm4odGhpcy5lbnN1cmUoYGNoYXJhY3RlciAke2NpZH0gbm90IGZvdW5kIGluIHRoZSByb29tYCwgKCkgPT4gd2luZG93LkNoYXRSb29tQ2hhcmFjdGVyLmZpbmQoYyA9PiBjLmNpZCA9PT0gY2lkKSkpCiAgICAgICAgfSwKICAgICAgICBwb3MyY2hhcjogZnVuY3Rpb24ocG9zKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5pbihwb3MsIDAsIHdpbmRvdy5DaGF0Um9vbUNoYXJhY3Rlci5sZW5ndGggLSAxKSkgdGhyb3cgYGludmFsaWQgcG9zaXRpb24gJHtwb3N9YAogICAgICAgICAgICByZXR1cm4od2luZG93LkNoYXRSb29tQ2hhcmFjdGVyW3Bvc10pCiAgICAgICAgfSwKCiAgICAgICAgdGFyZ2V0MmNoYXI6IGZ1bmN0aW9uKHRhcmdldCkgeyAvLyB0YXJnZXQgc2hvdWxkIGJlIGxvd2Nhc2UKICAgICAgICAgICAgbGV0IGlucHV0ID0gdGFyZ2V0CiAgICAgICAgICAgIGlmICh0aGlzLmVtcHR5KHRhcmdldCkpIHJldHVybih3aW5kb3cuUGxheWVyKQogICAgICAgICAgICBsZXQgaW50ID0gTnVtYmVyLnBhcnNlSW50KHRhcmdldCkKICAgICAgICAgICAgdGFyZ2V0ID0gU3RyaW5nKHRhcmdldCkKICAgICAgICAgICAgbGV0IGZvdW5kID0gW10KICAgICAgICAgICAgaWYgKHRhcmdldC5zdGFydHNXaXRoKCI9IikpIHJldHVybih0aGlzLmNpZDJjaGFyKHRhcmdldC5zbGljZSgxKSkpCiAgICAgICAgICAgIGlmICh0YXJnZXQuc3RhcnRzV2l0aCgiPCIpIHx8IHRhcmdldC5zdGFydHNXaXRoKCI+IikpIHJldHVybih0aGlzLnJlbDJjaGFyKHRhcmdldCkpCiAgICAgICAgICAgIGlmICghaXNOYU4oaW50KSAmJiBpbnQudG9TdHJpbmcoKSA9PT0gdGFyZ2V0KSB7IC8vIHdlIGdvdCBhIG51bWJlcgogICAgICAgICAgICAgICAgaWYgKHRoaXMuaW4oaW50LCAwLCA5KSkgcmV0dXJuKHRoaXMucG9zMmNoYXIoaW50KSkKICAgICAgICAgICAgICAgIGlmICh0aGlzLmluKGludCwgMTEsIDE1KSkgcmV0dXJuKHRoaXMucG9zMmNoYXIoaW50IC0gMTEpKQogICAgICAgICAgICAgICAgaWYgKHRoaXMuaW4oaW50LCAyMSwgMjUpKSByZXR1cm4odGhpcy5wb3MyY2hhcihpbnQgLSAxNikpCiAgICAgICAgICAgICAgICBmb3VuZC5wdXNoKC4uLndpbmRvdy5DaGF0Um9vbUNoYXJhY3Rlci5maWx0ZXIoYyA9PiBjLmNpZC50b1N0cmluZygpLmluZGV4T2YodGFyZ2V0KSA+IC0xKSkKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGFyZ2V0LnN0YXJ0c1dpdGgoIkAiKSkgdGFyZ2V0ID0gdGFyZ2V0LnNsaWNlKDEpCiAgICAgICAgICAgIGZvdW5kLnB1c2goLi4ud2luZG93LkNoYXRSb29tQ2hhcmFjdGVyLmZpbHRlcihjID0+IGMuTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpLmluZGV4T2YodGFyZ2V0KSA+IC0xKSkKICAgICAgICAgICAgZm91bmQucHVzaCguLi53aW5kb3cuQ2hhdFJvb21DaGFyYWN0ZXIuZmlsdGVyKGMgPT4gYy5OaWNrbmFtZSAmJiAoYy5OaWNrbmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpLmluZGV4T2YodGFyZ2V0KSA+IC0xKSkpCiAgICAgICAgICAgIGxldCBtYXAgPSB7fQogICAgICAgICAgICBmb3VuZC5mb3JFYWNoKGMgPT4ge2lmICghbWFwW2MuY2lkXSkgbWFwW2MuY2lkXSA9IGN9ICkKICAgICAgICAgICAgZm91bmQgPSBPYmplY3QudmFsdWVzKG1hcCkKICAgICAgICAgICAgaWYgKGZvdW5kLmxlbmd0aCA8IDEpIHRocm93IGB0YXJnZXQgIiR7aW5wdXR9Ijogbm8gbWF0Y2hgCiAgICAgICAgICAgIGlmIChmb3VuZC5sZW5ndGggPiAxKSB0aHJvdyBgdGFyZ2V0ICIke2lucHV0fSI6IG11bHRpcGxlIG1hdGNoZXMgKCR7Zm91bmQubWFwKGMgPT4gYCR7Yy5jaWR9fCR7Yy5OYW1lfXwke2MuTmlja25hbWUgfHwgYy5OYW1lfWApLmpvaW4oIiwiKX0pYAogICAgICAgICAgICByZXR1cm4oZm91bmRbMF0pCiAgICAgICAgfSwKICAgICAgICBjaGFyMnRhcmdldHM6IGZ1bmN0aW9uKGNoYXIpIHsKICAgICAgICAgICAgbGV0IFtyZXN1bHQsIGNpZF0gPSBbbmV3IFNldCgpLCBjaGFyLmNpZC50b1N0cmluZygpXQogICAgICAgICAgICByZXN1bHQuYWRkKGNpZCkuYWRkKGA9JHtjaWR9YCkKICAgICAgICAgICAgdGhpcy50b2tlbmlzZShjaGFyLk5hbWUpLmZvckVhY2godCA9PiB7cmVzdWx0LmFkZCh0KTsgcmVzdWx0LmFkZChgQCR7dH1gKX0pCiAgICAgICAgICAgIGlmIChjaGFyLk5pY2tuYW1lKSB0aGlzLnRva2VuaXNlKGNoYXIuTmlja25hbWUpLmZvckVhY2godCA9PiB7cmVzdWx0LmFkZCh0KTsgcmVzdWx0LmFkZChgQCR7dH1gKX0pCiAgICAgICAgICAgIHJldHVybiByZXN1bHQKICAgICAgICB9LAoKICAgICAgICBzZW5kX2FjdGl2aXR5OiBmdW5jdGlvbihtc2cpIHsKICAgICAgICAgICAgbGV0IGRpY3QgPSBbe1RhZzogIk1JU1NJTkcgUExBWUVSIERJQUxPRzogIiwgVGV4dDogIlx1MjAwQyJ9XSAvLyB6ZXJvLXdpZHRoIG5vbi1qb2luZXIsIHVzZWQgdG8gYnJlYWsgdXAgbGlnYXR1cmVzLCBkb2VzIG5vdGhpbmcgaGVyZSwgYnV0IGFuIGVtcHR5IHN0cmluZyBpcyBhIGZhbHN5IHZhbHVlCiAgICAgICAgICAgIGxldCBjaWRzID0gbXNnLm1hdGNoKHRoaXMuUkVfQUNUX0NJRFMpCiAgICAgICAgICAgIGlmIChjaWRzKSB7CiAgICAgICAgICAgICAgICBtc2cgPSBtc2cucmVwbGFjZSh0aGlzLlJFX0FDVF9DSURTLCAiIikKICAgICAgICAgICAgICAgIGlmIChjaWRzWzFdKSBkaWN0LnB1c2godGhpcy5jaWQyZGljdCgiU291cmNlIiwgY2lkc1sxXSkpCiAgICAgICAgICAgICAgICBpZiAoY2lkc1syXSkgZGljdC5wdXNoKHRoaXMuY2lkMmRpY3QoIlRhcmdldCIsIGNpZHNbMl0pLCB0aGlzLmNpZDJkaWN0KCJEZXN0aW5hdGlvbiIsIGNpZHNbMl0pKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHdpbmRvdy5TZXJ2ZXJTZW5kKCJDaGF0Um9vbUNoYXQiLCB7VHlwZTogIkFjdGlvbiIsIENvbnRlbnQ6IG1zZywgRGljdGlvbmFyeTogZGljdH0pCiAgICAgICAgfSwKICAgICAgICByZWNlaXZlOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgIGxldCBjaGFyID0gdGhpcy5jaWQyY2hhcihkYXRhLlNlbmRlcikKICAgICAgICAgICAgaWYgKGNoYXIuSXNQbGF5ZXIoKSkgcmV0dXJuIHRydWUgLy8gdGhpcyBpcyBvdXIgb3duIG1lc3NhZ2UsIHNlbnQgYmFjayB0byB1cwogICAgICAgICAgICBsZXQgcGF5bG9hZCA9IHRoaXMuZW5zdXJlKCJFbXB0eSBtZXNzYWdlIiwgKCkgPT4gZGF0YS5EaWN0aW9uYXJ5WzBdKQogICAgICAgICAgICBzd2l0Y2ggKHBheWxvYWQudHlwZSkgewogICAgICAgICAgICBjYXNlICJncmVldGluZ3MiOiBjYXNlICJoZWxsbyI6CiAgICAgICAgICAgICAgICBjaGFyLk1CQ0hDID0gcGF5bG9hZC52YWx1ZQogICAgICAgICAgICAgICAgaWYgKCJncmVldGluZ3MiID09PSBwYXlsb2FkLnR5cGUpIHRoaXMuaGVsbG8oY2hhcikKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGRlZmF1bHQ6IC8vIGlmIHdlIGRvbid0IGtub3cgdGhlIHR5cGUgaXQgbWF5IGJlIGZyb20gYSBuZXdlciB2ZXJzaW9uCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICB9LAogICAgICAgIGhlbGxvOiBmdW5jdGlvbihjaGFyID0gbnVsbCkgewogICAgICAgICAgICBsZXQgcGF5bG9hZCA9IHt0eXBlOiAiZ3JlZXRpbmdzIiwgdmFsdWU6IHdpbmRvdy5QbGF5ZXIuTUJDSEN9CiAgICAgICAgICAgIGlmIChjaGFyKSBwYXlsb2FkLnR5cGUgPSAiaGVsbG8iCiAgICAgICAgICAgIGxldCBtZXNzYWdlID0ge0NvbnRlbnQ6ICJNQkNIQyIsIFR5cGU6ICJIaWRkZW4iLCBEaWN0aW9uYXJ5OiBbcGF5bG9hZF19CiAgICAgICAgICAgIGlmIChjaGFyKSBtZXNzYWdlLlRhcmdldCA9IGNoYXIuY2lkCiAgICAgICAgICAgIHdpbmRvdy5TZXJ2ZXJTZW5kKCJDaGF0Um9vbUNoYXQiLCBtZXNzYWdlKQogICAgICAgIH0sCgogICAgICAgIHBsYXllcl9lbnRlcnNfcm9vbTogZnVuY3Rpb24oKSB7IC8vIG9yIGlmIHRoZSBtb2QgaXMgbG9hZGVkIHdoaWxlIHBsYXllciBpcyBpbiB0aGUgcm9vbQogICAgICAgICAgICB0aGlzLmhlbGxvKCkKICAgICAgICB9LAoKICAgICAgICB1cGRhdGVfY2hhcjogZnVuY3Rpb24oY2hhcikgewogICAgICAgICAgICBjaGFyLmNpZCA9IGNoYXIuTWVtYmVyTnVtYmVyIC8vIENsdWIgSUQgKHNob3J0ZXIpCiAgICAgICAgICAgIGNoYXIuZG4gPSB3aW5kb3cuQ2hhcmFjdGVyTmlja25hbWUoY2hhcikgLy8gRGlzcGxheU5hbWUgKHNob3J0Y3V0KQogICAgICAgICAgICBpZiAoIWNoYXIuTUJDSENfTE9DQUwpIGNoYXIuTUJDSENfTE9DQUwgPSB7fQogICAgICAgIH0sCgoKICAgICAgICBsb2FkZXIoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnJlbW92ZV9sb2FkX2hvb2spIHsKICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlX2xvYWRfaG9vaygpCiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5yZW1vdmVfbG9hZF9ob29rCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMuTE9BREVEKSByZXR1cm4KICAgICAgICAgICAgLy8gQ2FsY3VsYXRlZCB2YWx1ZXMKICAgICAgICAgICAgY29uc3QgQ09NTUFORFMgPSBbCiAgICAgICAgICAgICAgICB7IFRhZzogIm1iY2hjIiwgRGVzY3JpcHRpb246ICI6IFV0aWxpdHkgZnVuY3Rpb25zIChcIi9tYmNoY1wiIGZvciBoZWxwKSIsIEFjdGlvbjogdGhpcy5jb21tYW5kX21iY2hjLCBBdXRvQ29tcGxldGU6IHRoaXMuY29tcGxldGVfbWJjaGMgfSwKICAgICAgICAgICAgICAgIHsgVGFnOiAiYWN0aXZpdHkiLCBEZXNjcmlwdGlvbjogIltNZXNzYWdlXTogU2VuZCBhIGN1c3RvbSBhY3Rpdml0eSAob3IgXCJAQE1lc3NhZ2VcIiwgb3IgXCJATWVzc2FnZVwiIGFzIHlvdXJzZWxmKSIsIEFjdGlvbjogdGhpcy5jb21tYW5kX2FjdGl2aXR5IH0sCiAgICAgICAgICAgICAgICB7IFRhZzogImRvIiwgRGVzY3JpcHRpb246ICI6IERvIGFuIGFjdGl2aXR5LCBhcyBpZiBjbGlja2VkIG9uIGl0cyBidXR0b24gKFwiL2RvXCIgZm9yIGhlbHApIiwgQWN0aW9uOiB0aGlzLmNvbW1hbmRfZG8sIEF1dG9Db21wbGV0ZTogdGhpcy5jb21wbGV0ZV9kbyB9LAogICAgICAgICAgICBdCiAgICAgICAgICAgIHRoaXMuSElERV9BTEwgPSB0aGlzLkhJREVfU1BFQ0lBTC5jb25jYXQodGhpcy5ISURFX0JPRFkpLmNvbmNhdCh0aGlzLkhJREVfQ0xPVEhFUykuY29uY2F0KHRoaXMuSElERV9JVEVNUykKICAgICAgICAgICAgdGhpcy5Db21tYW5kc0tleSA9IENvbW1hbmRzS2V5IC8qIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYgKi8gLy8gd2luZG93LkNvbW1hbmRzS2V5IGlzIHVuZGVmaW5lZAogICAgICAgICAgICB0aGlzLlJFX0FDVElWSVRZID0gUmVnRXhwKGBeJHt0aGlzLkNvbW1hbmRzS2V5fWFjdGl2aXR5IGApCiAgICAgICAgICAgIHRoaXMuUFJFRl9BQ1RJVklUWSA9IGAke3RoaXMuQ29tbWFuZHNLZXl9YWN0aXZpdHkgYAogICAgICAgICAgICB0aGlzLkNPTVBfSElOVCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpCiAgICAgICAgICAgIHRoaXMuQ09NUF9ISU5ULmlkID0gIm1iY2hjQ29tcEhpbnQiCiAgICAgICAgICAgIGxldCBjc3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpCiAgICAgICAgICAgIGNzcy50eXBlID0gInRleHQvY3NzIgogICAgICAgICAgICBjc3MudGV4dENvbnRlbnQgPSBgCiAgICAgICAgICAgICAgICAjVGV4dEFyZWFDaGF0TG9nIC5tYmNoYywgI1RleHRBcmVhQ2hhdExvZyAubWJjaGMgewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhpcy5SR0JfUE9MTFl9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgI1RleHRBcmVhQ2hhdExvZ1tkYXRhLWNvbG9ydGhlbWU9ImRhcmsiXSAubWJjaGMsICNUZXh0QXJlYUNoYXRMb2dbZGF0YS1jb2xvcnRoZW1lPSJkYXJrMiJdIC5tYmNoYyB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLlJHQl9NVVRFfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICMke3RoaXMuQ09NUF9ISU5ULmlkfSB7CiAgICAgICAgICAgICAgICAgICAgZmxleC1mbG93OiBjb2x1bW4gd3JhcDsKICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogYXV0bzsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhpcy5SR0JfUE9MTFl9OwogICAgICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICMke3RoaXMuQ09NUF9ISU5ULmlkfVtkYXRhLWNvbG9ydGhlbWU9ImRhcmsiXSwgIyR7dGhpcy5DT01QX0hJTlQuaWR9W2RhdGEtY29sb3J0aGVtZT0iZGFyazIiXSB7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLlJHQl9NVVRFfTsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAjJHt0aGlzLkNPTVBfSElOVC5pZH0gZGl2IHsKICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDAgMC41ZXg7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGAKICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChjc3MpCiAgICAgICAgICAgIC8vIEFjdGlvbnMKICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVfbWFwcygpCiAgICAgICAgICAgIHdpbmRvdy5QbGF5ZXIuTUJDSEMgPSB7VkVSU0lPTjogdGhpcy5WRVJTSU9OfQogICAgICAgICAgICB3aW5kb3cuQ29tbWFuZENvbWJpbmUoQ09NTUFORFMpCgogICAgICAgICAgICAvLyBIb29rcwogICAgICAgICAgICB0aGlzLmFmdGVyKCJDaGFyYWN0ZXJPbmxpbmVSZWZyZXNoIiwgY2hhciA9PiB0aGlzLnVwZGF0ZV9jaGFyKGNoYXIpKQogICAgICAgICAgICB0aGlzLmFmdGVyKCJDaGF0Um9vbVJlY2VpdmVTdWl0Y2FzZU1vbmV5IiwgKCkgPT4gewogICAgICAgICAgICAgIGlmICh0aGlzLkFVVE9IQUNLX0VOQUJMRUQgJiYgdGhpcy5MQVNUX0hBQ0tFRCkgewogICAgICAgICAgICAgICAgIHdpbmRvdy5DdXJyZW50Q2hhcmFjdGVyID0gdGhpcy5jaWQyY2hhcih0aGlzLkxBU1RfSEFDS0VEKQogICAgICAgICAgICAgICAgIHRoaXMuTEFTVF9IQUNLRUQgPSBudWxsCiAgICAgICAgICAgICAgICAgd2luZG93LkNoYXRSb29tVHJ5VG9UYWtlU3VpdGNhc2UoKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IERFVl9XUkVOQ0hfTE9OR19JTUcgPSAiaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy83ODE3NDkyMjkzMzE5MzkzMjgvMTA5MTQyOTM2ODg2MzEzNzg2My8zMDNlYWQxODVhZGU0OGFmLnBuZz93aWR0aD02MCZoZWlnaHQ9NjAiOwogICAgICAgICAgICBjb25zdCBERVZfV1JFTkNIX1NIT1JUX0lNRyA9ICJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDkxNDI5MzU3NjAxNDQzODkwL2Y5YjhhODgyM2Y4ZjYyMTMucG5nP3dpZHRoPTEwMCZoZWlnaHQ9MTAwIjsKICAgICAgICAgICAgY29uc3QgUkdCX1BPTExZX0lNRyA9ICJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzc4MTc0OTIyOTMzMTkzOTMyOC8xMDkwOTIyOTM2MTQxMDk5MDg4L2ltYWdlXzEucG5nIjsKICAgICAgICAgICAgY29uc3QgUkdCX01VVEVfSU1HID0gImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvNzgxNzQ5MjI5MzMxOTM5MzI4LzEwOTA5MjU4NzczMDg2OTg2OTUvNjgxYTM4NDg1NTlhYjYzYS5wbmciOwogICAgICAgICAgICBjb25zdCBSR0JfUE9MTFlfTE9OR19JTUcgPSAiaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy83ODE3NDkyMjkzMzE5MzkzMjgvMTA5MDkzOTY1MjYzNjE1MTgyOC9pbWFnZV8xX2NvcHlfMi5wbmc/d2lkdGg9NjAmaGVpZ2h0PTU4IjsKICAgICAgICAgICAgY29uc3QgUkdCX01VVEVfTE9OR19JTUcgPSAiaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy83ODE3NDkyMjkzMzE5MzkzMjgvMTA5MDk0MDAyNjc5NzQyNDY1MC9hZThhNzNiMjg1MTg0YTkxLnBuZz93aWR0aD02MCZoZWlnaHQ9NTgiOwogICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy5iZWZvcmUoIkNoYXRSb29tRHJhd0NoYXJhY3Rlck92ZXJsYXkiLCAoQywgQ2hhclgsIENoYXJZLCBab29tLCBQb3MpID0+IHsKICAgICAgICAgICAgICBpZiAod2luZG93LkNoYXRSb29tSGlkZUljb25TdGF0ZSA8IDEgJiYgKEMuTWVtYmVyTnVtYmVyID09PSAxMTIwNDYgfHwgQy5NZW1iZXJOdW1iZXIgPT09IDExMzM4MykgJiYgQy5NQkNIQyAmJiB3aW5kb3cuRHJhd1JlY3QpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGljb25JbWcgPSAoQ2hhdFJvb21DaGFyYWN0ZXIubGVuZ3RoIDw9IDMpID8gREVWX1dSRU5DSF9TSE9SVF9JTUcgOiBERVZfV1JFTkNIX0xPTkdfSU1HOwogICAgICAgICAgICAgICAgd2luZG93LkRyYXdJbWFnZShpY29uSW1nLCBDaGFyWCArIDE3NSAqIFpvb20sIENoYXJZLCA1MCAqIFpvb20sIDUwICogWm9vbSk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuQ2hhdFJvb21IaWRlSWNvblN0YXRlIDwgMSAmJiBDLk1CQ0hDICYmIHdpbmRvdy5EcmF3UmVjdCkgewogICAgICAgICAgICAgICAgbGV0IGljb25JbWc7CiAgICAgICAgICAgICAgICBpZiAoQy5NQkNIQy5WRVJTSU9OID09PSB3aW5kb3cuUGxheWVyLk1CQ0hDLlZFUlNJT04pIHsKICAgICAgICAgICAgICAgICAgaWNvbkltZyA9IChDLk1lbWJlck51bWJlciA9PT0gMTEyMDQ2IHx8IEMuTWVtYmVyTnVtYmVyID09PSAxMTMzODMpID8gREVWX1dSRU5DSF9MT05HX0lNRyA6IChDaGF0Um9vbUNoYXJhY3Rlci5sZW5ndGggPD0gMykgPyBSR0JfUE9MTFlfSU1HIDogUkdCX1BPTExZX0xPTkdfSU1HOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgaWNvbkltZyA9IChDaGF0Um9vbUNoYXJhY3Rlci5sZW5ndGggPD0gMykgPyBSR0JfTVVURV9JTUcgOiBSR0JfTVVURV9MT05HX0lNRzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdpbmRvdy5EcmF3SW1hZ2UoaWNvbkltZywgQ2hhclggKyAxNzUgKiBab29tLCBDaGFyWSwgNTAgKiBab29tLCA1MCAqIFpvb20pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAod2luZG93LkNoYXRSb29tSGlkZUljb25TdGF0ZSA8IDEgJiYgQy5NQkNIQ19MT0NBTCAmJiAibnVtYmVyIiA9PT0gdHlwZW9mIEMuTUJDSENfTE9DQUwuVFopIHsKICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJzID0gbmV3IERhdGUod2luZG93LkNvbW1vblRpbWUoKSArIHRoaXMuVVRDX09GRlNFVCArIEMuTUJDSENfTE9DQUwuVFogKiA2MCAqIDYwICogMTAwMCkuZ2V0SG91cnMoKTsKICAgICAgICAgICAgICAgIHdpbmRvdy5EcmF3VGV4dEZpdChob3VycyA8IDEwID8gIjAiICsgaG91cnMudG9TdHJpbmcoKSA6IGhvdXJzLnRvU3RyaW5nKCksIENoYXJYICsgMjAwICogWm9vbSwgQ2hhclkgKyAyNSAqIFpvb20sIDQ2ICogWm9vbSwgIndoaXRlIiwgImJsYWNrIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgCgoKCiAgICAgICAgICAgIC8vIENoYXQgcm9vbSBoYW5kbGVycwoKICAgICAgICAgICAgd2luZG93LkNoYXRSb29tUmVnaXN0ZXJNZXNzYWdlSGFuZGxlcih7IFByaW9yaXR5OiAtMjE5LCBEZXNjcmlwdGlvbjogIkJDTUUgcm9vbSBlbnRlciBob29rIiwKICAgICAgICAgICAgICAgIENhbGxiYWNrOiAoZGF0YSwgc2VuZGVyLCBtc2csIG1ldGFkYXRhKSA9PiB7IGlmICgoIkFjdGlvbiIgPT09IGRhdGEuVHlwZSkgJiYgKCJTZXJ2ZXJFbnRlciIgPT09IGRhdGEuQ29udGVudCkgJiYgKGRhdGEuU2VuZGVyID09PSB3aW5kb3cuUGxheWVyLmNpZCkpIHRoaXMucGxheWVyX2VudGVyc19yb29tKCkgfQogICAgICAgICAgICB9KQogICAgICAgICAgICB3aW5kb3cuQ2hhdFJvb21SZWdpc3Rlck1lc3NhZ2VIYW5kbGVyKHsgUHJpb3JpdHk6IC0yMTksIERlc2NyaXB0aW9uOiAiQkNNRSBzcGVjaWZpYyBjb25zdW1lciIsCiAgICAgICAgICAgICAgICBDYWxsYmFjazogKGRhdGEsIHNlbmRlciwgbXNnLCBtZXRhZGF0YSkgPT4geyBpZiAoKCJIaWRkZW4iID09PSBkYXRhLlR5cGUpICYmICgiTUJDSEMiID09PSBkYXRhLkNvbnRlbnQpKSByZXR1cm4gdGhpcy5yZWNlaXZlKGRhdGEpIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgd2luZG93LkNoYXRSb29tUmVnaXN0ZXJNZXNzYWdlSGFuZGxlcih7IFByaW9yaXR5OiAtMjE5LCBEZXNjcmlwdGlvbjogIkJDTUUgYXV0b2hhY2sgbG9va3VwIiwKICAgICAgICAgICAgICAgIENhbGxiYWNrOiAoZGF0YSwgc2VuZGVyLCBtc2csIG1ldGFkYXRhKSA9PiB7IGlmICgoIkhpZGRlbiIgPT09IGRhdGEuVHlwZSkgJiYgKCJSZWNlaXZlU3VpdGNhc2VNb25leSIgPT09IGRhdGEuQ29udGVudCkpIHRoaXMuTEFTVF9IQUNLRUQgPSBkYXRhLlNlbmRlciB9CiAgICAgICAgICAgIH0pCgogICAgICAgICAgICAvLyBmb290ZXIKICAgICAgICAgICAgdGhpcy5MT0FERUQgPSB0cnVlCiAgICAgICAgICAgIHRoaXMubG9nKCJpbmZvIiwgYGxvYWRlZCB2ZXJzaW9uICR7dGhpcy5WRVJTSU9OfWApCiAgICAgICAgICAgIGlmICh3aW5kb3cuR2FtZVZlcnNpb24gIT09IHRoaXMuVEFSR0VUX1ZFUlNJT04pIHRoaXMubG9nKCJ3YXJuIiwgYEdhbWUgdmVyc2lvbiBkb2Vzbid0IG1hdGNoIHRoZSB0YXJnZXQgKCIke3RoaXMuVEFSR0VUX1ZFUlNJT059IiksIGJld2FyZSBvZiBpbmNvbXBhdGliaWxpdGllc2ApIC8vIFRPRE86IGJldGFzIGFyZSBsaWtlIFI4NkJldGExOyBjaGVhdD8KICAgICAgICAgICAgaWYgKCgiT25saW5lIiA9PT0gd2luZG93LkN1cnJlbnRNb2R1bGUpICYmICgiQ2hhdFJvb20iID09PSB3aW5kb3cuQ3VycmVudFNjcmVlbikpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5DaGF0Um9vbUNoYXJhY3Rlci5mb3JFYWNoKGMgPT4gdGhpcy51cGRhdGVfY2hhcihjKSkKICAgICAgICAgICAgICAgIHRoaXMucGxheWVyX2VudGVyc19yb29tKCkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcHJlbG9hZGVyKCkgewogICAgICAgICAgICB0aGlzLlNESyA9IHdpbmRvdy5iY01vZFNkay5yZWdpc3Rlck1vZCh7bmFtZToiQkNNRSIsZnVsbE5hbWU6IkJvbmRhZ2UgQ2x1YiBNb2RzIEVzc2VudGlhbHMiLHZlcnNpb246dGhpcy5WRVJTSU9OLHJlcG9zaXRvcnk6Imh0dHBzOi8vYmNtLnNpdGUubGl2ZS9iY21lLyJ9KQogICAgICAgICAgICB0aGlzLmJlZm9yZSA9IChuYW1lLCBjYikgPT4gdGhpcy5TREsuaG9va0Z1bmN0aW9uKG5hbWUsIDAsIChuZXh0YXJncyxuZXh0KSA9PiB7dHJ5IHtjYj8uKC4uLm5leHRhcmdzKX0gY2F0Y2ggKHgpIHtjb25zb2xlLmVycm9yKHgpfSBmaW5hbGx5IHtyZXR1cm4gbmV4dChuZXh0YXJncyl9fSkKICAgICAgICAgICAgdGhpcy5hZnRlciA9IChuYW1lLCBjYikgPT4gdGhpcy5TREsuaG9va0Z1bmN0aW9uKG5hbWUsIDAsIChuZXh0YXJncyxuZXh0KSA9PiB7Y29uc3QgcmVzdWx0ID0gbmV4dChuZXh0YXJncyk7IHRyeSB7Y2I/LiguLi5uZXh0YXJncyl9IGNhdGNoICh4KSB7Y29uc29sZS5lcnJvcih4KX0gZmluYWxseSB7cmV0dXJuIHJlc3VsdH19KQogICAgICAgICAgICBpZiAod2luZG93LkN1cnJlbnRNb2R1bGUgJiYgd2luZG93LkN1cnJlbnRTY3JlZW4gJiYgISgiQ2hhcmFjdGVyIiA9PT0gd2luZG93LkN1cnJlbnRNb2R1bGUgJiYgIkxvZ2luIiA9PT0gd2luZG93LkN1cnJlbnRTY3JlZW4pKSByZXR1cm4gdGhpcy5sb2FkZXIoKQogICAgICAgICAgICB0aGlzLnJlbW92ZV9sb2FkX2hvb2sgPSB0aGlzLmJlZm9yZSgiQXN5bHVtR0dUU1NBZGRJdGVtcyIsICgpID0+IHRoaXMubG9hZGVyKCkpCiAgICAgICAgfQogICAgfSAvLyBNQkNIQwoKICAgIGZldGNoKCJodHRwczovL2NvZGUuZmxlc2hsZXNzLm9yZy9tdXRlL01CQ0hDL3Jhdy9icmFuY2gvbWFzdGVyL2JvbmRhZ2UtY2x1Yi1tb2Qtc2RrLTEuMS4wLmpzIikudGhlbihyPT5yLnRleHQoKSkudGhlbihyPT5ldmFsKHIpKS50aGVuKF89PndpbmRvdy5CQ01FLnByZWxvYWRlcigpKS5jYXRjaCh4PT5jb25zb2xlLmVycm9yKHgpKSAvKiBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV2YWwgKi8KfSkoKQ==')
if (sprc) {
eval(sprc);
}
/*
7
*/
